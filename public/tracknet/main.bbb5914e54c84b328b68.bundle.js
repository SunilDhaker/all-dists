webpackJsonp([0,5],{"+FUQ":function(e,t,i){"use strict";var n=i("3j3K");i.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.view="",this.view=document.view,console.log(this.view)}return e.prototype.ngOnInit=function(){},e}();s=o([i.i(n.Component)({selector:"app-vehicle-dashboard",template:i("bc0b"),styles:[i("5XKy")]}),r("design:paramtypes",[])],s)},"+XE9":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".profile-container{margin:-8px -9px 10px -6px}.profile-container,.profile-container-desktop{position:relative;height:150px;background-image:url("+i("J9Wk")+")}.profile-container-desktop{width:280px;margin-top:-8px}.logo{padding:2px;background-color:#a9a9a9;width:90%;width:27%;float:right}.org-list-element{margin-bottom:5px;border-bottom:1px solid #f0f8ff;padding:3px}.org-list-element:hover{background-color:#dfe9ff}.profile-pic{position:absolute;left:10px;top:18px;background-size:cover;height:60px;width:60px;background-color:#f5f5f5;border-radius:50%;background-repeat:no-repeat;background-position:50%}.user-org-details{position:absolute;bottom:5px;right:5px}.org-list{overflow:auto;z-index:1;width:95%;height:calc(100vh - 160px);background-color:#fff;position:absolute}.align-center{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.modal{position:fixed;z-index:6;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;top:20%}.close{color:#aaa;float:right;font-size:28px;font-weight:700}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}",""]),e.exports=e.exports.toString()},"+Y5r":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("Pgz3"),s=i("OCFR"),a=i("5J2v"),l=i("tGq5"),c=i("CihD"),d=i("Ths4"),p=(i.n(d),i("fYnu")),u=i("OMJi");i.n(u);i.d(t,"a",function(){return f});var h=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t,i,n,o,r){var s=this;this._store=e,this._services=t,this.alertsService=i,this.tripServices=n,this.localStorageService=o,this.snackBar=r,this.eventList=["Vehicle Stop Event","Periodic Alert","Power disconnected"],this.actionsList=["Email Notification","SMS Notification"],this.hours=[],this.minutes=[],this.selectedEvent="",this.selectedDurationOperator="",this.selecetdDurationTime=0,this.emailId="",this.mobileno="",this.selectedAction="",this.notificationAction="",this.receipient="",this.stopTypeSelect="",this.durationTime="",this.durationType="",this.stopFieldDurationTime="",this.durationTimeUnit="",this.locationProximity="",this.locationProximityOperator="",this.editVehicleList=[],this.locationProximityLength="",this.distanceUnit="",this.proximityUnit="",this.movementProximityDistance="",this.toHour="",this.toMin="",this.fromHour="",this.fromMin="",this.periodicDistanceOperator="",this.periodicDistance=0,this.periodicDistanceUnit="",this.insideLocationName="",this.insideLocationBoundString="",this.insideLocationObj={},this.proximityLocationName="",this.proximityLocationBoundString="",this.runningDurationOperator="",this.runningDuration=0,this.stopDurationOperator="",this.stopDuration=0,this.disconnectDuration=0,this.snoozeTime=1,this.snoozeTimeUnit="hours",this.conditionTime="",this.selectedProximityLocation="",this.uuid="",this.finalSnoozeTime=0,this.windowTimeDuration=0,this.finalWindowTimeDuration=0,this.isEventSelected=!1,this.isShowEvent=!0,this.isShowFields=!1,this.isShowActions=!1,this.isShowAddVehicles=!1,this.isFieldsFilled=!1,this.isActionsFilled=!1,this.showMapLocation=!1,this.isShowDistancePeriodic=!1,this.isShowRunningDuration=!1,this.isShowStopDuration=!1,this.isShowDisconnectDuration=!1,this.showInsideAddressList=!1,this.showProximityAddressList=!1,this.isModalShown=!1,this.isParameterModalShown=!1,this.isLocationModalShown=!1,this.stopEventParameters=["Location & Proximity"],this.movementEventParameters=["Distance","Time"],this.periodicEventParameters=["Distance Travelled","Running Duration","Stop Duration","Disconnect Duration"],this.gpsDisconectParameters=["Time"],this.isShowTimeField=!1,this.isShowProximityField=!1,this.isShowTypeField=!1,this.isShowDistanceField=!1,this.waitForLastResp=!1,this.forEdit=!1,this.filedLocationObj={},this.vehicles=[],this.locationNameList=[],this.unSub_PickedVehicles=null,this.unSub_AlertsFieldDetails=null,this.unSub_searchName=null,this.unSub_createdServiceResponse=null,this.unSub_customerDetails=null,this.unSub_editSelecetdAlert=null,this.typeOfLocationCreator={type:""},this.unSub_InsideLocation=null,this.unSub_ProximityLocation=null,this._store.dispatch({type:"TITLE",payload:"Add Alerts"}),this.uuid="",this.unSub_PickedVehicles=e.select("PickedVehicles").subscribe(function(e){console.log(e),s.vehicleList=e,s.vehicles=[];for(var t=0;t<s.vehicleList.length;t++)s.vehicles.push(s.vehicleList[t].uuid);console.log(s.vehicles)}),this.unSub_customerDetails=this._store.select("customerDetails").subscribe(function(e){console.log("customer datails in alerts"),console.log(e),null!=e&&(s.customerId=e.customer.orgId)}),this.unSub_createdServiceResponse=e.select("alertsCreatedServiceResponse").subscribe(function(e){null!=e&&(console.log("Create Alert Response"),console.log(e),200==e.status&&(1==s.forEdit?s.openSnackBar("Alert Updated Successfully!"):s.openSnackBar("Alert Created Successfully!"),s.goBack()),console.log(e))}),this.unSub_PickedVehicles=e.select("configAlertFieldLocation").subscribe(function(e){console.log(e),s.filedLocationObj=e,s.filedLocationObj!=={}&&(s.showMapLocation=!1),console.log(s.filedLocationObj)}),this.unSub_editSelecetdAlert=e.select("selectedAlertForEdit").subscribe(function(e){null!=e&&(console.log(e),s.editAlert(e))}),this.unSub_searchName=e.select("searchLocationName").subscribe(function(e){if(null!=e&&(s.locationNameList=[],200==e.status&&(console.log(e),s.waitForLastResp=!1,e.data.length>0))){for(var t=[],i=0;i<e.data.length;i++){var n={name:e.data[i].freightLocation.name,locObj:e.data[i]};t.push(n)}s.locationNameList=t}}),this.unSub_AlertsFieldDetails=e.select("selecetdProximityLocation").subscribe(function(e){null!=e&&(console.log(e),s.proximityLocationName=e.name,s.showProximityAddressList=!1)}),this.unSub_InsideLocation=e.select("selectedInsideLocation").subscribe(function(e){null!=e&&(console.log(e),s.insideLocationName=e.name,s.showInsideAddressList=!1)})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_PickedVehicles&&null!=this.unSub_PickedVehicles&&void 0!=this.unSub_PickedVehicles&&this.unSub_PickedVehicles.unsubscribe(),void 0!==this.unSub_PickedVehicles&&null!=this.unSub_PickedVehicles&&void 0!=this.unSub_PickedVehicles&&this.unSub_PickedVehicles.unsubscribe(),void 0!==this.unSub_searchName&&null!=this.unSub_searchName&&void 0!=this.unSub_searchName&&this.unSub_PickedVehicles.unsubscribe(),void 0!==this.unSub_createdServiceResponse&&null!=this.unSub_createdServiceResponse&&void 0!=this.unSub_createdServiceResponse&&this.unSub_createdServiceResponse.unsubscribe(),void 0!==this.unSub_editSelecetdAlert&&null!=this.unSub_editSelecetdAlert&&void 0!=this.unSub_editSelecetdAlert&&this.unSub_editSelecetdAlert.unsubscribe()},e.prototype.ngOnInit=function(){for(var e,t="0",i=0;i<24;i++)e=i<10?t+i:i,this.hours.push(e);for(var n=0;n<60;n++)e=n<10?t+n:n,this.minutes.push(e)},e.prototype.selectEvent=function(){console.log(this.selectedEvent),""!=this.selectedEvent&&("Power disconnected"==this.selectedEvent?(this.isEventSelected=!0,this.isShowEvent=!this.isShowEvent,this.isShowFields=!1,this.isFieldsFilled=!0,this.isShowActions=!0):(this.isEventSelected=!0,this.isShowEvent=!this.isShowEvent,this.isShowFields=!0))},e.prototype.undoSelectEvent=function(){this.isEventSelected=!1,this.isShowEvent=!this.isShowEvent,this.isShowFields=!1,this.isModalShown=!1},e.prototype.saveFields=function(){this.isShowFields=!1,this.isFieldsFilled=!0,this.isShowActions=!0},e.prototype.undoSaveFields=function(){"Power disconnected"==this.selectedEvent&&(this.isShowActions=!1,this.isShowFields=!this.isShowFields,this.isFieldsFilled=!1,this.isActionsFilled=!1,this.isEventSelected=!1,this.isShowEvent=!this.isShowEvent,this.isModalShown=!1),this.isShowFields=!this.isShowFields,this.isShowActions=!this.isShowActions,this.isFieldsFilled=!1},e.prototype.saveActions=function(){},e.prototype.showModal=function(){this.isModalShown=!0},e.prototype.showParameterModal=function(){this.isParameterModalShown=!0},e.prototype.showParams=function(e){console.log(e),"Time"==e&&(this.isShowTimeField=!0),"Location & Proximity"==e&&(this.isShowProximityField=!0),"Stop Type"==e&&(this.isShowTypeField=!0),"Distance"==e&&(this.isShowDistanceField=!0),"Distance Travelled"==e&&(this.isShowDistancePeriodic=!0),"Running Duration"==e&&(this.isShowRunningDuration=!0),"Stop Duration"==e&&(this.isShowStopDuration=!0),"Disconnect Duration"==e&&(this.isShowDisconnectDuration=!0)},e.prototype.checkDuration=function(){console.log("this.stopFieldDurationTime"),console.log(this.stopFieldDurationTime)},e.prototype.setTimeHours=function(){var e="";e=this.fromHour+":"+this.fromMin+" hrs to "+this.toHour+":"+this.toMin+" hrs",this.durationTime=e,console.log(this.durationTime),this.isModalShown=!1},e.prototype.saveAction=function(){""!==this.selectedAction&&(console.log(this.selectedAction),this.isShowActions=!1,this.isActionsFilled=!0,this.isShowAddVehicles=!0)},e.prototype.undoSaveAction=function(){""!==this.selectedEvent&&""==this.selectedEvent&&(this.isShowFields=!0,this.isActionsFilled=!1,this.isShowActions=!1)},e.prototype.goToAddLocation=function(e){this.showMapLocation=!0;var t={caller:e};this._store.dispatch({type:"TRIP_ADDRESS_TYPE",payload:t});var i={selectedEvent:this.selectedEvent,selectedDuration:this.selecetdDurationTime,durationTimeUnit:this.durationTimeUnit,timePeriod:this.stopFieldDurationTime,timeDuration:this.durationTime,proximity:this.locationProximity,proximityLength:this.locationProximityLength,proximityUnit:this.proximityUnit,stopType:this.stopTypeSelect};this._store.dispatch({type:"SAVE_DETAILS_CONFIG_ALERT",payload:i})},e.prototype.saveVehicles=function(){if("Email Notification"==this.selectedAction&&(this.notificationAction="EMAIL",this.receipient=this.emailId),"SMS Notification"==this.selectedAction&&(this.notificationAction="SMS",this.receipient=this.mobileno),"min"==this.snoozeTimeUnit&&(this.finalSnoozeTime=60*this.snoozeTime*1e3,console.log(this.finalSnoozeTime)),"hours"==this.snoozeTimeUnit&&(this.finalSnoozeTime=60*this.snoozeTime*60*1e3),"Power disconnected"==this.selectedEvent&&this.powerDisconnectAlert(),"Periodic Alert"==this.selectedEvent){var e="",t="",i="",n="",o="",r="";if(this.windowTimeDuration>0){t=" in last "+this.windowTimeDuration+" hours.",this.finalWindowTimeDuration=60*this.windowTimeDuration*60*1e3}if(this.periodicDistance>0){var s=this.periodicDistance;"km"==this.periodicDistanceUnit&&(this.periodicDistance=1e3*this.periodicDistance),"m"==this.periodicDistanceUnit&&(this.periodicDistance=this.periodicDistance),"GT"==this.periodicDistanceOperator&&(i=", Covered more than "),"LT"==this.periodicDistanceOperator&&(i=", Covered less than "),i=i+s+this.periodicDistanceUnit}this.runningDuration>0&&("GT"==this.runningDurationOperator&&(n=", Moved more than "),"LT"==this.runningDurationOperator&&(n=", Moved less than "),n=n+this.runningDuration+" hours",this.runningDuration=60*this.runningDuration*60*1e3),this.stopDuration>0&&("GT"==this.stopDurationOperator&&(o=", Stopped for more than "),"LT"==this.stopDurationOperator&&(o=", Stopped for less than "),o=o+this.stopDuration+" hours",this.stopDuration=60*this.stopDuration*60*1e3),this.disconnectDuration>0&&(r=", was disconnected for more than ",r=r+this.disconnectDuration+" hours",this.disconnectDuration=60*this.disconnectDuration*60*1e3),""!==i&&(e+=i),""!==n&&(e+=n),""!==o&&(e+=o),""!==r&&(e+=r),e+=t,console.log(e),this.periodicAlert(e)}if("Vehicle Stop Event"==this.selectedEvent){var a=", is Stopped ",l=this.durationTimeUnit,s=this.selecetdDurationTime;"Min"==this.durationTimeUnit&&(this.selecetdDurationTime=60*this.selecetdDurationTime*1e3),"Hrs"==this.durationTimeUnit&&(this.selecetdDurationTime=60*this.selecetdDurationTime*60*1e3),"Days"==this.durationTimeUnit&&(this.selecetdDurationTime=24*this.selecetdDurationTime*60*60*1e3),"Inside"==this.locationProximity&&(this.locationProximityOperator="IN"),""!==this.insideLocationName&&(a=a+"at "+this.insideLocationName),a=a+", since "+s+l,this.stopAlert(a)}},e.prototype.searchLocByName=function(e,t){this.tripServices.searchLocation.emit(e)},e.prototype.setOriginLocation=function(e){console.log(e);var t={};null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj source"),t=e.freightLocation):(console.log("contains No freight location Obj source"),t=e),(i.i(u.isNullOrUndefined)(t.address)||""==t.address)&&(t.address=e.name),this.insideLocationObj=t.geofence},e.prototype.setInsideLocation=function(e){this.showInsideAddressList=!1;for(var t=(e.locObj,e.locObj.freightLocation.geofence.boundry),i="",n=0;n<t.length;n++)i=""==i?i+e.name+"@"+t[n].latitude+"#"+t[n].longitude:i+"##"+t[n].latitude+"#"+t[n].longitude;var o={boundary:i,valueType:"LOCATION_GEOFENCE",name:e.name};this.insideLocationObj=o,this.insideLocationName=e.name,console.log("+++++ insideLocationObj++++++ :"),console.log(this.insideLocationObj)},e.prototype.setProximityLocation=function(e){this.showProximityAddressList=!1;for(var t=(e.locObj,e.locObj.freightLocation.geofence.boundry),i="",n=0;n<t.length;n++)i=""==i?i+t[n].latitude+"#"+t[n].longitude:i+"##"+t[n].latitude+"#"+t[n].longitude;var o={boundary:i,valueType:"LOCATION_PROXIMITY"};this.proximityLocationObj=o,this.proximityLocationName=e.name,console.log("+++++ proximityLocationObj++++++ :"),console.log(this.proximityLocationObj)},e.prototype.powerDisconnectAlert=function(){console.log("this.vehicles"),console.log(this.vehicles);var e={alertEventTopic:"deviceEvent",conditions:[{field:"type",windowSize:0,fieldType:"PRIMITIVE",value:"alarm",valueType:"STRING",operator:"EQ"},{field:"value",windowSize:0,fieldType:"PRIMITIVE",value:"powerCut",valueType:"STRING",operator:"EQ"}],actions:[{type:this.notificationAction,valueTemplate:"Vehicle No [$valueOf( $join( vehicle $valueOf( event$ vehicleId)) vehicleRegistrationNumber)] is disconnected from power source",value:null,recipient:this.receipient}],vehicles:this.vehicles,snoozeTime:0,uuid:this.uuid,userId:this.customerId};console.log(e),1==this.forEdit?this.alertsService.editPowerDisconnectAlert.emit(e):this.alertsService.createPowerDisconnectAlert.emit(e)},e.prototype.periodicAlert=function(e){console.log("this.vehicles"),console.log(this.vehicles);var t={alertEventTopic:"hourMovTopic",conditions:[{field:"ΣsumDouble totalDistance",windowSize:this.finalWindowTimeDuration,fieldType:"AGGREGATE",value:this.periodicDistance.toString(),valueType:"DOUBLE",operator:this.periodicDistanceOperator},{field:"ΣsumLong movingTime",windowSize:this.finalWindowTimeDuration,fieldType:"AGGREGATE",value:this.runningDuration.toString(),valueType:"LONG",operator:this.runningDurationOperator},{field:"ΣsumLong stopTime",windowSize:this.finalWindowTimeDuration,fieldType:"AGGREGATE",value:this.stopDuration.toString(),valueType:"LONG",operator:this.stopDurationOperator},{field:"ΣsumLong disconnectTime",windowSize:this.finalWindowTimeDuration,fieldType:"AGGREGATE",value:this.disconnectDuration.toString(),valueType:"LONG",operator:"GT"}],actions:[{type:this.notificationAction,valueTemplate:"Vehicle No [$valueOf( $join( vehicle $valueOf( event$ vehicleId)) vehicleRegistrationNumber)] "+e,value:null,recipient:this.receipient}],vehicles:this.vehicles,snoozeTime:this.finalSnoozeTime,uuid:this.uuid,userId:this.customerId},i=t.conditions.filter(function(e){return""!=e.operator});t.conditions=i,console.log(t),1==this.forEdit?this.alertsService.editPeriodicAlert.emit(t):this.alertsService.createPeriodicAlert.emit(t)},e.prototype.stopAlert=function(e){console.log("this.vehicles"),console.log(this.vehicles);var t={alertEventTopic:"vehiclegpsstatetopic",conditions:[{field:"state",windowSize:0,fieldType:"PRIMITIVE",value:"Stopped",valueType:"STRING",operator:"EQ"},{field:"totalTime",windowSize:0,fieldType:"PRIMITIVE",value:this.selecetdDurationTime.toString(),valueType:"LONG",operator:this.selectedDurationOperator.toString()},{field:"startLocation",windowSize:0,fieldType:"PRIMITIVE",value:this.insideLocationObj.boundary,valueType:this.insideLocationObj.valueType,operator:"IN"}],actions:[{type:this.notificationAction,valueTemplate:"Vehicle No [$valueOf( $join( vehicle $valueOf( event$ vehicleId)) vehicleRegistrationNumber)]"+e,value:null,recipient:this.receipient}],vehicles:this.vehicles,snoozeTime:this.finalSnoozeTime,uuid:this.uuid,userId:this.customerId},i=t.conditions.filter(function(e){return!(""==e.operator||void 0==e.value||void 0==e.valueType)});t.conditions=i,console.log(t),console.log(t),1==this.forEdit?this.alertsService.editStopAlert.emit(t):this.alertsService.createStopAlert.emit(t)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e.prototype.goBack=function(){this._store.dispatch(i.i(a.c)(["/vtsdashboard/configureAlerts"]))},e.prototype.editAlert=function(e){if(this.forEdit=!0,console.log("edit this alert ==>"),console.log(e),"vehiclegpsstatetopic"==e.alertEventTopic){this.selectedEvent="Vehicle Stop Event";for(var t=0;t<e.conditions.length;t++)"totalTime"==e.conditions[t].field&&(this.selectedDurationOperator=e.conditions[t].operator,e.conditions[t].value/864e5>1?(this.durationTimeUnit="Days",this.selecetdDurationTime=e.conditions[t].value/864e5):e.conditions[t].value/36e5>1?(this.durationTimeUnit="Hrs",this.selecetdDurationTime=e.conditions[t].value/36e5):e.conditions[t].value/6e4>1&&(this.selecetdDurationTime=e.conditions[t].value/6e4,this.durationTimeUnit="Min"),console.log(e.conditions[t].value)),"startLocation"==e.conditions[t].field&&(this.isShowProximityField=!0,this.locationProximity="Inside",this.insideLocationName=e.conditions[t].value.split("@",1));"SMS"==e.actions[0].type&&(this.selectedAction="SMS Notification",this.mobileno=e.actions[0].recipient),"EMAIL"==e.actions[0].type&&(this.selectedAction="Email Notification",this.emailId=e.actions[0].recipient),this.editVehicleList=e.vehicles,this.uuid=e.uuid}if("hourMovTopic"==e.alertEventTopic){this.selectedEvent="Periodic Alert";for(var t=0;t<e.conditions.length;t++)"ΣsumDouble totalDistance"==e.conditions[t].field&&(this.isShowDistancePeriodic=!0,this.periodicDistanceOperator=e.conditions[t].operator,console.log(e.conditions[t].value/1e3),e.conditions[t].value/1e3>=1?(this.periodicDistanceUnit="km",this.periodicDistance=e.conditions[t].value/1e3):(this.periodicDistanceUnit="m",this.periodicDistance=e.conditions[t].value),this.windowTimeDuration=e.conditions[t].windowSize/36e5,console.log(e.conditions[t]["value "])),"ΣsumLong movingTime"==e.conditions[t].field&&(this.isShowRunningDuration=!0,this.runningDurationOperator=e.conditions[t].operator,this.runningDuration=e.conditions[t].value/36e5),"ΣsumLong stopTime"==e.conditions[t].field&&(this.isShowStopDuration=!0,this.stopDurationOperator=e.conditions[t].operator,this.stopDuration=e.conditions[t].value/36e5),"ΣsumLong disconnectTime"==e.conditions[t].field&&(this.isShowDisconnectDuration=!0,this.disconnectDuration=e.conditions[t].value/36e5);"SMS"==e.actions[0].type&&(this.selectedAction="SMS Notification",this.mobileno=e.actions[0].recipient),"EMAIL"==e.actions[0].type&&(this.selectedAction="Email Notification",this.emailId=e.actions[0].recipient),this.editVehicleList=e.vehicles,this.uuid=e.uuid}"deviceEvent"==e.alertEventTopic&&(this.selectedEvent="Power disconnected","SMS"==e.actions[0].type&&(this.selectedAction="SMS Notification",this.mobileno=e.actions[0].recipient),"EMAIL"==e.actions[0].type&&(this.selectedAction="Email Notification",this.emailId=e.actions[0].recipient),this.editVehicleList=e.vehicles,this.uuid=e.uuid,console.log(e.vehicles),console.log(this.editVehicleList))},e}();h([i.i(n.ViewChild)(l.c),g("design:type",Object)],f.prototype,"agmMap",void 0),f=h([i.i(n.Component)({selector:"app-add-alerts",template:i("jr4d"),styles:[i("D7qo")]}),g("design:paramtypes",["function"==typeof(v=void 0!==o.b&&o.b)&&v||Object,"function"==typeof(m=void 0!==r.a&&r.a)&&m||Object,"function"==typeof(y=void 0!==s.a&&s.a)&&y||Object,"function"==typeof(x=void 0!==c.a&&c.a)&&x||Object,"function"==typeof(b=void 0!==d.LocalStorageService&&d.LocalStorageService)&&b||Object,"function"==typeof(T=void 0!==p.A&&p.A)&&T||Object])],f);var v,m,y,x,b,T},"+n18":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".input{width:100%;padding:12px 20px;margin:8px 0;box-sizing:border-box;border:none}.my-map-search{left:3%;width:91%;position:absolute;z-index:10;margin-top:5px}",""]),e.exports=e.exports.toString()},"+rVk":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu");i.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this._store=e,this.isSpinner=!1,this.isShowVehicle_0_4=!1,this.isShowVehicle_4_8=!1,this.isShowVehicle_8_12=!1,this.isShowVehicle_above_12=!1,this._store.dispatch({type:"TITLE",payload:"Statistics"})}return e}();a=r([i.i(n.Component)({selector:"app-statistics-mobile",template:i("B2uf"),styles:[i("076+")]}),s("design:paramtypes",["function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],a);var l},"+vFR":function(e,t){e.exports='<div style="overflow: auto; height: calc( 100vh - 50px)">\r\n\r\n  <div *ngFor="let vehicle of vehiclesByOrgList" >\r\n    \x3c!--style="overflow: auto;height: calc(100vh - 45px);"--\x3e\r\n    <md-card (click)="goToEditVehicles(vehicle)">\r\n      <md-card-content style="margin-bottom: 1%">\r\n        <div fxLayout="row">\r\n          <div fxFlex="35"><span style="font-size: large"><b>{{vehicle[\'vehicleRegistrationNumber\']}}</b></span></div>\r\n          <div fxFlex="25"><label>{{vehicle[\'vehicleType\']}}</label></div>\r\n          <div fxFlex="40"><span style="background-color: #505050; color: white; border-radius: 10px; padding: 7px; margin-left: 8px">{{vehicle[\'vtsDeviceId\']!== ""?"FRETRON GPS": "OTHER GPS"}}</span>\r\n            \x3c!--<span (click)="showShareModal()"><button md-icon-button style="float: right" ><i class="fa fa-share-square-o" aria-hidden="true"></i></button></span>--\x3e\r\n          </div>\r\n        </div>\r\n\r\n        \x3c!--<div fxLayout="row">--\x3e\r\n          \x3c!--&lt;!&ndash;<div fxFlex="50"><span style="color: #9b9b9b">Status</span></div>&ndash;&gt;--\x3e\r\n          \x3c!--<div fxFlex="50"><span style="color: #9b9b9b">Group</span></div>--\x3e\r\n        \x3c!--</div>--\x3e\r\n      </md-card-content>\r\n      <div fxLayout="row">\r\n        <div fxFlex="100">\r\n\r\n        </div>\r\n      </div>\r\n    </md-card>\r\n  </div>\r\n\r\n  <div style="height: 50px; width: 100%"></div>\r\n\r\n\r\n\r\n  <button md-fab color="primary" style="position: absolute; top: 90%" [style.left]="(view ==\'web\')?\'90%\':\'80%\'" (click)="showAddNewVehicle()" >\r\n    <i class="fa fa-plus" aria-hidden="true" style="font-size: 20px;color: white "></i>\r\n  </button>\r\n</div>\r\n\r\n<div  *ngIf="isShowAddNewVehicle" id="myParameterModal" class="modal">\r\n  \x3c!-- Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowAddNewVehicle=false">&times;</span>\r\n\r\n    <h4 style="margin-bottom: 0px">Add New Vehicle</h4>\r\n\r\n    <div style="width: 100%">\r\n      <md-input-container style="width:85%" >\r\n        <input placeholder="Vehicle Number"  mdInput required [(ngModel)]="vehicleNumber" >\r\n      </md-input-container>\r\n    </div>\r\n\r\n    <div style="width: 100%">\r\n      <md-select  placeholder="Vehicle Type"  style="width: 85%; margin-bottom: 8%" [(ngModel)]="vehicleType"  >\r\n        <md-option  [value]="vtype" *ngFor="let vtype of vehicleTypeList">{{vtype}}</md-option>\r\n      </md-select>\r\n    </div>\r\n\r\n    \x3c!--<div style="width: 100%">--\x3e\r\n      \x3c!--<md-select  placeholder="Status"  style="width: 85%" [(ngModel)]="vehicleStatus"  >--\x3e\r\n        \x3c!--<md-option  [value]="vStatus" *ngFor="let vStatus of vehicleStatusList">{{vStatus}}</md-option>--\x3e\r\n      \x3c!--</md-select>--\x3e\r\n    \x3c!--</div>--\x3e\r\n\r\n    <div style="width: 100%">\r\n      <md-input-container style="width:85%" >\r\n        <input placeholder="Vts Device Id"  mdInput required [(ngModel)]="vtsDeviceIdVehicle" >\r\n      </md-input-container>\r\n    </div>\r\n\r\n    \x3c!--<div style="width: 100%">--\x3e\r\n      \x3c!--<md-select  placeholder="GPS"  style="width: 85%" [(ngModel)]="gpsVendor"  >--\x3e\r\n        \x3c!--<md-option  [value]="gps" *ngFor="let gps of gpsVendorList">{{gps}}</md-option>--\x3e\r\n      \x3c!--</md-select>--\x3e\r\n    \x3c!--</div>--\x3e\r\n\r\n    <div style="margin-top: 5%">\r\n      <button md-raised-button (click)="isShowAddNewVehicle=false">CANCEL</button>\r\n      <button md-raised-button color="primary" style="margin-left: 15%" (click)="saveNewVehicles()">ADD VEHICLE</button>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</div>\r\n'},"/1JT":function(e,t){e.exports='\x3c!--   *************  add new vehicle dialog box **************** --\x3e\r\n<div *ngIf="isAddVehicleDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n  <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n    <div class="modal-header">\r\n      <span class="close" (click)="isAddVehicleDialog=false;" >&times;</span>\r\n      <label>{{\'Select Vehicle\' | translate }}</label>\r\n    </div>\r\n    <div  style="padding: 5px;font-size: 13px;">\r\n      <div style="padding: 5px;display: flex">\r\n        <div style="width: 100%;">\r\n          <md-input-container style="width: 96%;" >\r\n            <input mdTooltip="{{\'Search\' | translate }}" mdInput  placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" >\r\n          </md-input-container>\r\n        </div>\r\n        <div style="padding-top: 6px;">\r\n          <button md-raised-button [disabled]="isDisabled" style="width:47px;line-height: 27px;" (click)="AddVehicle();isAddVehicleDialog=false;">{{\'OK\' | translate }}</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div style="min-height: 100px;max-height: 250px;overflow: auto;padding-bottom: 3px;" >\r\n        <div *ngFor="let vehicle of vehicleList | vehicleFilter: [\'vehicleRegistrationNumber\', search]" >\r\n          <md-card  style="margin-top: 2px;cursor: pointer;padding:16px;display: flex;" class="vehicle-hover"\r\n                    (click)="vehicle.select=!vehicle.select;chackValid()" >\r\n            <div style="min-width: 40px">\r\n               <span *ngIf="vehicle.select" class="select-vehicle"\r\n                     style="background-color: deepskyblue;">\r\n                 <i class="fa fa-check" aria-hidden="true"></i>\r\n               </span>\r\n              <span *ngIf="!vehicle.select" class="select-vehicle"\r\n                    style="background-color: grey;">\r\n                 <i class="fa fa-slack" aria-hidden="true"></i>\r\n               </span>\r\n            </div>\r\n            <span style="margin-left: 18px;font-size: 16px;">{{vehicle.vehicleRegistrationNumber}}</span>\r\n          </md-card>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<md-card style="overflow: auto;max-height: 250px;">\r\n  <div fxLayout="row" style="padding-top: 15px;margin-bottom: 7px;">\r\n    <span>{{\'Vehicle\'| translate }}:</span>\r\n    <ul class="vehicle-list">\r\n      <li *ngFor="let veh of selectedVehicles;let ind=index" >\r\n        {{veh.vehicleRegistrationNumber}}\r\n        <span  class="remove-vehicle" (click)="unselectVehicle(ind)" >&times;</span>\r\n      </li>\r\n    </ul>\r\n    <div style="margin-left: auto;">\r\n      <button id="add" md-raised-button style="width:47px;line-height: 27px;" (click)="openAddVehicleDialog()">Add</button>\r\n    </div>\r\n  </div>\r\n</md-card>\r\n\x3c!--Add new vehicle dialog box ends here--\x3e\r\n'},"/PM2":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".trip-container{padding:4px}.trip-container div{font-family:Gotham-Rounded-Medium,Sans-Serif!important;color:#46465f}agm-map{height:calc(100vh - 230px)}button{color:#fff;background-color:#1e88e5}.searchbox:focus{width:100%}.searchBox{position:absolute;z-index:10;width:100%;text-align:center}.searchBox input{padding-left:5px;padding-right:24px;width:calc(93% - 24px);height:30px;margin-top:7px;border:2px solid #5f9ea0;border-radius:10px;font-size:15px;outline:none}.clear_search_box{font-size:26px;border-radius:13%;position:absolute;right:4%;top:10px;cursor:pointer}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}.design{min-width:50px;height:21px;border:none;border-bottom:1px solid #d3d3d3;font-size:15px}.vehicle-hover:hover{background-color:beige}.select-vehicle{padding:10px;color:#fff;border-radius:21px;font-size:18px}.vehicle-list{list-style:none;margin-top:-3px;padding-left:10px;margin-bottom:5px;display:block}.vehicle-list li{border-radius:3px;padding:7px;background-color:beige;margin-bottom:7px;float:left;margin-right:10px}.remove-vehicle{padding:4px;line-height:12px;color:#6495ed;float:right;font-size:18px;margin-right:-14px;background-color:#fffacd;margin-top:-16px;border-radius:13px}.remove-vehicle:focus,.remove-vehicle:hover{color:#fff;text-decoration:none;cursor:pointer;background-color:#6495ed}.slow-expand{padding-bottom:6px;position:absolute;top:2px;right:0;width:calc(100% - 50px)}.top-header{width:100%;padding-bottom:3px;top:0;z-index:100;position:absolute}",""]),e.exports=e.exports.toString()},"/ZSX":function(e,t){e.exports='<div class="container" style="min-width: 700px;box-sizing: border-box;">\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n  <div style="display:flex;padding:20px 5px 10px 12px;" >\r\n    <md-card class="cards-toggle" (click)="filterTripList(\'\')" [style.background-color]="viewTrip == \'\'?\'#1976d2\':\'\'"  [style.color]="viewTrip == \'\'?\'#FFFFFF\':\'\'">\r\n      <div ><span >{{vehicleTripCount[\'all\']}}</span></div>\r\n      <div style="margin-top: 6px;" ><span><b>All</b></span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="filterTripList(\'WaitingForLoad\')" [style.background-color]="viewTrip == \'WaitingForLoad\'?\'#1976d2\':\'\'"  [style.color]="viewTrip == \'WaitingForLoad\'?\'#FFFFFF\':\'\'" >\r\n      <div  ><span >{{vehicleTripCount[\'unassigned\']}}</span></div>\r\n      <div style="margin-top: 6px;" ><span><b>Unassigned</b></span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="filterTripList(\'EnrouteForPickUp\')" [style.background-color]="viewTrip == \'EnrouteForPickUp\'?\'#1976d2\':\'\'"  [style.color]="viewTrip == \'EnrouteForPickUp\'?\'#FFFFFF\':\'\'" >\r\n      <div  ><span >{{vehicleTripCount[\'underLoading\']}}</span></div>\r\n      <div  style="margin-top: 6px;"><span><b>Enroute for PickUp</b></span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="filterTripList(\'AtPickUpPoint\')" [style.background-color]="viewTrip == \'AtPickUpPoint\'?\'#1976d2\':\'\'"  [style.color]="viewTrip == \'AtPickUpPoint\'?\'#FFFFFF\':\'\'" >\r\n      <div  ><span >{{vehicleTripCount[\'atPickupPt\']}}</span></div>\r\n      <div  style="margin-top: 6px;"><span><b>Under loading</b></span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="filterTripList(\'EnrouteForDestination\')" [style.background-color]="viewTrip == \'EnrouteForDestination\'?\'#1976d2\':\'\'"  [style.color]="viewTrip == \'EnrouteForDestination\'?\'#FFFFFF\':\'\'" >\r\n      <div  ><span >{{vehicleTripCount[\'inTransite\']}}</span></div>\r\n      <div style="margin-top: 6px;" ><span><b>In transit</b></span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="filterTripList(\'AtDestination\')" [style.background-color]="viewTrip == \'AtDestination\'?\'#1976d2\':\'\'"  [style.color]="viewTrip == \'AtDestination\'?\'#FFFFFF\':\'\'" >\r\n      <div ><span >{{vehicleTripCount[\'underUnloading\']}}</span></div>\r\n      <div style="margin-top: 6px;" >\r\n        <span><b>Under unloading</b></span>\r\n      </div>\r\n    </md-card>\r\n\r\n    <div style="display: flex;margin-left: auto;margin-right: 15px;" >\r\n      <div class="doughnut-chart" >\r\n        <div class="overlay">\r\n          <i style="color: #1976d2" class="fa fa-wifi" aria-hidden="true"></i>\r\n          <i style="color: #1976d2" class="fa fa-mobile" style="margin-left:6px" aria-hidden="true"></i>\r\n        </div>\r\n\r\n        <canvas baseChart\r\n                [options]="doughnutChartOptions"\r\n                [data]="doughnutChartData"\r\n                [chartType]="doughnutChartType"\r\n                [colors]="doughnutColor" >\r\n                \x3c!--[labels]="doughnutChartLabels"--\x3e\r\n\r\n          \x3c!--(chartClick)="chartClicked($event)"--\x3e\r\n        </canvas>\r\n      </div>\r\n\r\n      <div>\r\n        <span style="font-size: 14px">GPS Status</span>\r\n        <div >\r\n          <span class="doughnut-chart-label" style="background-color:#add160;" ></span>\r\n          <span style="font-size: 11px;" >{{gpsState[\'connected\']}} Connected</span>\r\n        </div>\r\n        <div style="margin-top: 5px;">\r\n          <span class="doughnut-chart-label" style="background-color:#a7a9b2;"></span>\r\n          <span style="font-size: 11px;" >{{gpsState[\'disconncted\']}} Disconnected</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div style="display: flex;padding: 5px 5px;margin-top: 10px" >\r\n    <div class="custome-button" >\r\n      <button md-button (click)="goToTripTemplateDialog()" >+Create new Trip</button>\r\n      \x3c!--<button md-raised-button color="primary" style="margin-left: 16px;" >Import Trip</button>--\x3e\r\n    </div>\r\n    \x3c!-- **************************************************** --\x3e\r\n      \x3c!--   *************  select from trip Template **************** --\x3e\r\n      <div *ngIf="isTripTemplateDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n        <div class="modal-content" style="width:40%;min-width:280px;overflow: hidden;max-width: 400px;">\r\n            <div class="modal-header">\r\n                <span class="close" (click)="isTripTemplateDialog=false;" >&times;</span>\r\n                <label style="color: white; font-weight: bold">{{\'Choose From Trip Template\' | translate }}</label>\r\n            </div> \r\n            <div style="height: 280px;">\r\n              <div style="height: 250px;overflow: auto;padding-bottom: 3px;">\r\n                <div   *ngFor="let template of tripTemplateList"  > \r\n                    <md-card (click)="goselectedTemplate(template);changeBgColor2(template)"\r\n                    [style.background-color]="template._selected?\'aliceblue\':\'\'">\r\n                    <div>\r\n                        <div fxLayout="row" style="width:100%">\r\n                            <span fxFlex>{{template?.origin?.name}}</span>\r\n                            <span><i class="fa fa-minus" style="width:20px"></i></span><span style="width:20px"></span>\r\n                            <span fxFlex>{{template?.destination?.name}}</span>\r\n                          </div>\r\n                          <div fxLayout="row" style="width:100%"> \r\n                              <span fxFlex>{{template.material}}</span>\r\n                              <span fxFlex>{{template.distance}} KM</span>\r\n                              <span fxFlex>{{template.quantity}} MT</span>\r\n                          </div>\r\n                        </div>\r\n                    </md-card>\r\n                  </div> \r\n                </div> \r\n                <div style="height: 20px">\r\n                    <span  style="margin-left: 40px" class="custome-button" >\r\n                        <button md-button  (click)="goToAddTripView(\'skip\')" >Skip</button>\r\n                        <button md-button  [disabled]="isDesable" (click)="goToAddTripView(\'continue\')" >Continue</button>\r\n                        \x3c!--<button md-raised-button color="primary" style="margin-left: 16px;" >Import Trip</button>--\x3e\r\n                    </span>\r\n                </div> \r\n            </div>\r\n          </div>\r\n       </div>\r\n      \x3c!--select from trip Template dialog ends here--\x3e\r\n\r\n    <div class="custome-button" >\r\n        <button md-button (click)="tripTemplateStatus()" >Trip Template Status</button>\r\n        \x3c!--<button md-raised-button color="primary" style="margin-left: 16px;" >Import Trip</button>--\x3e\r\n      </div>\r\n    \x3c!-- ************************************************************ --\x3e\r\n    <div class="custome-button" style="display: inline-flex;margin-left: auto;" >\r\n      \x3c!--<button md-raised-button color="primary" style="margin-right: 40px" >Share</button>--\x3e\r\n      <div style="position:relative;margin-top: -1px;" >\r\n        <i  class="fa fa-search "  aria-hidden="true" style="margin-top: 5px;right: 7px;position: absolute;font-size: 13px;color: black;"></i>\r\n        <input myAutofocus  [(ngModel)]="search" class="expand-search"  placeholder="Search">\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div style="padding: 25px 5px 0px 20px;min-width: 700px">\r\n    <div style="box-shadow: 0px 4px 19px darkgrey;">\r\n      \x3c!--<table style="border: 1px solid #e1e6ef;width: 100%">--\x3e\r\n        \x3c!--<tr style="height: 50px">--\x3e\r\n          \x3c!--<td style="font-size:17px;border:none;" ><label>Vehicles</label></td>--\x3e\r\n          \x3c!--<td colspan="4" style="float: right;padding: 0px">--\x3e\r\n            \x3c!--<md-paginator class="customePaginator" [length]="totalLength"--\x3e\r\n                          \x3c!--[pageSize]="pageSize"--\x3e\r\n                          \x3c!--[pageSizeOptions]="pageSizeOptions"--\x3e\r\n                          \x3c!--(page)="pageEvent = $event;selectTableHeight()" >--\x3e\r\n            \x3c!--</md-paginator>--\x3e\r\n          \x3c!--</td>--\x3e\r\n        \x3c!--</tr>--\x3e\r\n      \x3c!--</table>--\x3e\r\n      <div >\r\n        <div [style.width]="(isShowDetails || this.previousSelectedVehicle[\'_isShowDetails\'])?\'calc(100% - 360px)\':\'100%\'">\r\n          <div fxLayout="row" class="list-header">\r\n            <span style="width: 30px"></span>\r\n            <span fxFlex>Vehicle No</span>\r\n            <span fxFlex>Trip Status</span>\r\n            <span fxFlex>Where from</span>\r\n            <span fxFlex>Current Status</span>\r\n            <span fxFlex>Where To</span>\r\n            <span fxFlex>Distance to go</span>\r\n          </div>\r\n        </div>\r\n        <div style="display: flex;height: calc(100vh - 256px);">\r\n          <div  style="overflow: auto;width:calc(100%);border-top: 1px solid #e1e6ef;border-bottom: 4px solid rgba(225, 230, 239, 0);">\r\n\r\n            \x3c!--<div #listLoop *ngFor="let tripStatus  of selectedTripStatusList | vehicleFilter: [\'vehicleRegistrationNumber\', search] | tripFilter: [\'vts\', viewTrip];" >--\x3e\r\n            <div #listLoop fxLayout="row" *ngFor="let tripStatus  of tripStatusList | vehicleFilter: [\'vehicleRegistrationNumber\', search] | tripFilterDesktop: [\'vts\', viewTrip];" >\r\n                <div fxFlex=5 >\r\n                    <md-checkbox class="customCheckBox" style="margin-left: 15px;margin-top:30px" (change)="tripStatus[\'_isChecked\']=!tripStatus[\'_isChecked\'];getVehicliObj(tripStatus)" ></md-checkbox>\r\n                </div>\r\n                <div fxFlex=95>\r\n              <md-card fxLayout="row" class="list-body" *ngIf="tripStatus.vts == \'WaitingForLoad\'" (click)="showDetails(tripStatus);changeBgColor(tripStatus)"\r\n                       [style.background-color]="tripStatus._isShowDetails?\'aliceblue\':\'\'" style="cursor: alias;" >\r\n                \r\n                <span fxFlex style="white-space: nowrap;" >\r\n                  \x3c!--<i style="margin-right: 3px;" class="fa fa-share-alt" aria-hidden="true"></i>--\x3e\r\n                  {{tripStatus?.vehicleRegistrationNumber}}</span>\r\n                <span fxFlex>Waiting For Load</span>\r\n                <span fxFlex ></span>\r\n                <span fxFlex >{{tripStatus.address?tripStatus.address:\'N/A\'}}</span>\r\n                <span fxFlex ></span>\r\n                <span fxFlex ></span>\r\n              </md-card>\r\n\r\n              <md-card fxLayout="row" class="list-body" *ngIf="tripStatus.vts == \'EnrouteForDestination\'" (click)="showDetails(tripStatus);changeBgColor(tripStatus)"\r\n                       [style.background-color]="tripStatus._isShowDetails?\'aliceblue\':\'\'" style="cursor: alias;" >\r\n                 \r\n                <span fxFlex style="white-space: nowrap;" >\r\n                  \x3c!--<i style="margin-right: 3px;" class="fa fa-share-alt" aria-hidden="true"></i>--\x3e\r\n                  {{tripStatus?.vehicleRegistrationNumber}}</span>\r\n\r\n                <span fxFlex>Enroute for Delivery</span>\r\n                <span fxFlex ><img style="height: 13px;margin-right: 3px;" src="../../../images/trip-icons/Start-location.png" >{{((tripStatus?.tripStartLocation?.name)?(tripStatus?.tripStartLocation?.name):\'N/A\')}}</span>\r\n                <span fxFlex >{{tripStatus.address?tripStatus.address:\'N/A\'}}</span>\r\n                <span fxFlex > <img style="height: 13px;margin-right: 3px;" src="../../../images/trip-icons/Group.png" >{{(tripStatus?.tripEndLocation?.name)?(tripStatus?.tripEndLocation?.name):\'N/A\'}}</span>\r\n                \x3c!-- <span fxFlex ><img style="height: 13px;vertical-align: -3px;" src="../../../images/trip-icons/Navigate.png" >(N/A)</span> --\x3e\r\n                <span fxFlex ><img style="height: 13px;vertical-align: -3px;" src="../../../images/trip-icons/Navigate.png">{{(tripStatus?.distanceToGo)?(tripStatus?.distanceToGo):\'(N/A)\'}} in {{(tripStatus?.eta)?(tripStatus?.eta):"(N/A)"}}</span>\r\n              </md-card>\r\n\r\n              <md-card fxLayout="row" class="list-body" *ngIf="tripStatus.vts == \'EnrouteForPickUp\'"  (click)="showDetails(tripStatus);changeBgColor(tripStatus)"\r\n                       [style.background-color]="tripStatus._isShowDetails?\'aliceblue\':\'\'" style="cursor: alias;" >\r\n                \r\n                <span fxFlex style="white-space: nowrap;" >\r\n                  \x3c!--<i style="margin-right: 3px;" class="fa fa-share-alt" aria-hidden="true"></i>--\x3e\r\n                  {{tripStatus?.vehicleRegistrationNumber}}</span>\r\n                <span fxFlex>Enroute for Pickup</span>\r\n\r\n                <span fxFlex > <img style="height: 13px;margin-right: 3px;" src="../../../images/trip-icons/Start-location.png" >{{((tripStatus?.tripStartLocation?.name)?(tripStatus?.tripStartLocation?.name):\'N/A\')}}</span>\r\n                <span fxFlex >{{tripStatus.address?tripStatus.address:\'N/A\'}}</span>\r\n                <span fxFlex > <img style="height: 13px;margin-right: 3px;" src="../../../images/trip-icons/Group.png" >{{(tripStatus?.tripEndLocation?.name)?(tripStatus?.tripEndLocation?.name):\'N/A\'}}</span>\r\n                <span fxFlex ><img style="height: 13px;vertical-align: -3px;" src="../../../images/trip-icons/Navigate.png" >{{(tripStatus?.distanceToGo)?(tripStatus?.distanceToGo):\'(N/A)\'}} in {{(tripStatus?.eta)?(tripStatus?.eta):"(N/A)"}}</span>\r\n\r\n              </md-card>\r\n\r\n              <md-card fxLayout="row" class="list-body" *ngIf="tripStatus.vts == \'AtPickUpPoint\'"   (click)="showDetails(tripStatus);changeBgColor(tripStatus)"\r\n                       [style.background-color]="tripStatus._isShowDetails?\'aliceblue\':\'\'" style="cursor: alias;" >\r\n                \r\n                <span fxFlex style="white-space: nowrap;" >\r\n                  \x3c!--<i style="margin-right: 3px;" class="fa fa-share-alt" aria-hidden="true"></i>--\x3e\r\n                  {{tripStatus?.vehicleRegistrationNumber}}</span>\r\n                <span fxFlex>At Pickup Point</span>\r\n                <span fxFlex > <img style="height: 13px;margin-right: 3px;" src="../../../images/trip-icons/Start-location.png" >{{((tripStatus?.tripStartLocation?.name)?(tripStatus?.tripStartLocation?.name):\'N/A\')}}</span>\r\n                <span fxFlex >{{tripStatus.address?tripStatus.address:\'N/A\'}}</span>\r\n\r\n                <span fxFlex > <img style="height: 13px;margin-right: 3px;" src="../../../images/trip-icons/Group.png" >{{(tripStatus?.tripEndLocation?.name)?(tripStatus?.tripEndLocation?.name):\'N/A\'}}</span>\r\n                  \x3c!--<span style="color:#f5871f">Since {{tripStatus._vtsDuration}}</span>--\x3e\r\n\r\n                \x3c!-- <span fxFlex ><img style="height: 13px;vertical-align: -3px;" src="../../../images/trip-icons/Navigate.png" >(N/A)</span> --\x3e\r\n                <span fxFlex ><img style="height: 13px;vertical-align: -3px;" src="../../../images/trip-icons/Navigate.png">(N/A)</span>\r\n              </md-card>\r\n\r\n              <md-card fxLayout="row" class="list-body" *ngIf="tripStatus.vts == \'AtDestination\'"   (click)="showDetails(tripStatus);changeBgColor(tripStatus)"\r\n                       [style.background-color]="tripStatus._isShowDetails?\'aliceblue\':\'\'" style="cursor: alias;" >\r\n                \r\n                <span fxFlex style="white-space: nowrap;" >\r\n                  \x3c!--<i style="margin-right: 3px;" class="fa fa-share-alt" aria-hidden="true"></i>--\x3e\r\n                  {{tripStatus?.vehicleRegistrationNumber}}</span>\r\n                <span name="tripStatus" fxFlex>At Delivery Point</span>\r\n                <span name="whereFrom" fxFlex > <img style="height: 13px;margin-right: 3px;" src="../../../images/trip-icons/Start-location.png" >{{((tripStatus?.tripStartLocation?.name)?(tripStatus?.tripStartLocation?.name):\'N/A\')}}</span>\r\n                \x3c!--<span fxFlex >{{tripStatus.address?tripStatus.address:\'N/A\'}} </span>--\x3e\r\n                <span name="currentLocation" fxFlex style="font-weight: bold">{{tripStatus?.tripEndLocation?.name}}\r\n                  <span class="fade-sub-header-text" style="white-space: nowrap"> Since {{tripStatus._vtsDuration}}</span>\r\n                </span>\r\n\r\n                <span fxFlex name="whereTo" > <img style="height: 13px;margin-right: 3px;" src="../../../images/trip-icons/Group.png" >Next Trip :(Not Planned)</span>\r\n\r\n                <span fxFlex ><img style="height: 13px;vertical-align: -3px;" src="../../../images/trip-icons/Navigate.png" >(N/A)</span>\r\n               </md-card>\r\n\r\n              <md-card class="list-body" *ngIf="tripStatus.vts == null || tripStatus.vts == undefined" >\r\n                <div style="display: flex;padding: 12px 0px;">\r\n                  <label  class="vehicle-no" >\r\n                    \x3c!--<i style="margin-right: 3px;" class="fa fa-share-alt" aria-hidden="true"></i>--\x3e\r\n                    {{tripStatus?.vehicleRegistrationNumber}}</label>\r\n                  <span class="no-vts-info">No Info Available!</span>\r\n                </div>\r\n              </md-card>\r\n            </div>\r\n\r\n            </div>\r\n          </div>\r\n          <div *ngIf="isShowDetails || this.previousSelectedVehicle[\'_isShowDetails\']" style="overflow:auto;background-color: aliceblue;padding: 8px 10px;width: 100%;max-width: 330px;margin-bottom: auto;height: calc(100vh - 275px);" >\r\n            <i (click)="isShowDetails = false;closeDetails()" style="float: right;margin-top: -7px;color: #9E9E9E;cursor:pointer" class="fa fa-times-circle-o" aria-hidden="true"></i>\r\n            <div *ngIf="isShowDetails" >\r\n              <app-vehicle-trip-status-details></app-vehicle-trip-status-details>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n'},"/hOk":function(e,t,i){"use strict";var n=i("3j3K"),o=i("OCFR"),r=i("WWmu");i.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){var i=this;this._store=e,this.alertServices=t,this.unsub_getAlertsNotification=null,this._store.dispatch({type:"TITLE",payload:"Alerts Notifications"}),this.unsub_getAlertsNotification=this._store.select("getAllAlertsNotification").subscribe(function(e){if(console.log("Alerts in Notification :"),console.log(e),null!=e){i.allNotificationList=e.data,i.allNotificationList=i.allNotificationList.reverse()}}),this.alertServices.getAlertsNotification.emit()}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unsub_getAlertsNotification&&null!=this.unsub_getAlertsNotification&&void 0!=this.unsub_getAlertsNotification&&this.unsub_getAlertsNotification.unsubscribe()},e}();l=s([i.i(n.Component)({selector:"app-alerts-notification",template:i("RnhH"),styles:[i("PnBJ")]}),a("design:paramtypes",["function"==typeof(c=void 0!==r.b&&r.b)&&c||Object,"function"==typeof(d=void 0!==o.a&&o.a)&&d||Object])],l);var c,d},0:function(e,t){},"04PH":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("/lY3"),s=(i.n(r),i("+pb+")),a=(i.n(s),i("Pgz3"));i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){var i=this;this._store=e,this._services=t,this.isAddVehicleDialog=!1,this.isDisabled=!0,this.search="",this.selectedVehicles=[],this.vehicleList=[],this.orgId="eb9096e7-a0b9-420a-8143-17ef900206d9",this.errorMsg="",this.unSub_vehicleList=null,this.unSub_customerDetails=null,this.editableVehicleList=[],console.log("constructor");var n={};this.unSub_customerDetails=e.select("customerDetails").subscribe(function(o){null!=o&&""==o.error&&(n=o.customer,console.log(n),i.unSub_vehicleList=e.select("vehicleListRes").subscribe(function(e){if(console.log(e),i.errorMsg="",null==e)return void t.getVehicleList.emit(i.orgId);if(""==e.error){i.vehicleList=e.data,console.log(i.vehicleList);for(var n=0;n<i.vehicleList.length;n++)i.vehicleList[n].select=!1}else console.log(e.errorMsg),i.errorMsg=e.errorMsg;i.selectedVehiclesForEdit()}))})}return e.prototype.ngOnDestroy=function(){console.log("vehicle picker destroy"),this._store.dispatch({type:"PICKED_VEHICLES",payload:[]}),void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&this.unSub_vehicleList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.ngOnInit=function(){console.log(this.selectedVehicles),this.selectedVehiclesForEdit()},e.prototype.selectedVehiclesForEdit=function(){if(this.editableVehicleList.length>0&&this.vehicleList.length>0){for(var e=[],t=0;t<this.editableVehicleList.length;t++)for(var i=0;i<this.vehicleList.length;i++)this.vehicleList[i].uuid==this.editableVehicleList[t]&&e.push(this.vehicleList[i]);this.selectedVehicles=e,this._store.dispatch({type:"PICKED_VEHICLES",payload:this.selectedVehicles})}},e.prototype.openAddVehicleDialog=function(){this.isAddVehicleDialog=!0},e.prototype.AddVehicle=function(){this.selectedVehicles=[];for(var e=0;e<this.vehicleList.length;e++)1==this.vehicleList[e].select&&this.selectedVehicles.push(JSON.parse(JSON.stringify(this.vehicleList[e])));console.log(this.selectedVehicles),this._store.dispatch({type:"PICKED_VEHICLES",payload:this.selectedVehicles})},e.prototype.unselectVehicle=function(e){console.log(this.selectedVehicles),console.log(e),this.selectedVehicles.splice(e,1);var t=JSON.parse(JSON.stringify(this.selectedVehicles));this._store.dispatch({type:"PICKED_VEHICLES",payload:t})},e.prototype.chackValid=function(){for(var e=0;e<this.vehicleList.length;e++){if(1==this.vehicleList[e].select){this.isDisabled=!1;break}this.isDisabled=!0}},e}();l([i.i(n.Input)(),c("design:type",Object)],d.prototype,"editableVehicleList",void 0),d=l([i.i(n.Component)({selector:"vehicle-picker",template:i("/1JT"),styles:[i("MrJo")]}),c("design:paramtypes",["function"==typeof(p=void 0!==o.b&&o.b)&&p||Object,"function"==typeof(u=void 0!==a.a&&a.a)&&u||Object])],d);var p,u},"076+":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"div,md-card{font-family:Gotham-Rounded-Medium,Sans-Serif!important}md-card{padding:5px;color:#263238;margin-bottom:10px;font-size:13px}.view-details{padding:5px 15px 5px 5px;display:flow-root}.view-details div{margin-bottom:5px;max-width:350px;float:left;margin-left:10px;width:100%}\n\n/*!* button alignment *!*/\n/*!**********************!*/",""]),e.exports=e.exports.toString()},"08Gp":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".align-center{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.modal{position:fixed;z-index:6;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;top:20%}.close{color:#aaa;float:right;font-size:28px;font-weight:700}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}",""]),e.exports=e.exports.toString()},"0Xiv":function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.tripTemplateStatus=new n.EventEmitter,this.tripTemplateDetails=new n.EventEmitter,this.createTripTemplate=new n.EventEmitter,this.updateTripTemplate=new n.EventEmitter,this.deleteTripTemplate=new n.EventEmitter,this.token=this.localStorageService.get("AUTH_TOKEN"),this.tripTemplateStatus.subscribe(function(e){var t=l.b.TRIP_TEMPLATE_PATH+"/get";r.getAllTripTemplateStatus(t).subscribe(function(e){console.log(e),200==e.status&&r._store.dispatch({type:"TRIP_TEMPLATE_STATUS_LIST",payload:{error:"",data:e}})},function(e){r._store.dispatch({type:"TRIP_TEMPLATE_STATUS_LIST",payload:{error:e,data:null}}),console.log(e)})}),this.tripTemplateDetails.subscribe(function(e){var t=l.b.TEMPLATE_DETAIL_PATH_BY_LATLNG;r.getTripTemplateDetails(t,e).subscribe(function(e){console.log(e),console.log(e.status),200==e.status?r._store.dispatch({type:"TEMPLATE_DETAILS",payload:{error:"",data:e}}):r._store.dispatch({type:"TEMPLATE_DETAILS",payload:{error:"X",data:null}})},function(e){console.log(e)})}),this.createTripTemplate.subscribe(function(e){var t=l.b.TRIP_TEMPLATE_PATH+"/create";console.log(t),r.createTripTemplateService(t,e).subscribe(function(e){console.log(e),r._store.dispatch({type:"CREATE_TRIP_TEMPLATE",payload:e})},function(e){console.log(e)})}),this.updateTripTemplate.subscribe(function(e){var t=l.b.TRIP_TEMPLATE_PATH+"/update";r.doUpdateTripTemplate(t,e).subscribe(function(e){console.log(e),r._store.dispatch({type:"UPDATE_TRIP_TEMPLATE",payload:e})},function(e){console.log(e)})}),this.deleteTripTemplate.subscribe(function(e){var t=l.b.TRIP_TEMPLATE_PATH+"/delete";console.log(e),r.doDeleteTripTemplate(t,e).subscribe(function(e){console.log(e),r._store.dispatch({type:"DELETE_TRIP_TEMPLATE",payload:e})},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getAllTripTemplateStatus=function(e){var t=new o.c(this.defaultHeaders.toJSON());console.log(e);var i="Bearer "+this.token;console.log(i),t.set("Content-Type","application/json"),t.set("authorization",i);var n=new o.d({method:o.e.Get,headers:t});return this.http.request(e,n).map(function(e){return console.log(e.status),console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e.prototype.getTripTemplateDetails=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,r).map(function(e){return e.json()})},e.prototype.createTripTemplateService=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n),console.log(t),console.log(i);var r=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,r).map(function(e){return console.log(e),e.json()})},e.prototype.doUpdateTripTemplate=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,r).map(function(e){return e.json()})},e.prototype.doDeleteTripTemplate=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,r).map(function(e){return e.json()})},e}();p=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],p);var u,h,g},1:function(e,t,i){e.exports=i("x35b")},"1DCd":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,'.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}md-card{padding:8px;color:#46465f;font-size:13px}div,md-card{font-family:Gotham-Rounded-Medium,Sans-Serif!important}.timeline-icon{width:22px;height:22px;line-height:22px;padding:0;min-width:0;font-size:15px;color:#faebd7;background-color:#8d6e63;left:12px}.cd-timeline{position:relative}.cd-timeline:before{content:"";position:absolute;left:21px;height:100%;width:6px;background:#d7e4ed}.show-fullscreen{transition:margin-top .5s}.timeline-header{text-align:center;display:-ms-grid;display:grid;margin:-8px -8px 2px;box-shadow:0 1px 1px #999;padding:10px;display:list-item}.vehicle_no_header{background-color:#dcdcdc;color:#000;font-size:16px;padding:5px;border-radius:0 0 4px 4px;box-shadow:3px 4px 5px #a9a9a9}.selected-date{background-color:#008;color:#fff!important}.select-date{color:gray}.select-date md-card:hover{background-color:#00c;color:#fff!important}.show-down-Slowly{margin-top:0!important;transition:margin-top .7s;-webkit-transition:margin-top .7s}.data-box{margin-top:-200px;margin-left:12px;width:100%}.hide-up-Slowly{margin-top:-200px!important;transition:margin-top 1s;-webkit-transition:margin-top 1s}',""]),e.exports=e.exports.toString()},"1NCH":function(e,t){e.exports='<div>\r\n<div style="overflow: auto; height: calc( 100vh - 50px)">\r\n  <div *ngFor="let users of allUsersList" >\r\n<md-card>\r\n  <md-card-content>\r\n  <div fxLayout="row" fxLayoutAlign="center stretch">\r\n    <div fxFlex="90"><h3>{{users[\'user\'][\'name\']}}</h3></div>\r\n    <div fxFlex="10">\r\n      <button md-icon-button (click)="deleteUserConfirmationBox(users)">\r\n      <i class="fa fa-trash" aria-hidden="true" style="font-size: large" ></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div fxLayout="row">\r\n    <div fxFlex="90"><span><label><b>{{users[\'user\'][\'email\']}}</b></label></span></div>\r\n      <div fxFlex="10">\r\n        <md-slide-toggle [checked]="users[\'accessLevel\']== \'admin\'" (change)="changeUserStatus(users)" ></md-slide-toggle>\r\n        \x3c!--<md-slide-toggle [checked]="schedule[\'activeStatus\']" (change)="changeScheduleState(schedule)" ></md-slide-toggle>--\x3e\r\n      </div>\r\n  </div>\r\n\r\n    \x3c!--<div fxLayout="row">--\x3e\r\n      \x3c!--<div fxFlex="50"><span><label><b>Active since </b>2 months</label></span></div>--\x3e\r\n      \x3c!--<div fxFlex="50"></div>--\x3e\r\n    \x3c!--</div>--\x3e\r\n\r\n  </md-card-content>\r\n</md-card>\r\n  </div>\r\n  <div style="height: 50px;width: 100%"></div>\r\n</div>\r\n\r\n  <button md-fab color="primary" style="position: absolute; top: 90%" [style.left]="(view ==\'web\')?\'90%\':\'80%\'" (click)="showInviteUser()" >\r\n    <i class="fa fa-plus" aria-hidden="true" style="font-size: 20px;color: white "></i>\r\n  </button>\r\n</div>\r\n\r\n\x3c!--Invite User Modal  starts here--\x3e\r\n<div  *ngIf="isShowInviteUser" id="myParameterModal" class="modal">\r\n  \x3c!--Invite User Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowInviteUser=false">&times;</span>\r\n    <h3 style="text-align: center"> Add User</h3>\r\n\r\n    <md-tab-group>\r\n      <md-tab label="By Email">\r\n        <div style="width: 100%">\r\n          <md-input-container style="width:85%" >\r\n            <input placeholder="Email Id"  mdInput required [(ngModel)]="emailId" >\r\n          </md-input-container>\r\n        </div>\r\n      </md-tab>\r\n      <md-tab label="By Mobile">\r\n        <div style="width: 100%">\r\n          <md-input-container style="width:85%" >\r\n            <input placeholder="Mobile Number"  mdInput required [(ngModel)]="mobileNo" onkeydown="if(event.target.value.length>=10 && event.keyCode!=8 && event.keyCode!=13 )return false;" >\r\n          </md-input-container>\r\n        </div>\r\n      </md-tab>\r\n    </md-tab-group>\r\n\r\n    <div>\r\n      <button md-raised-button color="primary" (click)="confirmAddUser()">Add</button>\r\n      <button md-button (click)="isShowInviteUser=false">Cancel</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--Invite user Modal ends here--\x3e\r\n\r\n\r\n\x3c!--Invite User Modal  starts here--\x3e\r\n<div  *ngIf="isShowUserDetails" id="userDetailsModal" class="modal">\r\n  \x3c!--Invite User Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowUserDetails=false">&times;</span>\r\n    <h3 style="text-align: center">User Details</h3>\r\n    <div>\r\n      <div style="width: 100%" *ngIf="isShowExistingUserDetails">\r\n        <label><b>Name : </b> {{existingUserName}} </label><br>\r\n        <label><b>Email : </b> {{existingUserEmail}} </label><br>\r\n        <label><b>Number : </b> {{existingUserMobile}} </label>\r\n      </div>\r\n\r\n      <div style="width: 100%" *ngIf="!isShowExistingUserDetails">\r\n        <h4>Invited User is not registered with FRETRON Platform. Kindly ask the user to sign up first.</h4>\r\n      </div>\r\n    </div>\r\n    <div style="margin-top: 2%">\r\n      <button md-raised-button color="primary" (click)="addUser()">OK</button>\r\n      <button md-button (click)="isShowUserDetails=false">Cancel</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--Invite user Modal ends here--\x3e\r\n\r\n\r\n\x3c!--Delete User Modal  starts here--\x3e\r\n<div  *ngIf="isShowDeleteUserConfirmation" id="deleteUserModal" class="modal">\r\n  \x3c!--Invite User Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowDeleteUserConfirmation=false">&times;</span>\r\n    <h3 style="text-align: center">Confirm Delete</h3>\r\n    <div>\r\n      <div style="width: 100%">\r\n      <label>Are you sure to delete selected user?</label>\r\n      </div>\r\n    </div>\r\n    <div style="margin-top: 2%">\r\n      <button md-raised-button color="primary" (click)="deleteSelecetdUser()" >YES</button>\r\n      <button md-button (click)="isShowDeleteUserConfirmation=false">NO</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--Delete user Modal ends here--\x3e\r\n\r\n\r\n\r\n'},"1QbM":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,'.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}md-card{padding:8px;color:#46465f;font-size:13px}div,md-card{font-family:Gotham-Rounded-Medium,Sans-Serif!important}.timeline-icon{width:25px;height:25px;line-height:20px;padding:0;min-width:0;font-size:12px;color:#607d8b;border:1px solid #d7e4ed;background-color:#fff;left:11px}.cd-timeline{position:relative}.cd-timeline:before{content:"";position:absolute;left:21px;height:100%;width:6px;background:#d7e4ed}.show-fullscreen{transition:margin-top .5s}.timeline-header{text-align:center;display:-ms-grid;display:grid;margin:-8px -8px 2px;box-shadow:0 1px 1px #999;padding:10px;display:list-item}.vehicle_no_header{background-color:#dcdcdc;color:#000;font-size:16px;padding:5px;border-radius:0 0 4px 4px;box-shadow:3px 4px 5px #a9a9a9}.selected-date{background-color:#008;color:#fff!important}.select-date{color:gray}.select-date md-card:hover{background-color:#00c;color:#fff!important}.top-header{width:100%;padding-bottom:3px}.vehicle-no-desktop{position:absolute;z-index:10;text-align:center;width:100%;font-size:11px;color:green}',""]),e.exports=e.exports.toString()},"1U27":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("Ths4"),a=(i.n(s),i("CihD")),l=i("ZAU6"),c=i("MbBB"),d=i("Dkvd");i.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,i,n,o,r){var s=this;this.tripEtaDistance=e,this.tripSocketObj=t,this.localStorageService=i,this._store=n,this.tripServices=o,this._angularitics=r,this.index_latLng=[],this.isSearch=!1,this.search="",this.isSpinner=!1,this.errorMsg="",this.viewTrip="",this.tripStatusList=[],this.unSub_TripStatus=null,this.unSub_customerDetails=null,this.unSub_updateTripData=null,this.unSub_ETA_DistanceStore=null,this.connection=null,this.vehicleTripCount={all:0,unassigned:0,underLoading:0,underUnloading:0,inTransite:0,atPickupPt:0},this._store.dispatch({type:"TITLE",payload:"Vehicle Trip Status"}),this.isSpinner=!0,this.unSub_customerDetails=n.select("customerDetails").subscribe(function(e){null!=e&&s.tripSocketObj.getTripList()}),this.unSub_updateTripData=n.select("updateTripData").subscribe(function(e){var t=e;if(null!=t&&null!=s.tripStatusList)for(var i=0;i<s.tripStatusList.length;i++)s.tripStatusList[i].vts!=t.vts&&s.tripStatusList[i].uuid==t.vehicleId&&(s.merge(s.tripStatusList[i],t),s.updateList())}),this.unSub_TripStatus=n.select("tripStatusList").subscribe(function(e){console.log(e),null!=e&&(s.isSpinner=!1,s.tripStatusList=JSON.parse(JSON.stringify(e)),s.updateList())}),this.unSub_ETA_DistanceStore=n.select("etaListDistanceStore").subscribe(function(e){if(null!=e){var t=(e.value[0].distance.value/1e3).toFixed(2)+" km",i=e.index;s.tripStatusList.length>i&&(s.tripStatusList[i].distanceToGo=t,s.tripStatusList[i].eta=s.msToTime(1e3*e.value[0].duration.value),s.tripStatusList[i].timeValue=e.value[0].duration.value)}})}return e.prototype.ngOnDestroy=function(){this.tripSocketObj.disconnectTripListSocket(),void 0!==this.unSub_TripStatus&&null!=this.unSub_TripStatus&&void 0!=this.unSub_TripStatus&&this.unSub_TripStatus.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_updateTripData&&null!=this.unSub_updateTripData&&void 0!=this.unSub_updateTripData&&this.unSub_updateTripData.unsubscribe(),void 0!==this.unSub_ETA_DistanceStore&&null!=this.unSub_ETA_DistanceStore&&void 0!=this.unSub_ETA_DistanceStore&&this.unSub_ETA_DistanceStore.unsubscribe()},e.prototype.updateList=function(){this.vehicleTripCount={all:0,unassigned:0,underLoading:0,underUnloading:0,inTransite:0,atPickupPt:0},this.vehicleTripCount.all=this.tripStatusList.length;for(var e=0;e<this.tripStatusList.length;e++)this.tripStatusList[e]._vtsDuration=this.msToTime(this.tripStatusList[e].vtsDuration),this.tripStatusList[e]._isExpandText=!1,this.tripStatusList[e]._isExpandFromAddress=!1,this.tripStatusList[e]._isExpandDestAddress=!1,"WaitingForLoad"==this.tripStatusList[e].vts&&(this.vehicleTripCount.unassigned=this.vehicleTripCount.unassigned+1),"AtDestination"==this.tripStatusList[e].vts&&(this.vehicleTripCount.underUnloading=this.vehicleTripCount.underUnloading+1),"EnrouteForPickUp"==this.tripStatusList[e].vts&&(this.vehicleTripCount.underLoading=this.vehicleTripCount.underLoading+1,this.oLat=this.tripStatusList[e].latitude,this.oLng=this.tripStatusList[e].longitude,this.dLat=this.tripStatusList[e].tripStartLocation.geofence.center.latitude,this.dLng=this.tripStatusList[e].tripStartLocation.geofence.center.longitude,this.index_latLng.push({index:e,oLat:this.oLat,oLng:this.oLng,dLat:this.dLat,dLng:this.dLng})),"EnrouteForDestination"==this.tripStatusList[e].vts&&(this.vehicleTripCount.inTransite=this.vehicleTripCount.inTransite+1,this.oLat=this.tripStatusList[e].latitude,this.oLng=this.tripStatusList[e].longitude,this.dLat=this.tripStatusList[e].tripEndLocation.geofence.center.latitude,this.dLng=this.tripStatusList[e].tripEndLocation.geofence.center.longitude,this.index_latLng.push({index:e,oLat:this.oLat,oLng:this.oLng,dLat:this.dLat,dLng:this.dLng})),"AtPickUpPoint"==this.tripStatusList[e].vts&&(this.vehicleTripCount.atPickupPt=this.vehicleTripCount.atPickupPt+1);this.tripEtaDistance.getEtaDistanceList.emit(this.index_latLng)},e.prototype.merge=function(e,t){for(var i in t)e[i]=t[i]},e.prototype.ngOnInit=function(){},e.prototype.goToselectedVehView=function(e){console.log(e);var t=JSON.parse(JSON.stringify(e));this.localStorageService.set("CURRENT_TRIP_VEHICLE",t),this._angularitics.eventTrack("TripView_Item_Clicked",e),this._store.dispatch({type:"VEHICLE_TRIP_DETAILS",payload:null}),this._store.dispatch(i.i(r.c)(["vtsdashboard/trip/status/details"]))},e.prototype.expandAddress=function(){event.stopPropagation()},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.filterClickMixpanel=function(){this._angularitics.eventTrack("Trip_Filter_Mobile_Clicked",this.viewTrip)},e}();h=p([i.i(n.Component)({selector:"app-vehicle-status",template:i("67Nf"),styles:[i("20rz")]}),u("design:paramtypes",["function"==typeof(g=void 0!==c.a&&c.a)&&g||Object,"function"==typeof(f=void 0!==l.a&&l.a)&&f||Object,"function"==typeof(v=void 0!==s.LocalStorageService&&s.LocalStorageService)&&v||Object,"function"==typeof(m=void 0!==o.b&&o.b)&&m||Object,"function"==typeof(y=void 0!==a.a&&a.a)&&y||Object,"function"==typeof(x=void 0!==d.a&&d.a)&&x||Object])],h);var g,f,v,m,y,x},"1ZaY":function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.deleteUser=new n.EventEmitter,this.getAllVehicleGroupsList=new n.EventEmitter,this.getAllVehiclesByGroup=new n.EventEmitter,this.getAllVehiclesByOrg=new n.EventEmitter,this.deleteGroup=new n.EventEmitter,this.editSelecetedVehicle=new n.EventEmitter,this.deleteSelecetedVehicle=new n.EventEmitter,this.createNewGroup=new n.EventEmitter,this.addVehiclesToGroup=new n.EventEmitter,this.addNewVehicles=new n.EventEmitter,this.token=this.localStorageService.get("AUTH_TOKEN"),this.getAllVehicleGroupsList.subscribe(function(e){var t=l.b.MANAGE_VEHICLES_GRP_PATH+"/get";console.log(t),r.getAllVehiclesGroup(t).subscribe(function(e){console.log(e),r._store.dispatch({type:"GET_ALL_VEHICLE_GRP_LIST",payload:e})},function(e){console.log(e)})}),this.getAllVehiclesByGroup.subscribe(function(e){var t=l.b.GET_VEHICLES_BY_GROUP_PATH+"/group/vehicle?groupId="+e;console.log(t),r.getAllVehiclesByGroups(t).subscribe(function(e){console.log(e),r._store.dispatch({type:"GET_ALL_VEHICLES_BY_GROUP",payload:e})},function(e){console.log(e)})}),this.getAllVehiclesByOrg.subscribe(function(e){var t=l.b.GET_VEHICLES_BY_ORG_PATH+"/org/vehicle?orgId="+e;console.log(t),r.getAllVehicleListByOrg(t).subscribe(function(e){console.log(e),r._store.dispatch({type:"GET_ALL_VEHICLES_BY_ORG",payload:e})},function(e){console.log(e)})}),this.deleteGroup.subscribe(function(e){var t=l.b.MANAGE_VEHICLES_GRP_PATH+"/delete";console.log(t),console.log(e),r.deleteSelectedGroup(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"DELETE_GROUP_RESPONSE",payload:e})},function(e){console.log(e)})}),this.editSelecetedVehicle.subscribe(function(e){var t=l.b.EDIT_VEHICLE_PATH+"/update";console.log(t),console.log(e),r.editVehicleDetails(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"EDIT_VEHICLE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.createNewGroup.subscribe(function(e){var t=l.b.MANAGE_VEHICLES_GRP_PATH+"/create";console.log(t),console.log(e),r.editVehicleDetails(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"CREATE_GROUP_RESPONSE",payload:e})},function(e){console.log(e)})}),this.addNewVehicles.subscribe(function(e){var t=l.b.ADD_VEHICLE_PATH+"/add";console.log(t),console.log(e),r.addVehicleDetails(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"ADD_VEHICLE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.addVehiclesToGroup.subscribe(function(e){var t=l.b.EDIT_VEHICLE_PATH+"/addgroup";console.log(t),console.log(e),r.addVehiclesinGroup(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"ADD_VEHICLES_IN_GROUP",payload:e})},function(e){console.log(e)})}),this.deleteSelecetedVehicle.subscribe(function(e){var t=l.b.EDIT_VEHICLE_PATH+"/deletegroup";console.log(t),r.deleteSelectedVehicleFromGroup(t,e).subscribe(function(e){console.log(e),r._store.dispatch({type:"DELETE_VEHICLES_FROM_GROUP_RESPONSE",payload:"Deleted"})},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getAllVehiclesGroup=function(e){var t=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;t.set("Content-Type","application/json"),t.set("authorization",i);var n=new o.d({method:o.e.Get,headers:t});return this.http.request(e,n).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.getAllVehiclesByGroups=function(e){var t=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;t.set("Content-Type","application/json"),t.set("authorization",i);var n=new o.d({method:o.e.Get,headers:t});return this.http.request(e,n).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.getAllVehicleListByOrg=function(e){var t=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;t.set("Content-Type","application/json"),t.set("authorization",i);var n=new o.d({method:o.e.Get,headers:t});return this.http.request(e,n).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.deleteSelectedVehicleFromGroup=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.deleteSelectedGroup=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.editVehicleDetails=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.addVehicleDetails=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.addVehiclesinGroup=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.createNewGroupInOrg=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e}();p=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],p);var u,h,g},"20rz":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"md-card{padding:5px;margin-top:1px;min-width:250px;margin-left:1px;margin-right:1px;min-height:70px}.my-hr{border-style:ridge;margin-top:6px;min-width:250px}.my-hr,.my-hr-icon{border-width:1px;margin-bottom:3px}.my-hr-icon{background-color:#1976d2;border-style:solid;margin-top:15px;min-width:66px;color:#1976d2}md-card div label{font-size:13px}div{font-family:Helvetica;color:#46465f}.slow-expand{padding-bottom:6px;position:absolute;top:2px;right:0;width:calc(100% - 50px)}.expand-search{border:1.5px solid #03a9f4;width:100%;font-size:14px;padding:5px 26px 6px 12px;display:inline-block;border-radius:17px;box-sizing:border-box;outline:none}.img-container{height:37px}.status-duration{text-align:right;color:#616161;margin-top:12px;font-size:11px!important}.vehicle-no{font-size:16px!important;color:#000;white-space:nowrap}.status{font-size:14px;font-weight:700;color:#757575}.myTab>>>.mat-tab-label{min-width:10px}.address{font-size:14px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;color:rgba(0,0,0,.54);margin-right:30px}.my-toggle{width:100%}.my-toggle>>>.mat-button-toggle-label-content{text-align:center;line-height:17px;white-space:normal}.menu-button-align{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:20%;overflow:hidden;border-left:1px solid #d3d3d3;height:40px}.no-vts-info{white-space:nowrap;height:42px;color:#d0d0d0;margin-top:27px;-webkit-transform:rotate(-30deg);transform:rotate(-30deg);margin-left:22%}.badge-icon{background-color:#1976d2;color:#fff;padding:0 3px;border-radius:10px;line-height:1.3;font-size:11px;margin-top:-12px;position:absolute}.show-ellipsis{overflow:hidden;text-overflow:ellipsis}\r\n  /*!*box-shadow: 0px 0px 6px darkgrey;*!*/",""]),e.exports=e.exports.toString()},"21eo":function(e,t){e.exports='\r\n\x3c!--Top Header to be shown in mobile view only --\x3e\r\n\r\n<div class="top-header" id="top-head" *ngIf="view!=\'web\'" >\r\n  <div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">\r\n      <span >\r\n        <i style="color:white;" (click)="goToManageVehicles()" class="fa fa-arrow-left" aria-hidden="true" ></i>\r\n      </span>\r\n    <span>\r\n        <label style="color:white;margin-left: 10px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">Edit Vehicles</label>\r\n      </span>\r\n\r\n    <span style="margin-left: auto;margin-right:45px;" >\r\n         <span style="font-size: 23px;color: rgba(245, 245, 245, 0.99);" *ngIf="_calledFrom !== \'VehicleList\'">\r\n             <i class="fa fa-trash" aria-hidden="true" (click)="deleteSelectedVehicleFromGroup()"  ></i>\r\n         </span>\r\n      </span>\r\n  </div>\r\n</div>\r\n\r\n\x3c!--Top header ends here--\x3e\r\n<div style="margin-left: 30px;margin-top: 17px;">\r\n  <h3>{{vehicleNumber}}</h3>\r\n<div style="width: 100%">\r\n  <md-input-container style="width:85%" >\r\n    <input placeholder="Vehicle Number"  mdInput required [(ngModel)]="vehicleNumber" >\r\n  </md-input-container>\r\n</div>\r\n\r\n<div style="width: 100%">\r\n  <md-select  placeholder="Vehicle Type"  style="width: 85%; margin-bottom: 8%" [(ngModel)]="vehicleType"  >\r\n    <md-option  [value]="vtype" *ngFor="let vtype of vehicleTypeList">{{vtype}}</md-option>\r\n  </md-select>\r\n</div>\r\n\r\n\x3c!--<div style="width: 100%">--\x3e\r\n  \x3c!--<md-select  placeholder="Status"  style="width: 85%" [(ngModel)]="vehicleStatus"  >--\x3e\r\n    \x3c!--<md-option  [value]="vStatus" *ngFor="let vStatus of vehicleStatusList">{{vStatus}}</md-option>--\x3e\r\n  \x3c!--</md-select>--\x3e\r\n\x3c!--</div>--\x3e\r\n\r\n\r\n<div style="margin-top: 5%">\r\n  <button md-raised-button (click)="goToManageVehicles()">CANCEL</button>\r\n  <button md-raised-button color="primary" style="margin-left: 30%" (click)="saveEditVehicles()">SAVE</button>\r\n</div>\r\n</div>\r\n'},"2ANS":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}.top-header{width:100%;padding-bottom:3px;top:0;z-index:100;position:absolute}.menu-button-align{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:20%;overflow:hidden;border-left:1px solid #d3d3d3;height:33px}.badge-icon{background-color:#1976d2;color:#fff;padding:0 4px;border-radius:10px;line-height:1.4;font-size:11px;margin-top:-10px;position:absolute}",""]),e.exports=e.exports.toString()},"2HuV":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("fYnu"),s=i("yMY0"),a=i("5J2v"),l=i("Dkvd");i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i,n){var o=this;this._store=e,this.scheduleReportService=t,this.snackBar=i,this._angularitics=n,this.steperNo=1,this.validationMsg="",this.isReportTypeDialog=!1,this.allFrequency=["Daily","Weekly","Monthly","Periodic"],this.reportType={running:!0,stoppage:!1,timeline:!1},this.reportTypes=["Running"],this.rType="Running",this.selectedFrequency="Daily",this.scheduleDate=null,this.scheduleTime=null,this.dateNos=[],this.periodicNoList=[],this.vehicleList=[],this.vehicles=[],this.emailList=[],this.dateNo="1",this.periodicNo="1",this.actionType="email",this.email="",this.repeat="",this.day={sunday:!1,monday:!0,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1},this.unSub_PickedVehicles=null,this.unSub_scheduleCreatedAck=null,e.dispatch({type:"TITLE",payload:"Create Schedule"}),e.dispatch({type:"IS_BACK",payload:{isBack:!0,backToComponent:"scheduleList"}});for(var r=1;r<=31;r++)this.dateNos.push(""+r),r<=30&&this.periodicNoList.push(""+r);this.unSub_PickedVehicles=e.select("PickedVehicles").subscribe(function(e){console.log(e),o.vehicleList=e,o.vehicles=[];for(var t=0;t<o.vehicleList.length;t++)o.vehicles.push(o.vehicleList[t].uuid);console.log(o.vehicles)})}return e.prototype.ngOnDestroy=function(){console.log("destroy"),this._store.dispatch({type:"IS_BACK",payload:{isBack:!1,backToComponent:""}}),void 0!==this.unSub_PickedVehicles&&null!=this.unSub_PickedVehicles&&void 0!=this.unSub_PickedVehicles&&this.unSub_PickedVehicles.unsubscribe(),void 0!==this.unSub_scheduleCreatedAck&&null!=this.unSub_scheduleCreatedAck&&void 0!=this.unSub_scheduleCreatedAck&&this.unSub_scheduleCreatedAck.unsubscribe()},e.prototype.ngOnInit=function(){},e.prototype.remove=function(e){this.emailList.splice(e,1),this.emailList.length<=0&&(this.chipValue="")},e.prototype.add=function(e){console.log(e.trim()),this.validate(e.trim())&&(this.emailList.push(e.trim()),this.emailList.length>0?this.chipValue=" ":this.chipValue=""),console.log(this.emailList)},e.prototype.validate=function(e){return!!/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/.test(e)},e.prototype.goToStep2=function(){console.log(this.day),console.log(this.scheduleTime),this.steperNo=2},e.prototype.goToStep3=function(){this.steperNo=3},e.prototype.create=function(){var e=this,t={customerId:"rohitpalod-fretron",emailList:this.emailList,vehicleList:this.vehicles,reportSchduleType:this.selectedFrequency,reportType:this.reportTypes,time:this.scheduleTime.getTime()};"Daily"==this.selectedFrequency?t.schedule={}:"Weekly"==this.selectedFrequency?t.schedule={daysOfWeek:this.getWeekNos(this.day)}:"Monthly"==this.selectedFrequency?t.schedule={datesOfMonth:[Number(this.dateNo)]}:"Periodic"==this.selectedFrequency&&(t.schedule={noOfDays:Number(this.periodicNo)}),console.log(t),this._angularitics.eventTrack("Create_Schedule",t),this.scheduleReportService.createNewSchedule.emit(t),this.unSub_scheduleCreatedAck=this._store.select("scheduleCreatedAck").subscribe(function(t){console.log(t),null!=t&&(""==t.error?(e.openSnackBar(t.errorMsg),e._store.dispatch(i.i(a.c)(["/vtsdashboard/scheduleList"]))):e.openSnackBar(t.errorMsg))})},e.prototype.getWeekNos=function(e){var t=[];return 1==e.sunday&&t.push(0),1==e.monday&&t.push(1),1==e.tuesday&&t.push(2),1==e.wednesday&&t.push(3),1==e.thursday&&t.push(4),1==e.friday&&t.push(5),1==e.saturday&&t.push(6),t},e.prototype.selReportType=function(){console.log(this.reportType),this.validationMsg="",this.rType="";var e=[];if(1==this.reportType.running&&(this.rType="Running",e.push("Running")),1==this.reportType.stoppage&&(this.rType=this.rType+" Stoppage",e.push("Stoppage")),1==this.reportType.timeline&&(this.rType=this.rType+" Timeline",e.push("Timeline")),e.length>0)this.isReportTypeDialog=!1,this.reportTypes=JSON.parse(JSON.stringify(e));else{this.validationMsg="Please select at least one";for(var t=0;t<this.reportTypes.length;t++)this.rType=this.rType+this.reportTypes[t]+" "}this.rType=this.rType.trim(),this.rType=this.rType.replace(/ /g,", ")},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e}();p=c([i.i(n.Component)({selector:"app-create-schedule",template:i("e9kj"),styles:[i("sRtd")]}),d("design:paramtypes",["function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(g=void 0!==r.A&&r.A)&&g||Object,"function"==typeof(f=void 0!==l.a&&l.a)&&f||Object])],p);var u,h,g,f},"2MOS":function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("kZql");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){var i=this;this.http=e,this._store=t,this.geocodePath=a.b.GEOCODE_PATH,this.key=a.c.KEY,this.getGeoCodeAddress=new n.EventEmitter,this.getGeoCodeAddress.subscribe(function(e){var t="";t=i.geocodePath+"/json?latlng="+e.latitude+","+e.longitude+"&key="+i.key,i.getAddress(t).subscribe(function(e){"OK"==e.status?i._store.dispatch({type:"FORMATTED_ADDRESS",payload:{error:"",address:e}}):i._store.dispatch({type:"FORMATTED_ADDRESS",payload:{error:"",address:""}})},function(e){console.log(e),i._store.dispatch({type:"FORMATTED_ADDRESS",payload:{error:"X",errorMsgObj:e}})})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getAddress=function(e){var t=new o.c,i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){return console.log(e.json()),e.json()})},e}();d=l([i.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(p=void 0!==o.f&&o.f)&&p||Object,"function"==typeof(u=void 0!==s.b&&s.b)&&u||Object])],d);var p,u},"2iJx":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("yMY0"),a=i("fYnu"),l=i("Dkvd");i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i,n){var o=this;this._store=e,this.scheduleReportService=t,this.snackBar=i,this._angularitics=n,this.isSpinner=!1,this.errorMsg="",this.scheduleList=[],this.unSub_scheduleReportList=null,this.unSub_changeScheduleReportState=null,e.dispatch({type:"TITLE",payload:"Schedule Report"}),this.scheduleReportService.getScheduleReport.emit(),this.isSpinner=!0,this.unSub_scheduleReportList=e.select("scheduleReportList").subscribe(function(e){if(console.log(e),o.errorMsg="",null!=e&&("X"==e.error&&(console.log(e.msg),o.errorMsg=e.msg,o.isSpinner=!1),""==e.error)){o.scheduleList=e.list,console.log(e.list);for(var t=0;t<o.scheduleList.length;t++)if("Weekly"==o.scheduleList[t].reportSchduleType){for(var i="",n=0;n<o.scheduleList[t].schedule.daysOfWeek.length;n++)console.log(o.numberToDay(o.scheduleList[t].schedule.daysOfWeek[n])),i=i+o.numberToDay(o.scheduleList[t].schedule.daysOfWeek[n])+", ";o.scheduleList[t]._days=i}o.isSpinner=!1}})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_scheduleReportList&&null!=this.unSub_scheduleReportList&&void 0!=this.unSub_scheduleReportList&&this.unSub_scheduleReportList.unsubscribe(),void 0!==this.unSub_changeScheduleReportState&&null!=this.unSub_changeScheduleReportState&&void 0!=this.unSub_changeScheduleReportState&&this.unSub_changeScheduleReportState.unsubscribe()},e.prototype.ngOnInit=function(){this._angularitics.eventTrack("Schedule_Reports_Opened",{category:"ScheduleReports"})},e.prototype.numberToDay=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]},e.prototype.changeScheduleState=function(e){var t=this;console.log(e),this._store.dispatch({type:"CHANGE_SCHEDULE_REPORT_STATE_ACK",payload:null}),this.state=JSON.parse(JSON.stringify(e.activeStatus)),console.log(this.state);var i={scheduleId:e.scheduleId,activeState:e.activeStatus=!e.activeStatus};console.log(i),this._angularitics.eventTrack("Schedule_State-Changed",i),this.scheduleReportService.changeScheduleState.emit(i),this.isSpinner=!0,this.unSub_changeScheduleReportState=this._store.select("changeScheduleReportState").subscribe(function(i){console.log(i),t.errorMsg="",null!=i&&(t.isSpinner=!1,""==i.error?(console.log(i.errorMsg),t.openSnackBar(i.errorMsg)):(console.log(i.errorMsg),t.openSnackBar(i.errorMsg),e.activeStatus=t.state))})},e.prototype.goToCreateNewSchedule=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/createSchedule"]))},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e}();p=c([i.i(n.Component)({selector:"app-schedule-list",template:i("eXlC"),styles:[i("ktse")]}),d("design:paramtypes",["function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(g=void 0!==a.A&&a.A)&&g||Object,"function"==typeof(f=void 0!==l.a&&l.a)&&f||Object])],p);var u,h,g,f},"3h9r":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v");i.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e){this._store=e,this.view="",this.view=document.view,this._store.dispatch({type:"TITLE",payload:"Manage Organisation"})}return e.prototype.ngOnInit=function(){},e.prototype.goToUserManagement=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/userManagementConsole"]))},e.prototype.goToManageVehicles=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/manageVehicles"]))},e.prototype.goToTripTemplate=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/tripTemplateStatus"]))},e}();l=s([i.i(n.Component)({selector:"app-manage-organisation",template:i("inIO"),styles:[i("yXZo")]}),a("design:paramtypes",["function"==typeof(c=void 0!==o.b&&o.b)&&c||Object])],l);var c},"43U1":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("OMJi"),a=(i.n(s),i("fYnu")),l=i("0Xiv"),c=i("CihD"),d=i("Ths4"),p=(i.n(d),i("MbBB"));i.d(t,"a",function(){return g});var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,i,o,r,s){var a=this;this._store=e,this.localStorageService=t,this.templateService=i,this.tripServices=o,this.snackBar=r,this.eta_distance=s,this.isClicked=!1,this.originObj=null,this.originName="",this.originAddress="",this.destinObj=null,this.destinationName="",this.destinationAddress="",this.unSub_freightLocation=null,this.waitForLastResp=!1,this.isAddVehicleDialog=!1,this.isShowLocationDialog=!1,this.unSub_etaDistance=null,this.etaDistanceData=[],this.transitDays=0,this.distance=null,this.material=null,this.quantity=null,this.locationNameList=[],this.showAddressList=!1,this.showDestAddressList=!1,this.unSub_searchName=null,this.unSub_detailsAddTripTemplate=null,this.unSub_sourceAddress=null,this.unSub_destinationAddress=null,this.typeOfLocationCreator={type:"Polygon"},this.searchLocationByName=new n.EventEmitter,this.orgId=this.localStorageService.get("ORGID"),console.log(this.orgId),this._store.dispatch({type:"TITLE",payload:"Add Trip Template"}),this.unSub_etaDistance=this._store.select("etaDistanceStore").subscribe(function(e){null!=e&&(console.log(e.value),a.etaDistanceData=e.value,null!=a.etaDistanceData&&(console.log(a.etaDistanceData[0].status),"OK"==a.etaDistanceData[0].status?a.setETA_Distance():(a.transitDays=0,a.distance="0"),console.log(a.etaDistanceData)))})}return e.prototype.ngOnDestroy=function(){this._store.dispatch({type:"IS_BACK",payload:{isBack:!1,backToComponent:""}}),this._store.dispatch({type:"ETA_DISTANCE",payload:null}),void 0!==this.unSub_detailsAddTripTemplate&&null!=this.unSub_detailsAddTripTemplate&&void 0!=this.unSub_detailsAddTripTemplate&&this.unSub_detailsAddTripTemplate.unsubscribe(),void 0!==this.unSub_sourceAddress&&null!=this.unSub_sourceAddress&&void 0!=this.unSub_sourceAddress&&this.unSub_sourceAddress.unsubscribe(),void 0!==this.unSub_destinationAddress&&null!=this.unSub_destinationAddress&&void 0!=this.unSub_destinationAddress&&this.unSub_destinationAddress.unsubscribe(),void 0!==this.unSub_etaDistance&&null!=this.unSub_etaDistance&&void 0!=this.unSub_etaDistance&&this.unSub_etaDistance.unsubscribe(),void 0!==this.unSub_searchName&&null!=this.unSub_searchName&&void 0!=this.unSub_searchName&&this.unSub_searchName.unsubscribe()},e.prototype.setLocationType=function(e){this.locationType=e,this.searchString(),this.isShowLocationDialog=!0},e.prototype.setOriginLocation=function(e){console.log(e);var t=(this.locationType,{});null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj source"),t=e.freightLocation):(console.log("contains No freight location Obj source"),t=e),(i.i(s.isNullOrUndefined)(t.address)||""==t.address)&&(t.address=e.name),this.originName=t.name,this.oLat="Proximity"==t.geofence.type?t.geofence.circle.center.latitude:t.geofence.center.latitude,this.oLng="Proximity"==t.geofence.type?t.geofence.circle.center.longitude:t.geofence.center.longitude,this.etaDistanceCalaculater(this.oLat,this.oLng,this.dLat,this.dLng),this.showAddressList=!1,this.originObj=t,this.isShowLocationDialog=!1},e.prototype.setDestinationLocation=function(e){var t={};null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj Destination"),t=e.freightLocation):(console.log("contains No freight location Obj Destination"),t=e),(i.i(s.isNullOrUndefined)(t.address)||""==t.address)&&(t.address=e.name),this.destinationName=t.name,this.dLat="Proximity"==t.geofence.type?t.geofence.circle.center.latitude:t.geofence.center.latitude,this.dLng="Proximity"==t.geofence.type?t.geofence.circle.center.longitude:t.geofence.center.longitude,this.etaDistanceCalaculater(this.oLat,this.oLng,this.dLat,this.dLng),this.showDestAddressList=!1,this.destinObj=t,this.isShowLocationDialog=!1},e.prototype.ngOnInit=function(){},e.prototype.addTemplateData=function(){if(i.i(s.isNullOrUndefined)(this.originName)||""==this.originName)return void this.openSnackBar("Please fill Trip Origin");if(i.i(s.isNullOrUndefined)(this.destinationName)||""==this.destinationName)return void this.openSnackBar("Please fill Trip Destination");if(i.i(s.isNullOrUndefined)(this.transitDays)||""+this.transitDays=="")return void this.openSnackBar("Please fill Transit Days");if(i.i(s.isNullOrUndefined)(this.material)||""+this.material=="")return void this.openSnackBar("Please fill Material Type");var e={orgId:this.orgId,origin:this.originObj,destination:this.destinObj,transitDays:this.transitDays,distance:this.distance,material:this.material,quantity:this.quantity};this.isClicked=!0,console.log(e),this.templateService.createTripTemplate.emit(e),this.templateService.tripTemplateStatus.emit(),this._store.dispatch({type:"REFERSH_TRIP_TEMPALTE",payload:"Reload Template List"}),this._store.dispatch(i.i(r.c)(["/vtsdashboard/tripTemplateStatus"]))},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"OK",{duration:4e3})},e.prototype.etaDistanceCalaculater=function(e,t,i,n){if(null!=n&&null!=i&&null!=e&&null!=t){var o={oLat:e,oLng:t,dLat:i,dLng:n};this.eta_distance.getEtaDistance.emit(o)}},e.prototype.cancelAddTrip=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/tripTemplateStatus"]))},e.prototype.searchString=function(){var e="";console.log(this.locationType),console.log(this.originName),"origin"==this.locationType&&(e=this.originName),"destination"==this.locationType&&(e=this.destinationName),console.log(e),this.searchLocationByName.emit(e)},e.prototype.setETA_Distance=function(){var e=Number(this.etaDistanceData[0].duration.value)/86400;console.log(Math.ceil(e)),console.log(e),this.transitDays=Math.ceil(e),this.distance=String(Number(this.etaDistanceData[0].distance.value/1e3).toFixed(2))},e}();u([i.i(n.ViewChild)("searchOrigin"),h("design:type","function"==typeof(f=void 0!==n.ElementRef&&n.ElementRef)&&f||Object)],g.prototype,"searchOrigineElementRef",void 0),u([i.i(n.ViewChild)("searchDestination"),h("design:type","function"==typeof(v=void 0!==n.ElementRef&&n.ElementRef)&&v||Object)],g.prototype,"searchDestElementRef",void 0),g=u([i.i(n.Component)({selector:"app-add-trip-template",template:i("srgl"),styles:[i("tTLD")]}),h("design:paramtypes",["function"==typeof(m=void 0!==o.b&&o.b)&&m||Object,"function"==typeof(y=void 0!==d.LocalStorageService&&d.LocalStorageService)&&y||Object,"function"==typeof(x=void 0!==l.a&&l.a)&&x||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object,"function"==typeof(T=void 0!==a.A&&a.A)&&T||Object,"function"==typeof(S=void 0!==p.a&&p.a)&&S||Object])],g);var f,v,m,y,x,b,T,S},"4AaW":function(e,t){e.exports='    <agm-map style="height: calc(100vh - 35px);" [latitude]="latitudeDestination" [longitude]="longitudeDestination" [zoom]="dZoom" >\r\n        <agm-marker\r\n          (dragEnd)="markerDragPosition($event)"\r\n          [markerDraggable]="true"\r\n          [latitude]="latitudeDestination" [longitude]="longitudeDestination">\r\n        </agm-marker>\r\n    </agm-map>\r\n'},"4j/9":function(e,t,i){"use strict";var n=i("3j3K");i.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.el=e}return e.prototype.ngAfterViewInit=function(){this.el.nativeElement.focus()},e}();s=o([i.i(n.Directive)({selector:"[myAutofocus]"}),r("design:paramtypes",["function"==typeof(a=void 0!==n.ElementRef&&n.ElementRef)&&a||Object])],s);var a},"56h4":function(e,t){e.exports='<md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\n\n\x3c!--   *************  add new vehicle box **************** --\x3e\n<div *ngIf="isSelectDateDialog"   class="mycustomDialog" style="padding-top: 70px;">\n  <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\n    <div class="modal-header">\n      <span class="close" (click)="isSelectDateDialog=false;" >&times;</span>\n      <label>{{\'Select Date\' | translate }}</label>\n    </div>\n    <div  style="padding: 5px;font-size: 13px;">\n      <div style="height:250px;overflow:auto;padding:3px;" >\n        <md-card *ngFor="let curDate of dateList" style="margin-top: 3px;font-size: 18px;text-align: center;cursor: pointer" (click)="getLocationHistory(curDate);isSelectDateDialog=false;">\n          <span style="color: cadetblue;">{{curDate | date }}</span>\n        </md-card>\n      </div>\n    </div>\n  </div>\n</div>\n\x3c!--Add new vehicle dialog ends here--\x3e\n\n\n\n<div  fxLayout="row" fxLayout.xs="column"  style="overflow: hidden;height: calc(100vh - 35px);box-shadow: 0px 4px 17px darkgrey;" >\n  <div   fxFlex.xs="50" fxFlex="60" fxFlex.gt-md="70" id="map" style="position: relative">\n    <div style="width: 100%;text-align: center;position: absolute;z-index: 1;padding: 5px">\n      <label class="vehicle_no_header">{{selectdVehicle[\'vehicleRegistrationNumber\']}}</label>\n    </div>\n    <agm-map [zoom]="12"  [latitude]="lat" [longitude]="long" style="height: 100%">\n      <agm-marker  [latitude]="lat" [longitude]="long" ></agm-marker>\n      \x3c!--<agm-marker *ngFor="let location of locationHislist;"  [latitude]="location.endPosition.latitude" [longitude]="location.endPosition.longitude" ></agm-marker>--\x3e\n      \x3c!--<agm-circle [latitude]="lat" [longitude]="long" [radius]="1000" [fillColor]="red" >--\x3e\n                  \x3c!--&lt;!&ndash;[circleDraggable]="true" [editable]="true" >&ndash;&gt;--\x3e\n      \x3c!--</agm-circle>--\x3e\n      \x3c!--<agm-polyline strokeColor="blue" geodesic=true >--\x3e\n            \x3c!--<agm-polyline-point *ngFor="let location of locationHislist;" [latitude]="location.endPosition.latitude" [longitude]="location.endPosition.longitude"></agm-polyline-point>--\x3e\n            \x3c!--<agm-polyline-point *ngFor="let location of locationHislist;" [latitude]="location.startPosition.latitude" [longitude]="location.startPosition.longitude"></agm-polyline-point>--\x3e\n      \x3c!--</agm-polyline>--\x3e\n\n    </agm-map>\n\x3c!-- at bottom of map show date picker scrollable bar , only show in desktop view--\x3e\n    <div *ngIf="isfooterDateBar == true" style="position:absolute;bottom:8px;z-index: 2;width:90%;overflow:auto;padding-left: 10px">\n      <ul drag-scroll (scroll)="isDrag = true;"  style="list-style: none;width: 99%;position: relative;overflow-x: auto;padding-left: 3px;"\n          fxLayout="row" >\n         <li style="text-align:center;" *ngFor="let curDate of dateList" class="select-date" >\n           <md-card style="display: grid;margin-left: 4px;" [class.selected-date]="curDate.getTime()==selectedDate.getTime()"\n                 fxLayout="row" (click)="(isDrag==true)?(isDrag=false):getLocationHistory(curDate)">\n            <label fxFlex="30" style="font-size: 35px;cursor: pointer">{{curDate | date:\'d\'}}</label>\n            <label fxFlex="70" style="font-size: 17px;width: 100px;white-space: initial;cursor: pointer">{{curDate | date:\'EEEE  MMMM  y\'}}</label>\n           </md-card>\n         </li>\n      </ul>\n    </div>\n    \x3c!-- ******* at bottom of map date picker scrollable bar close here ***********88--\x3e\n  </div>\n\n  \x3c!--<div id="map" class="map"> </div>--\x3e\n  \x3c!--<hr style="border-style:ridge;bagm-map>\n  </div>\n\n  \x3c!--<: 3px">--\x3e\n  \x3c!--<div style="height: 55%"></div>--\x3e\n  <md-card   fxFlex.xs="100"  fxFlex="40" fxFlex.gt-md="30" id="timeline_card"  [style.margin-top]="isFullScreen?mapHeight:\'0px\'" class="show-fullscreen"\n            name="aa" style="overflow: hidden;z-index:2" >\n    <div  (panup)="fullScreen()"  (pandown)="hideScreen()"   class="timeline-header" style="margin-top: -8px">\n      <i class="fa fa-chevron-left" aria-hidden="true" style="float:left;font-size: 21px;color: cornflowerblue;cursor: pointer" (click)="previousDate()"></i>\n      <span  (click)="isSelectDateDialog = true" style="color: black;font-size: 16px;padding: 4px 20% 4px 20%;cursor:pointer">{{selectedDate | date }}</span>\n      <i class="fa fa-chevron-right" aria-hidden="true" style="float:right;font-size: 21px;color: cornflowerblue;cursor: pointer" (click)="nextDate()"></i>\n    </div>\n      <div *ngIf="errorMsg != \'\'" style="width: 100%;text-align: center;padding-top: 10px;">\n        <span style="font-size: 15px;color: red" >{{errorMsg}}</span>\n      </div>\n    <div style="overflow: auto;height: 98%;padding-top: 10px;" >\n    <section class="cd-timeline" *ngFor="let location of locationHislist;" style="padding-bottom: 50px;">\n      <div fxLayout="row" style="padding-bottom: 3px" >\n        <div fxFlex="20%">\n          <button  md-icon-button class="timeline-icon"><i class="fa fa-map-marker" aria-hidden="true"></i></button>\n        </div>\n        <div fxFlex="65%" #parentEle  (click)="location.isMore=true;goToMapLocation(location)" style="overflow: hidden;text-overflow: ellipsis" >\n          <span (click)="location.isMore=true"  #childEle style="font-size: 18px;color: black;" [style.white-space]="location.isMore?\'normal\':\'nowrap\'" >\n            {{location[\'address\']?.formatted_address}}\n          </span>\n          \x3c!--<span  (click)="location.isMore=true" style="float:right">--\x3e\n            \x3c!--<i  *ngIf="(parentEle.offsetWidth < childEle.offsetWidth) && !location.isMore" class="fa fa-ellipsis-h" aria-hidden="true"></i>--\x3e\n          \x3c!--</span>--\x3e\n        </div>\n        <div fxFlex="25%" style="text-align: right;padding-top: 3px;">\n          <span >{{location[\'distance\']/1000  | number : \'1.2-2\' }} km</span>\n        </div>\n      </div>\n\n      \x3c!-- *************** for expand up-down arrow icon ************  --\x3e\n      <div style="margin-left: 12%;position: relative;overflow: hidden" fxLayout="row" >\n        <div *ngIf="!location.isExpand "\n             fxLayout="column" (click)="location.isExpand = true" style="margin-top: -5px;margin-bottom:-5px">\n          <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:blue;" ></i>\n          <i  class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:blue;" ></i>\n        </div>\n\n        <div *ngIf="location.isExpand" fxLayout="column" (click)="location.isExpand = false" style="margin-top: -5px;margin-bottom:-5px">\n          <i  class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:blue;" ></i>\n          <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:blue;" ></i>\n        </div>\n\n        <div *ngIf="!location.isExpand" style="margin-left:8px;white-space:nowrap;margin-top:5px;" >\n          <span>5 rows</span>\n        </div>\n\n        <div class="data-box"[class.hide-up-Slowly]="!location.isExpand" [class.show-down-Slowly]="location.isExpand == true"  fxLayout="column"  >\n          <span  style="padding: 5px" >this is dummy data to  </span>\n          <span  style="padding: 5px" >show the hiden element and next </span>\n          <span  style="padding: 5px" >show the hiden element and next 3 </span>\n          <span  style="padding: 5px" >show the hiden element and next 5 </span>\n          <span  style="padding: 5px" >show the hiden element and next 6</span>\n        </div>\n      </div>\n      \x3c!-- *****************************************************  --\x3e\n\n      <div style="margin-left: 21%;margin-top: 5px">\n        <div fxLayout="row">\n          <span fxFlex="70%"> {{location[\'endTime\'] | date:\'short\' }}</span>\n          <span fxFlex="30%" style="text-align: right">{{location[\'_duration\']}}</span>\n        </div>\n      </div>\n      <div style="margin-left: 21%;margin-top: 7px">\n        <label  style="background-color: red;color: white;border-radius: 3px;padding: 3px" *ngIf="location[\'state\']==\'-1\'">{{\'Disconnected\' | translate }}</label>\n        <label  style="background-color: royalblue;color: white;border-radius: 3px;padding: 3px" *ngIf="location[\'state\']==\'2\'" >{{\'Overspeed\' | translate }}</label>\n        <label  style="background-color: green;color: white;border-radius: 3px;padding: 3px" *ngIf="location[\'state\']==\'1\'" >{{\'Moving\' | translate }}</label>\n        <label  style="background-color: yellow;color: black;border-radius: 3px;padding: 3px" *ngIf="location[\'state\']==\'0\'">{{\'Stop\' | translate }}</label>\n      </div>\n      \x3c!-- cd-timeline-img --\x3e\n    </section>\n\n    <div style="height:50px"></div>\n    </div>\n  </md-card>\n</div>\n\n'},"58gE":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"md-card{margin-top:10px;padding:5px;font-family:Gotham-Rounded-Medium,Sans-Serif!important;color:#252525;font-size:13px}button{color:#fff;background-color:#1e88e5;padding:0;min-width:0}.vehicle-list{list-style:none;margin-top:-3px;padding-left:10px;margin-bottom:5px;display:block}.vehicle-list li{border-radius:3px;padding:7px;background-color:beige;margin-bottom:7px;float:left;margin-right:10px}.remove-vehicle{padding:4px;line-height:12px;color:#6495ed;float:right;font-size:18px;margin-right:-14px;background-color:#fffacd;margin-top:-16px;border-radius:13px}.remove-vehicle:focus,.remove-vehicle:hover{color:#fff;text-decoration:none;cursor:pointer;background-color:#6495ed}.share-download i{font-size:16px;padding:5px;margin-right:15px}.share-download i span{font-size:8px;vertical-align:8px;margin-left:-4px}.share-download:focus,.share-download i:hover{color:#6495ed;text-decoration:none;cursor:pointer}.add-button{width:50px;height:50px;line-height:50px;padding:0;min-width:0;font-size:18px;border-radius:30px;box-shadow:1px 4px 17px #2f4f4f}.timeline-icon{font-size:11px;width:32px;height:32px;background-color:#ffebcd;padding:10px;position:absolute;margin-top:-34px;border-radius:32px;margin-left:-23px;color:#000;overflow:hidden}.vehicle-hover:hover{background-color:beige}.select-vehicle{padding:10px;color:#fff;border-radius:21px;font-size:18px}.img-container{margin-top:-8px;height:35px}",""]),e.exports=e.exports.toString()},"5U1O":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".top-header{width:100%;padding-bottom:3px;top:0;z-index:100;position:absolute}.align-center{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.modal{position:fixed;z-index:6;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;top:20%}.close{color:#aaa;float:right;font-size:28px;font-weight:700}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}",""]),e.exports=e.exports.toString()},"5XKy":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"5fbh":function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Pgz3"),l=i("Ths4"),c=(i.n(l),i("kZql"));i.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,i,r){var s=this;this.http=e,this._store=t,this._service=i,this.localStorageService=r,this.defaultHeaders=new o.c,this.geocodePath=c.b.GEOCODE_PATH,this.key=c.c.KEY,this.getRunningReport=new n.EventEmitter,this.getStoppageReport=new n.EventEmitter,this.getOverspeedReport=new n.EventEmitter,this.defaultHeaders.append("Access-Control-Allow-Origin","*"),this.defaultHeaders.append("Access-Control-Allow-Methods","GET,POST, OPTIONS, PUT, PATCH, DELETE"),this.getRunningReport.subscribe(function(e){console.log(e);var t=c.b.PATHv2+"/report/v2/running";console.log(t),s.getReport(t,e).subscribe(function(e){if(console.log(e),"X"==e.error)return void s._store.dispatch({type:"VEH_RUNNING_REPORT",payload:{error:"X",errorMsg:"No any record Found"}});var t=e;""==e.error&&s._store.dispatch({type:"VEH_RUNNING_REPORT",payload:{error:"",data:t}});for(var n="",o=function(e){t[e].destinationAddress={},t[e].sourceAddress={},void 0==t[e].endPosition.lat&&null==t[e].endPosition.lat||void 0==t[e].endPosition.long&&null==t[e].endPosition.long||(n=s.geocodePath+"/json?latlng="+t[e].endPosition.lat+","+t[e].endPosition.long+"&key="+s.key,i.getVehicleAddress(n).subscribe(function(i){t[e].destinationAddress=i.results[0]},function(e){console.log(e)})),void 0==t[e].startPosition.lat&&null==t[e].startPosition.lat||void 0==t[e].startPosition.long&&null==t[e].startPosition.long||(n=s.geocodePath+"/json?latlng="+t[e].startPosition.lat+","+t[e].startPosition.long+"&key="+s.key,i.getVehicleAddress(n).subscribe(function(i){t[e].sourceAddress=i.results[0]},function(e){console.log(e)}))},r=0;r<t.length;r++)o(r);s._store.dispatch({type:"VEH_RUNNING_REPORT",payload:{error:"",data:t}})},function(e){s._store.dispatch({type:"VEH_RUNNING_REPORT",payload:{error:"X",errorMsg:"error occur while fetching data"}}),console.log(e),console.log(e.json())})}),this.getStoppageReport.subscribe(function(e){console.log(e);var t=c.b.PATHv2+"/report/v2/stoppage";s.getReport(t,e).subscribe(function(e){if(console.log(e),"X"==e.error)return void s._store.dispatch({type:"VEH_STOPPAGE_REPORT",payload:{error:"X",errorMsg:"No any record Found"}});for(var t=e,n="",o=function(e){for(var o=function(o){t[e].value[o].formattedSourceAddress={},void 0==t[e].value[o].startPosition.lat&&null==t[e].value[o].startPosition.lat||void 0==t[e].value[o].startPosition.long&&null==t[e].value[o].startPosition.long||(n=s.geocodePath+"/json?latlng="+t[e].value[o].startPosition.lat+","+t[e].value[o].startPosition.long+"&key="+s.key,i.getVehicleAddress(n).subscribe(function(i){t[e].value[o].formattedSourceAddress=i.results[0]},function(e){console.log(e)}))},r=0;r<t[e].value.length;r++)o(r)},r=0;r<t.length;r++)o(r);s._store.dispatch({type:"VEH_STOPPAGE_REPORT",payload:{error:"",data:t}})},function(e){s._store.dispatch({type:"VEH_STOPPAGE_REPORT",payload:{error:"X",errorMsg:"error occur while fetching data"}}),console.log(e),console.log(e.json())})}),this.getOverspeedReport.subscribe(function(e){console.log(e);var t=c.b.PATHv2+"/report/v2/overspeed";s.getReport(t,e).subscribe(function(e){if(console.log(e),console.log(e.error),"X"==e.error)return void s._store.dispatch({type:"VEH_OVERSPEED_REPORT",payload:{error:"X",errorMsg:"No any record Found"}});for(var t=e,n="",o=function(e){for(var o=function(o){t[e].value[o].formattedSourceAddress={},void 0==t[e].value[o].startPosition.lat&&null==t[e].value[o].startPosition.lat||void 0==t[e].value[o].startPosition.long&&null==t[e].value[o].startPosition.long||(n=s.geocodePath+"/json?latlng="+t[e].value[o].startPosition.lat+","+t[e].value[o].startPosition.long+"&key="+s.key,i.getVehicleAddress(n).subscribe(function(i){t[e].value[o].formattedSourceAddress=i.results[0]},function(e){console.log(e)}))},r=0;r<t[e].value.length;r++)o(r)},r=0;r<t.length;r++)o(r);s._store.dispatch({type:"VEH_OVERSPEED_REPORT",payload:{error:"",data:t}})},function(e){s._store.dispatch({type:"VEH_OVERSPEED_REPORT",payload:{error:"X",errorMsg:"error occur while fetching data"}}),console.log(e),console.log(e.json())})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getReport=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json"),console.log(i);var n=new o.d({method:o.e.Post,headers:i,body:t}),r=this.localStorageService.get("TOKEN"),s="Bearer "+r;return i.set("authorization",s),this.http.request(e,n).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e}();u=d([i.i(n.Injectable)(),p("design:paramtypes",["function"==typeof(h=void 0!==o.f&&o.f)&&h||Object,"function"==typeof(g=void 0!==s.b&&s.b)&&g||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(v=void 0!==l.LocalStorageService&&l.LocalStorageService)&&v||Object])],u);var h,g,f,v},"61JY":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"div,md-card{font-family:Gotham-Rounded-Medium,Sans-Serif!important}md-card{margin-top:10px;padding:5px;color:#252525;font-size:13px}button{color:#fff;background-color:#1e88e5;padding:0;min-width:0}.vehicle-list{list-style:none;margin-top:-3px;padding-left:10px;margin-bottom:5px;display:block}.vehicle-list li{border-radius:3px;padding:7px;background-color:beige;margin-bottom:7px;float:left;margin-right:10px}.remove-vehicle{padding:4px;line-height:12px;color:#6495ed;float:right;font-size:18px;margin-right:-14px;background-color:#fffacd;margin-top:-16px;border-radius:13px}.remove-vehicle:focus,.remove-vehicle:hover{color:#fff;text-decoration:none;cursor:pointer;background-color:#6495ed}.share-download i{font-size:16px;padding:5px;margin-right:15px}.share-download i span{font-size:8px;vertical-align:8px;margin-left:-4px}.share-download:focus,.share-download i:hover{color:#6495ed;text-decoration:none;cursor:pointer}.vehicle-hover:hover{background-color:beige}.select-vehicle{padding:10px;color:#fff;border-radius:21px;font-size:18px}.img-container{margin-top:-8px;height:32px}.view-details{padding:5px;margin-left:20px;display:flow-root}.view-details div{margin-bottom:5px;max-width:300px;float:left;margin-right:35px;width:100%}.edited-datepicker>>>div.picker-control.footer{font-size:18px!important;line-height:35px!important;height:70px!important}.edited-datepicker>>>div.picker-popup{height:auto}.timeline-header>>>.mydrp{border:none}.timeline-header>>>.selection{border:none;background-color:hsla(0,1%,70%,.08)}",""]),e.exports=e.exports.toString()},"67Nf":function(e,t){e.exports='\r\n\r\n<div  style="padding: 1px;overflow:hidden;height: calc(100vh - 36px);box-shadow: 0px 4px 17px darkgrey;">\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n\r\n  <div fxLayout="row" class="slow-expand">\r\n    <section style=" width: 99%;margin-top:7px;" >\r\n      <i (click)="isSearch=true" class="fa fa-search" [style.color]="search.length>0?\'#e98e1e\':\'#ffffff\'"  aria-hidden="true" style="right: 8px;position: absolute;margin-top: 7px;font-size: 15px;"></i>\r\n     <div *ngIf="isSearch" >\r\n       <input myAutofocus (blur)="isSearch=false" class="expand-search"  mdTooltip="{{\'search Here\' | translate }}"   placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" >\r\n     </div>\r\n    </section>\r\n  </div>\r\n\r\n  <section style="margin-top: 1px;margin-bottom: 2px;" >\r\n    <md-button-toggle-group class="my-toggle" style="font-size:12px;height: 40px;" #group="mdButtonToggleGroup" [(ngModel)]="viewTrip" (change)= "filterClickMixpanel()" >\r\n      <md-button-toggle value="" class="menu-button-align" style="min-width: 18%">\r\n        <span style="margin-left: -20px" class="badge-icon" >{{vehicleTripCount[\'all\']}}</span>\r\n        <span>{{\'All\'| translate}}</span>\r\n      </md-button-toggle >\r\n      <md-button-toggle value="WaitingForLoad" class="menu-button-align" style="min-width: 22%">\r\n        <span style="margin-left: -4px" class="badge-icon" >{{vehicleTripCount[\'unassigned\']}}</span>\r\n        <span>{{\'Unassigned\' | translate}}</span>\r\n      </md-button-toggle>\r\n      <md-button-toggle value="AtDestination" class="menu-button-align" >\r\n        <span fxHide.xs="true" style="margin-left: -18px;" class="badge-icon" >{{vehicleTripCount[\'underUnloading\']}}</span>\r\n        <span fxHide.gt-xs="true" style="margin-left: -20%;margin-top: -3%;" class="badge-icon" >{{vehicleTripCount[\'underUnloading\']}}</span>\r\n        <span>{{\'Under Unloading\' | translate}}</span>\r\n      </md-button-toggle>\r\n      <md-button-toggle style="min-width: 36px;" value="EnrouteForPickUp" class="menu-button-align" >\r\n        <span fxHide.xs="true" style="margin-left: -13px;margin-top: -9%;" class="badge-icon" >{{vehicleTripCount[\'underLoading\']}}</span>\r\n        <span  fxHide.gt-xs="true" style="margin-left: -20%;margin-top: -3%;" class="badge-icon" >{{vehicleTripCount[\'underLoading\']}}</span>\r\n        <span>{{\'Under Loading\' | translate}}</span>\r\n      </md-button-toggle>\r\n      <md-button-toggle value="EnrouteForDestination" class="menu-button-align" >\r\n        <span fxHide.xs="true" style="margin-left: -18px;" class="badge-icon" >{{vehicleTripCount[\'inTransite\']}}</span>\r\n        <span fxHide.gt-xs="true"  style="margin-left: -20%;margin-top: -3%;" class="badge-icon" >{{vehicleTripCount[\'inTransite\']}}</span>\r\n        <span>{{\'In Transit\' | translate}}</span>\r\n      </md-button-toggle>\r\n    </md-button-toggle-group>\r\n  </section>\r\n\r\n  <div style="text-align:center;" >\r\n    <span *ngIf="errorMsg != \'\'" style="color:red" >error: {{errorMsg}}</span>\r\n  </div>\r\n\r\n  \x3c!-- **************************** containt start here ******************** --\x3e\r\n      <div   style="overflow:auto;height: calc(100vh - 78px);" >\r\n        <div *ngFor="let tripStatus  of tripStatusList | vehicleFilter: [\'vehicleRegistrationNumber\', search] | tripFilter: [\'vts\', viewTrip];let ind =index" >\r\n\r\n        <md-card *ngIf="tripStatus.vts == \'WaitingForLoad\'" (click)="goToselectedVehView(tripStatus)">\r\n          <div>\r\n            <div fxLayout="row" style="font-size:12px;color:#616161;">\r\n              <span fxFlex="40"  class="vehicle-no" >{{tripStatus?.vehicleRegistrationNumber}}</span>\r\n              \x3c!--<span style="padding-left:5px;color:#9b9b9b" >Privious Trip not available</span>--\x3e\r\n              \x3c!--<span style="padding-left:5px;color:#9b9b9b" >Privious Trip :(reliance ind)</span>--\x3e\r\n            </div>\r\n\r\n            <div fxLayout="row" style="font-size:11px;color:#616161;padding-top:13px;padding-bottom: 10px">\r\n              <span fxFlex="30" class="status">Waiting For Load</span>\r\n              <div style="padding-left:12px;font-size: 11px;margin-top:3px;" fxFlex="45" class="show-ellipsis" >\r\n                <span  (click)="tripStatus._isExpandText =true;expandAddress();" [style.white-space]="tripStatus._isExpandText?\'normal\':\'nowrap\'" >{{tripStatus.address?tripStatus.address:\'N/A\'}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </md-card>\r\n\r\n        <md-card *ngIf="tripStatus.vts == \'EnrouteForDestination\'" (click)="goToselectedVehView(tripStatus)">\r\n          <div>\r\n            <div fxLayout="row" style="font-size:12px;color:#616161;">\r\n              <span fxFlex="30"  class="vehicle-no" >{{tripStatus?.vehicleRegistrationNumber}}</span>\r\n              <div style="padding-left:12px;color:#9b9b9b" fxFlex="35" class="show-ellipsis" >\r\n                  <span (click)="tripStatus._isExpandFromAddress =true;expandAddress();" [style.white-space]="tripStatus._isExpandFromAddress?\'normal\':\'nowrap\'" >\r\n                  <img style="height: 13px;" src="../../../images/trip-icons/Start-location.png" > {{((tripStatus?.tripStartLocation?.name)?(tripStatus?.tripStartLocation?.name):\'N/A\')}}</span>\r\n              </div>\r\n\r\n              <div style="padding-left:5px;font-weight: bold;" fxFlex="35" class="show-ellipsis" >\r\n                 <span (click)="tripStatus._isExpandDestAddress =true;expandAddress();" [style.white-space]="tripStatus._isExpandDestAddress?\'normal\':\'nowrap\'"  >\r\n                 <img style="height: 13px;" src="../../../images/trip-icons/Group.png" > {{(tripStatus?.tripEndLocation?.name)?(tripStatus?.tripEndLocation?.name):\'N/A\'}}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxLayout="row" style="font-size:11px;color:#616161;padding-top:8px;">\r\n              <span fxFlex="30" class="status">Enroute for Delivery</span>\r\n                <div style="padding-left:12px;font-size: 11px" fxFlex="35" class="show-ellipsis" >\r\n                  <span  (click)="tripStatus._isExpandText =true;expandAddress();" [style.white-space]="tripStatus._isExpandText?\'normal\':\'nowrap\'" >{{tripStatus.address?tripStatus.address:\'N/A\'}}</span>\r\n                </div>\r\n                <div fxFlex="35" >\r\n                  <img style="height: 13px;vertical-align: -3px;" src="../../../images/trip-icons/Navigate.png" >\r\n                  <span>{{(tripStatus?.distanceToGo)?(tripStatus?.distanceToGo):\'N/A\'}} in {{(tripStatus?.eta)?(tripStatus?.eta):"N/A"}}</span>\r\n                </div>\r\n            </div>\r\n            <div style="font-size:12px;color:#616161;">\r\n               <span fxFlex="30" style="margin-left: 30%;">Since {{tripStatus._vtsDuration}}</span>\r\n            </div>\r\n          </div>\r\n        </md-card>\r\n\r\n        <md-card *ngIf="tripStatus.vts == \'EnrouteForPickUp\'"  (click)="goToselectedVehView(tripStatus)">\r\n          <div>\r\n            <div fxLayout="row" style="font-size:12px;color:#616161;">\r\n              <span fxFlex="30"  class="vehicle-no" >{{tripStatus?.vehicleRegistrationNumber}}</span>\r\n              <div style="padding-left:12px;;font-weight: bold;" fxFlex="35" class="show-ellipsis" >\r\n                  <span (click)="tripStatus._isExpandFromAddress =true;expandAddress();" [style.white-space]="tripStatus._isExpandFromAddress?\'normal\':\'nowrap\'" >\r\n                  <img style="height: 13px;" src="../../../images/trip-icons/Start-location.png" > {{((tripStatus?.tripStartLocation?.name)?(tripStatus?.tripStartLocation?.name):\'N/A\')}}</span>\r\n              </div>\r\n\r\n              <div style="padding-left:5px;color:#9b9b9b" fxFlex="35" class="show-ellipsis" >\r\n                 <span (click)="tripStatus._isExpandDestAddress =true;expandAddress();" [style.white-space]="tripStatus._isExpandDestAddress?\'normal\':\'nowrap\'"  >\r\n                 <img style="height: 13px;" src="../../../images/trip-icons/Group.png" > {{(tripStatus?.tripEndLocation?.name)?(tripStatus?.tripEndLocation?.name):\'N/A\'}}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxLayout="row" style="font-size:11px;color: #4a4a4a;padding-top:14px;" >\r\n              <span fxFlex="30" class="status" >Enroute for Pickup</span>\r\n              <div style="padding-left:12px;font-size: 11px" fxFlex="35" class="show-ellipsis" >\r\n                <span  (click)="tripStatus._isExpandText =true;expandAddress();" [style.white-space]="tripStatus._isExpandText?\'normal\':\'nowrap\'" >{{tripStatus.address?tripStatus.address:\'N/A\'}}</span>\r\n              </div>\r\n              <div fxFlex="35" >\r\n                <img style="height: 13px;vertical-align: -3px;" src="../../../images/trip-icons/Navigate.png" >\r\n                <span>{{(tripStatus?.distanceToGo)?(tripStatus?.distanceToGo):\'N/A\'}} in {{(tripStatus?.eta)?(tripStatus?.eta):"N/A"}}</span>\r\n              </div>\r\n            </div>\r\n            \x3c!--<div style="font-size:12px;color:#616161;">--\x3e\r\n              \x3c!--<span fxFlex="30" style="margin-left: 30%;">Since {{tripStatus._vtsDuration}}</span>--\x3e\r\n            \x3c!--</div>--\x3e\r\n          </div>\r\n        </md-card>\r\n\r\n        <md-card *ngIf="tripStatus.vts == \'AtPickUpPoint\'"  (click)="goToselectedVehView(tripStatus)">\r\n          <div>\r\n            <div fxLayout="row" style="font-size:12px;color:#616161;">\r\n              <span fxFlex="30"  class="vehicle-no" >{{tripStatus?.vehicleRegistrationNumber}}</span>\r\n              <div style="padding-left:12px;;font-weight: bold;" fxFlex="35" class="show-ellipsis" >\r\n                  <span (click)="tripStatus._isExpandFromAddress =true;expandAddress();" [style.white-space]="tripStatus._isExpandFromAddress?\'normal\':\'nowrap\'" >\r\n                  <img style="height: 13px;" src="../../../images/trip-icons/Start-location.png" > {{((tripStatus?.tripStartLocation?.name)?(tripStatus?.tripStartLocation?.name):\'N/A\')}}</span>\r\n              </div>\r\n\r\n              <div style="padding-left:5px;color:#9b9b9b" fxFlex="35" class="show-ellipsis" >\r\n                 <span (click)="tripStatus._isExpandDestAddress =true;expandAddress();" [style.white-space]="tripStatus._isExpandDestAddress?\'normal\':\'nowrap\'"  >\r\n                 <img style="height: 13px;" src="../../../images/trip-icons/Group.png" > {{(tripStatus?.tripEndLocation?.name)?(tripStatus?.tripEndLocation?.name):\'N/A\'}}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxLayout="row" style="font-size:11px;color: #4a4a4a;padding-top:14px;" >\r\n              <span fxFlex="30" class="status" >At Pickup Point</span>\r\n              <div style="padding-left:12px;font-size: 11px" fxFlex="35" class="show-ellipsis" >\r\n                <span  (click)="tripStatus._isExpandText =true;expandAddress();" [style.white-space]="tripStatus._isExpandText?\'normal\':\'nowrap\'" >{{tripStatus.address?tripStatus.address:\'N/A\'}}</span>\r\n              </div>\r\n              <div fxFlex="35" >\r\n                <img style="height: 13px;vertical-align: -3px;" src="../../../images/trip-icons/Navigate.png" >\r\n                <span>Since {{tripStatus._vtsDuration}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </md-card>\r\n\r\n        <md-card *ngIf="tripStatus.vts == \'AtDestination\'"  (click)="goToselectedVehView(tripStatus)">\r\n          <div>\r\n            <div fxLayout="row" style="font-size:12px;color:#616161;">\r\n              <span fxFlex="30"  class="vehicle-no" >{{tripStatus?.vehicleRegistrationNumber}}</span>\r\n              <div style="padding-left:12px;color:#9b9b9b" fxFlex="35" class="show-ellipsis" >\r\n                  <span (click)="tripStatus._isExpandFromAddress =true;expandAddress();" [style.white-space]="tripStatus._isExpandFromAddress?\'normal\':\'nowrap\'" >\r\n                  <img style="height: 13px;" src="../../../images/trip-icons/Start-location.png" > {{((tripStatus?.tripStartLocation?.name)?(tripStatus?.tripStartLocation?.name):\'N/A\')}}</span>\r\n              </div>\r\n\r\n              <div style="padding-left:5px;font-weight: bold;" fxFlex="35" class="show-ellipsis" >\r\n                 <span (click)="tripStatus._isExpandDestAddress =true;expandAddress();" [style.white-space]="tripStatus._isExpandDestAddress?\'normal\':\'nowrap\'"  >\r\n                 <img style="height: 13px;" src="../../../images/trip-icons/Group.png" > {{(tripStatus?.tripEndLocation?.name)?(tripStatus?.tripEndLocation?.name):\'N/A\'}}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxLayout="row" style="font-size:11px;color:#616161;padding-top:8px;">\r\n              <span fxFlex="30" class="status">At Delivery Point</span>\r\n              <div style="padding-left:12px;font-size: 11px" fxFlex="35" class="show-ellipsis" >\r\n                <span >Since {{tripStatus._vtsDuration}}</span>\r\n              </div>\r\n              <div fxFlex="35" >\r\n                <span>Next :(Not Planned)</span>\r\n                \x3c!--<span>Next : Trip not Planned</span>--\x3e\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </md-card>\r\n\r\n          <md-card *ngIf="tripStatus.vts == null || tripStatus.vts == undefined" >\r\n            <div style="display: flex;padding: 12px 0px;">\r\n              <label  class="vehicle-no" >{{tripStatus?.vehicleRegistrationNumber}}</label>\r\n              <span class="no-vts-info">No Info Available!</span>\r\n            </div>\r\n          </md-card>\r\n\r\n        </div>\r\n        <div style="height:55px"></div>\r\n      </div>\r\n  \x3c!-- **************************** containt end here ******************** --\x3e\r\n</div>\r\n'},"68BZ":function(e,t){e.exports='\n<agm-map [latitude]="lat" [longitude]="lng">\n  <agm-marker [latitude]="lat" [longitude]="lng" [markerDraggable]="true" >\n    <agm-info-window [isOpen]="true" style="color:blue;">\n      <div>\n        <div><b>Pickup Point</b></div>\n        <span><md-checkbox>Confirm Pickup</md-checkbox></span><br>\n        <span><i class="fa fa-calendar-plus-o" style="font-size:medium" aria-hidden="true"></i> 1 Aug 8.25am to 2 Aug 2.40pm </span>\n      </div>\n    </agm-info-window>\n  </agm-marker>\n\n  <agm-marker [latitude]="lat1" [longitude]="lng1" [markerDraggable]="true" >\n    <agm-info-window [isOpen]="true" style="color:blue;">\n      <div>\n        <div><b>Delivery Point</b></div>\n        <span><md-checkbox>Confirm Delivery</md-checkbox></span><br>\n        <span><i class="fa fa-calendar-plus-o" style="font-size:medium" aria-hidden="true"></i> 5Aug 8.25am to 6 Aug 2.40pm </span>\n      </div>\n    </agm-info-window>\n  </agm-marker>\n\n</agm-map>\n<md-card style="margin: 8px;z-index: 10">\n  <div>\n    <span style="color: blue;font-size: larger; font-weight: bold"> Your Selection :\n    </span>\n    <br>\n    <span style="color: #3AC7BC; font-size: medium"> At Pickup Point </span>\n    <br>\n    <span> From:  1 Aug 8.25am </span>\n    <br>\n    <span> To:  2 Aug 8.40pm </span>\n  </div>\n</md-card>\n\n'},"6Zjg":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("tGq5"),s=i("2MOS"),a=i("fYnu"),l=i("5J2v"),c=i("CihD"),d=i("OMJi"),p=(i.n(d),i("Pgz3")),u=i("MbBB"),h=i("Ths4"),g=(i.n(h),i("0Xiv"));i.d(t,"a",function(){return m});var f=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function e(e,t,o,r,s,a,c,d,p,u){var h=this;this._store=e,this._services=t,this.templateServices=o,this.mapsAPILoader=r,this.ngZone=s,this._geoServices=a,this.snackBar=c,this.tripServices=d,this.eta_distance=p,this.localStorageService=u,this.addressinfo={},this.isTripOriginDialog="hidden",this.isTripDestinationDialog="hidden",this.isDisabled=!0,this.vehicleNo="",this.vehicleId="",this.pickupTime=null,this.distance="",this.remarks="",this.material="",this.quantity="",this.driverName="",this.driverMob="",this.markerOriginAddress=null,this.markerDestAddress=null,this.polygonPoints=[],this.latPolygonOrigin=21.149633,this.lngPolygonOrigin=79.081145,this.polygonRadius=.5,this.ponitsOfPolygon=5,this.destinationName="",this.destinationAddress="",this.originName="",this.originAddress="",this.originTripAddress=null,this.destinationTripAddress=null,this.originObj=null,this.destinObj=null,this.locationNameList=[],this.vehicles=[],this.customerId="",this.customerOrgId="",this.isClicked=!1,this.etaDistanceData=[],this.isValueLoaded=!1,this.editVehicleList=[],this.unSub_formattedAddress=null,this.unSub_sourceAddress=null,this.unSub_destinationAddress=null,this.unSub_detailsAddTrip=null,this.unSub_createTrip=null,this.unSub_searchName=null,this.unSub_vehicleList=null,this.unSub_customerDetails=null,this.unSub_createQuickTrip=null,this.unSub_freightLocation=null,this.waitForLastResp=!1,this.isAddVehicleDialog=!1,this.isShowLocationDialog=!1,this.unSub_etaDistance=null,this.unSub_templateList=null,this.unSub_PickedVehicles=null,this.selectedTripLocation=new n.EventEmitter,this.selectedTemplateLocation=new n.EventEmitter,this.search="",this.commandType=null,this.tripTemplateList=[],this.selectedVehicleList=[],this.typeOfLocationCreator={type:"Polygon"},this.sourceFromTemplate="",this.destinationFromTemplate="",this.locationFromTemplate={source:this.sourceFromTemplate,destination:this.destinationFromTemplate},this.orgId=this.localStorageService.get("ORGID"),null!=this.localStorageService.get("SELECTED_VEHICLE_LIST")&&(this.selectedVehicleList=this.localStorageService.get("SELECTED_VEHICLE_LIST")),this.commandType=this.localStorageService.get("TEMPLATE_TYPE"),console.log(this.commandType),"continue"==this.commandType&&(this.tripTemplate=this.localStorageService.get("TRIP_TEMPLATE"),this.originObj=this.tripTemplate.origin,this.originTripAddress=this.originObj.name,this.destinObj=this.tripTemplate.destination,this.destinationTripAddress=this.destinObj.name,this.transitDays=this.tripTemplate.transitDays,this.quantity=this.tripTemplate.quantity,this.distance=this.tripTemplate.distance,this.material=this.tripTemplate.material,console.log(this.tripTemplate),setTimeout(function(){h.selectedTemplateLocation.emit({source:h.originObj.name,destination:h.destinObj.name})},500),this.selectedTemplateLocation.emit({source:this.originObj.name,destination:this.destinObj.name})),"skip"==this.commandType&&(this.templateServices.tripTemplateStatus.emit(),this.unSub_templateList=this._store.select("tripTemplateList").subscribe(function(e){if(null!=e){var t=[];t=e.data,""==e.error&&200==t.status&&(h.tripTemplateList=t.list,console.log(h.tripTemplateList))}})),this.unSub_etaDistance=this._store.select("etaDistanceStore").subscribe(function(e){null!=e&&(console.log(e.value),h.etaDistanceData=e.value,null!=h.etaDistanceData&&(console.log(h.etaDistanceData[0].status),"OK"==h.etaDistanceData[0].status?h.setETA_Distance():(h.transitDays=0,h.distance="0"),console.log(h.etaDistanceData)))}),this._store.dispatch({type:"TITLE",payload:"Add Trip"}),e.dispatch({type:"IS_BACK",payload:{isBack:!0,backToComponent:"trip/status"}}),this.unSub_customerDetails=this._store.select("customerDetails").subscribe(function(e){console.log("customer datails in dashboard"),console.log(e),null!=e&&""==e.error&&(h.customerId=e.customer.id,h.customerOrgId=e.customer.orgId,h._services.getVehicleList.emit(h.customerOrgId))}),this.unSub_createTrip=e.select("createTripDetails").subscribe(function(e){null!=e&&(h.openSnackBar("TRIP CREATED SUCCESSFULLY!!"),h._store.dispatch(i.i(l.c)(["/vtsdashboard/trip/status"])))}),this.unSub_createQuickTrip=e.select("createQuickTripDetails").subscribe(function(e){null!=e&&200==e.status&&(h.openSnackBar("TRIP CREATED SUCCESSFULLY!!"),h._store.dispatch(i.i(l.c)(["/vtsdashboard/trip/status"])))}),this.unSub_vehicleList=e.select("vehicleListRes").subscribe(function(e){if(console.log("vehicle data object:"),console.log(e),null!=e)if(""==e.error){h.vehicleList=e.data,console.log(h.vehicleList);for(var t=0;t<h.vehicleList.length;t++){h.vehicleList[t].select=!1;for(var i=0;i<h.selectedVehicleList.length;i++)if(h.selectedVehicleList[i]==h.vehicleList[t].vehicleRegistrationNumber){h.vehicleList[t].select=!0;break}}}else console.log(e.errorMsg)}),this._services.getVehicleList.emit(this.customerOrgId)}return e.prototype.ngOnDestroy=function(){this._store.dispatch({type:"IS_BACK",payload:{isBack:!1,backToComponent:""}}),this._store.dispatch({type:"ETA_DISTANCE",payload:null}),void 0!==this.unSub_sourceAddress&&null!=this.unSub_sourceAddress&&void 0!=this.unSub_sourceAddress&&this.unSub_sourceAddress.unsubscribe(),void 0!==this.unSub_etaDistance&&null!=this.unSub_etaDistance&&void 0!=this.unSub_etaDistance&&this.unSub_etaDistance.unsubscribe(),void 0!==this.unSub_destinationAddress&&null!=this.unSub_destinationAddress&&void 0!=this.unSub_destinationAddress&&this.unSub_destinationAddress.unsubscribe(),void 0!==this.unSub_detailsAddTrip&&null!=this.unSub_detailsAddTrip&&void 0!=this.unSub_detailsAddTrip&&this.unSub_detailsAddTrip.unsubscribe(),void 0!==this.unSub_searchName&&null!=this.unSub_searchName&&void 0!=this.unSub_searchName&&this.unSub_searchName.unsubscribe(),void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&this.unSub_vehicleList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_createQuickTrip&&null!=this.unSub_createQuickTrip&&void 0!=this.unSub_createQuickTrip&&this.unSub_createQuickTrip.unsubscribe(),void 0!==this.unSub_PickedVehicles&&null!=this.unSub_PickedVehicles&&void 0!=this.unSub_PickedVehicles&&this.unSub_PickedVehicles.unsubscribe()},e.prototype.ngOnInit=function(){},e.prototype.goselectedTemplate=function(e){console.log(e);var t=e;this.originObj=t.origin,this.originTripAddress=this.originObj.name,this.destinObj=t.destination,this.destinationTripAddress=this.destinObj.name,this.transitDays=t.transitDays,this.quantity=t.quantity,this.distance=t.distance,this.material=t.material,this.sourceFromTemplate=this.originObj.name,this.destinationFromTemplate=this.destinObj.name,this.selectedTemplateLocation.emit({source:this.originObj.name,destination:this.destinObj.name})},e.prototype.setETA_Distance=function(){var e=Number(this.etaDistanceData[0].duration.value)/86400;console.log(Math.ceil(e)),console.log(e),this.transitDays=Math.ceil(e),this.distance=String(Number(this.etaDistanceData[0].distance.value/1e3).toFixed(2))},e.prototype.setLocationType=function(e){this.locationType=e,console.log(this.locationType),this.isShowLocationDialog=!0},e.prototype.setOriginLocation=function(e){console.log(e);var t=(this.locationType,{});null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj source"),t=e.freightLocation):(console.log("contains No freight location Obj source"),t=e),(i.i(d.isNullOrUndefined)(t.address)||""==t.address)&&(t.address=e.name),this.originName=t.name,this.originTripAddress=t.name,this.oLat="Proximity"==t.geofence.type?t.geofence.circle.center.latitude:t.geofence.center.latitude,this.oLng="Proximity"==t.geofence.type?t.geofence.circle.center.longitude:t.geofence.center.longitude,this.etaDistanceCalaculater(this.oLat,this.oLng,this.dLat,this.dLng),this.originObj=t,this.isShowLocationDialog=!1},e.prototype.setDestinationLocation=function(e){var t={};null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj Destination"),t=e.freightLocation):(console.log("contains No freight location Obj Destination"),t=e),(i.i(d.isNullOrUndefined)(t.address)||""==t.address)&&(t.address=e.name),this.destinationName=t.name,this.destinationTripAddress=t.name,this.dLat="Proximity"==t.geofence.type?t.geofence.circle.center.latitude:t.geofence.center.latitude,this.dLng="Proximity"==t.geofence.type?t.geofence.circle.center.longitude:t.geofence.center.longitude,this.etaDistanceCalaculater(this.oLat,this.oLng,this.dLat,this.dLng),this.destinObj=t,this.isShowLocationDialog=!1},e.prototype.remove=function(e){console.log(this.selectedVehicleList.splice(e,1)),this.selectedVehicleList.length},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"OK",{duration:4e3})},e.prototype.addTripData=function(){if(i.i(d.isNullOrUndefined)(this.vehicleNo)||""==this.vehicleNo)return void this.openSnackBar("Please fill Vehicle Number");if(i.i(d.isNullOrUndefined)(this.originTripAddress)||""==this.originTripAddress)return void this.openSnackBar("Please fill Trip Origin");if(i.i(d.isNullOrUndefined)(this.vehicleId)||""==this.vehicleId)return this.vehicleNo="",void this.openSnackBar("Please fill vehicle no");if(i.i(d.isNullOrUndefined)(this.destinationTripAddress)||""==this.destinationTripAddress)return void this.openSnackBar("Please fill Trip Destination");if(i.i(d.isNullOrUndefined)(this.pickupTime)||""==this.pickupTime)return void this.openSnackBar("Please select PickUp Time");if(i.i(d.isNullOrUndefined)(this.transitDays)||""+this.transitDays=="")return void this.openSnackBar("Please fill Transit Days");var e=[],t={freightLocation:this.originObj,fromTime:null,tillTime:null};e.push(t);var n=[],o={freightLocation:this.destinObj,fromTime:null,tillTime:null};n.push(o);var r={vehicleId:this.vehicleId,origin:e,destination:n,material:this.material,tripId:null,actualStartTime:null,actualEndTime:null,plannedStartTime:this.pickupTime.getTime(),plannedEndTime:this.pickupTime.getTime()+864e5*this.transitDays,lane:null,tripState:"Created",driverMobNumber:this.driverMob,driverName:this.driverName};console.log(r),this.isClicked=!0,this.tripServices.createTrip.emit(r)},e.prototype.addQuickTripData=function(){if(i.i(d.isNullOrUndefined)(this.selectedVehicleList)||""==this.selectedVehicleList)return void this.openSnackBar("Please fill Vehicle Numbers");if(i.i(d.isNullOrUndefined)(this.originTripAddress)||""==this.originTripAddress)return void this.openSnackBar("Please fill Trip Origin");if(i.i(d.isNullOrUndefined)(this.destinationTripAddress)||""==this.destinationTripAddress)return void this.openSnackBar("Please fill Trip Destination");if(i.i(d.isNullOrUndefined)(this.pickupTime)||""==this.pickupTime)return void this.openSnackBar("Please select PickUp Time");if(i.i(d.isNullOrUndefined)(this.transitDays)||""+this.transitDays=="")return void this.openSnackBar("Please fill Transit Days");var e=[],t={freightLocation:this.originObj,fromTime:null,tillTime:null};e.push(t);var n=[],o={freightLocation:this.destinObj,fromTime:null,tillTime:null};n.push(o);for(var r=[],s=0;s<this.vehicleList.length;s++)for(var a=0;a<this.selectedVehicleList.length;a++)this.selectedVehicleList[a]==this.vehicleList[s].vehicleRegistrationNumber&&r.push({vehicleId:this.vehicleList[s].uuid});console.log(r);for(var l={vehicleId:this.vehicleId,origin:e,destination:n,material:this.material,tripId:null,actualStartTime:null,actualEndTime:null,plannedStartTime:this.pickupTime.getTime(),plannedEndTime:this.pickupTime.getTime()+864e5*this.transitDays,lane:null,tripState:"Created",driverMobNumber:this.driverMob,driverName:this.driverName},c={tripData:l,overrideTrip:r},p={orgId:this.orgId,origin:this.originObj,destination:this.destinObj,transitDays:this.transitDays,distance:this.distance,material:this.material,quantity:this.quantity},u=!1,s=0;s<this.tripTemplateList.length;s++)if(this.tripTemplateList[s].material==p.material&&this.tripTemplateList[s].origin.name==p.origin.name&&this.tripTemplateList[s].destination.name==p.destination.name){u=!0,console.log("Matching template found to already exist");break}"skip"!=this.commandType||u||(console.log("template created from new trip"),console.log(p),this.templateServices.createTripTemplate.emit(p)),console.log(c),this.isClicked=!0,this.tripServices.createQuickTrip.emit(c)},e.prototype.back=function(){this._store.dispatch(i.i(l.c)(["/vtsdashboard/vehicleDashboard"]))},e.prototype.getPath=function(){},e.prototype.showVehicleListDialogue=function(){if(this._services.getVehicleList.emit(this.customerOrgId),console.log(this.vehicleList),null!=this.vehicleList&&void 0!=this.vehicleList){for(var e=0;e<this.vehicleList.length;e++){this.vehicleList[e].select=!1;for(var t=0;t<this.selectedVehicleList.length;t++)if(this.selectedVehicleList[t]==this.vehicleList[e].vehicleRegistrationNumber){this.vehicleList[e].select=!0;break}}this.isAddVehicleDialog=!0}},e.prototype.checkValid=function(e,t){console.log(e),console.log(t);for(var i=0;i<this.vehicleList.length;i++){if(1==this.vehicleList[i].select){this.isDisabled=!1;break}this.isDisabled=!0}if(t==this.vehicleList[e].vehicleRegistrationNumber){console.log(this.vehicleList[e]),console.log(this.vehicleList[e].uuid),this.vehicleList[e].select=!0,this.vehicleNo=this.vehicleList[e].vehicleRegistrationNumber,this.vehicleId=this.vehicleList[e].uuid;for(var n=!1,i=0;i<this.selectedVehicleList.length;i++)this.selectedVehicleList[i]===this.vehicleNo&&(n=!0);n||this.selectedVehicleList.push(this.vehicleNo)}},e.prototype.etaDistanceCalaculater=function(e,t,i,n){if(console.log(),null!=n&&null!=i&&null!=e&&null!=t){var o={oLat:e,oLng:t,dLat:i,dLng:n};this.eta_distance.getEtaDistance.emit(o)}},e.prototype.cancelAddTrip=function(){this._store.dispatch(i.i(l.c)(["/vtsdashboard/trip/status"]))},e}();f([i.i(n.ViewChild)(r.e),v("design:type",Object)],m.prototype,"polygon",void 0),f([i.i(n.ViewChild)("searchOrigin"),v("design:type","function"==typeof(y=void 0!==n.ElementRef&&n.ElementRef)&&y||Object)],m.prototype,"searchOrigineElementRef",void 0),f([i.i(n.ViewChild)("searchDestination"),v("design:type","function"==typeof(x=void 0!==n.ElementRef&&n.ElementRef)&&x||Object)],m.prototype,"searchDestElementRef",void 0),m=f([i.i(n.Component)({selector:"app-add-trip",template:i("Vi7G"),styles:[i("p30/")]}),v("design:paramtypes",["function"==typeof(b=void 0!==o.b&&o.b)&&b||Object,"function"==typeof(T=void 0!==p.a&&p.a)&&T||Object,"function"==typeof(S=void 0!==g.a&&g.a)&&S||Object,"function"==typeof(w=void 0!==r.d&&r.d)&&w||Object,"function"==typeof(D=void 0!==n.NgZone&&n.NgZone)&&D||Object,"function"==typeof(_=void 0!==s.a&&s.a)&&_||Object,"function"==typeof(L=void 0!==a.A&&a.A)&&L||Object,"function"==typeof(k=void 0!==c.a&&c.a)&&k||Object,"function"==typeof(O=void 0!==u.a&&u.a)&&O||Object,"function"==typeof(E=void 0!==h.LocalStorageService&&h.LocalStorageService)&&E||Object])],m);var y,x,b,T,S,w,D,_,L,k,O,E},"6mth":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"7T94":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("/lY3"),s=(i.n(r),i("+pb+")),a=(i.n(s),i("Pgz3")),l=i("fYnu"),c=i("5fbh"),d=i("Dkvd");i.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,i,n,o){var r=this;this._store=e,this.snackBar=i,this.vehReportServices=n,this._angularitics=o,this.view="",this.isSpinner=!1,this.isAddVehicleDialog=!1,this.isDisabled=!0,this.search="",this.selectedVehicles=[],this.vehicleList=[],this.vehicleDetails=[],this.errorMsg="",this.allStoppageTime="",this.unSub_vehicleList=null,this.unSub_customerDetails=null,this.unSub_vehStoppageReport=null,this.showStopFilterDialogue=!1,this.timeDurationStopUnit="Min",this.timeDurationStop=5,this.filterVehicleList=[],this.filterApplied=!1,this.fromDate=null,this.toDate=null;var s={};this.view=document.view,this._store.dispatch({type:"TITLE",payload:"Stoppage Report"}),this.unSub_customerDetails=e.select("customerDetails").subscribe(function(i){null!=i&&""==i.error&&(s=i.customer,console.log(s),r.unSub_vehicleList=e.select("vehicleListRes").subscribe(function(e){if(r.errorMsg="",null==e)return void t.getVehicleList.emit(s.id);if(""==e.error){r.vehicleList=e.data;for(var i=0;i<r.vehicleList.length;i++)r.vehicleList[i].select=!1}else console.log(e.errorMsg),r.errorMsg=e.errorMsg}))})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&this.unSub_vehicleList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_vehStoppageReport&&null!=this.unSub_vehStoppageReport&&void 0!=this.unSub_vehStoppageReport&&this.unSub_vehStoppageReport.unsubscribe()},e.prototype.ngAfterViewChecked=function(){for(var e=0;e<this.vehicleDetails.length;e++)if(null!=document.getElementById("timeline_"+e)){var t=document.getElementById("timeline_"+e).scrollWidth-document.getElementById("timeline_"+e).clientWidth;t==document.getElementById("timeline_"+e).scrollLeft?this.vehicleDetails[e].isScrollRightDisable=!0:this.vehicleDetails[e].isScrollRightDisable=!1,0==document.getElementById("timeline_"+e).scrollLeft?this.vehicleDetails[e].isScrollLeftDisable=!0:this.vehicleDetails[e].isScrollLeftDisable=!1}},e.prototype.openAddVehicleDialog=function(){return null==this.fromDate||null==this.toDate?void this.openSnackBar("Please select Date first"):this.toDate-this.fromDate<0?void this.openSnackBar("Start date must be less than End date"):this.fromDate.getTime()>(new Date).getTime()||this.toDate.getTime()>(new Date).getTime()?void this.openSnackBar("Date should not be greater than current Date"):void(this.isAddVehicleDialog=!0)},e.prototype.AddVehicle=function(){var e=this;if(null==this.fromDate||null==this.toDate)return void this.openSnackBar("Please select Date first");var t;"Hrs"==this.timeDurationStopUnit?t=60*this.timeDurationStop*60*1e3:"Min"==this.timeDurationStopUnit&&(t=60*this.timeDurationStop*1e3),this.selectedVehicles=[];var i=[];this.vehicleDetails=[];for(var n=[],o=0;o<this.vehicleList.length;o++)1==this.vehicleList[o].select&&(this.selectedVehicles.push(JSON.parse(JSON.stringify(this.vehicleList[o]))),i.push(JSON.parse(JSON.stringify(this.vehicleList[o]))),i[i.length-1].details=[],n.push(this.vehicleList[o].uuid),this.filterVehicleList.push(this.vehicleList[o].uuid));var r={startTime:this.fromDate.getTime(),endTime:this.toDate.getTime(),vehicleList:n,minimumTime:t};this.isSpinner=!0,void 0!==this.unSub_vehStoppageReport&&null!=this.unSub_vehStoppageReport&&void 0!=this.unSub_vehStoppageReport&&this.unSub_vehStoppageReport.unsubscribe(),this._angularitics.eventTrack("Stop_Report_Parameters_Set",r),this.vehReportServices.getStoppageReport.emit(r),this._store.dispatch({type:"VEH_STOPPAGE_REPORT",payload:null}),this.unSub_vehStoppageReport=this._store.select("vehStoppageReport").subscribe(function(t){if(console.log(t),e.vehicleDetails=[],e.errorMsg="",null!=t)if(e.isSpinner=!1,""==t.error){for(var n=t.data,o=0,r=0;r<n.length;r++){for(var s=0;s<n[r].value.length;s++)n[r].value[s].time=new Date(Number(n[r].value[s].startTime)),n[r].value[s].stopDuration=e.msToTime(Number(n[r].value[s].duration)),o+=Number(n[r].value[s].duration);n[r].vehStopDuration=o,n[r]._vehStopDuration=e.msToTime(o)}var a=0;console.log(i);for(var r=0;r<i.length;r++){for(var s=0;s<n.length;s++)i[r].uuid==n[s].vehicleId&&(1==e.filterApplied&&(i[r].details=[]),i[r].details.push(n[s]),a+=n[s].vehStopDuration);e.allStoppageTime=e.msToTime(a)}console.log(i),e.vehicleDetails=i,console.log(e.vehicleDetails)}else console.log(t.errorMsg),e.vehicleDetails=i,e.openSnackBar(t.errorMsg),e._store.dispatch({type:"VEH_STOPPAGE_REPORT",payload:null})})},e.prototype.unselectVehicle=function(e){this.selectedVehicles.splice(e,1),this.vehicleDetails.splice(e,1);var t=0;if(0==this.vehicleDetails.length)return void(this.allStoppageTime="");console.log(this.vehicleDetails);for(var i=0;i<this.vehicleDetails.length;i++)this.vehicleDetails[i].details.length>0&&(t+=this.vehicleDetails[i].details[0].vehStopDuration);if(0==t)return void(this.allStoppageTime="");this.allStoppageTime=this.msToTime(t)},e.prototype.scrollLeft=function(e){document.getElementById("timeline_"+e).scrollLeft=document.getElementById("timeline_"+e).scrollLeft-40},e.prototype.scrollRight=function(e){console.log(e),document.getElementById("timeline_"+e).scrollLeft=document.getElementById("timeline_"+e).scrollLeft+40},e.prototype.chackValid=function(){for(var e=0;e<this.vehicleList.length;e++){if(1==this.vehicleList[e].select){this.isDisabled=!1;break}this.isDisabled=!0}},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:4e3})},e.prototype.filterStoppageReport=function(){var e;"Hrs"==this.timeDurationStopUnit?e=60*this.timeDurationStop*60*1e3:"Min"==this.timeDurationStopUnit&&(e=60*this.timeDurationStop*1e3);var t={startTime:this.fromDate.getTime(),endTime:this.toDate.getTime(),vehicleList:this.filterVehicleList,minimumTime:e};this._store.dispatch({type:"VEH_STOPPAGE_REPORT",payload:null}),this.vehReportServices.getStoppageReport.emit(t),this.showStopFilterDialogue=!1,this.filterApplied=!0},e}();h=p([i.i(n.Component)({selector:"app-stoppage-report",template:i("n9aL"),styles:[i("lke8")]}),u("design:paramtypes",["function"==typeof(g=void 0!==o.b&&o.b)&&g||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(v=void 0!==l.A&&l.A)&&v||Object,"function"==typeof(m=void 0!==c.a&&c.a)&&m||Object,"function"==typeof(y=void 0!==d.a&&d.a)&&y||Object])],h);var g,f,v,m,y},"7fP1":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"div{font-family:Helvetica}.custome-button button{height:26px;font-size:13px;line-height:26px;border-radius:5px}.customCheckBox>>>.mat-checkbox-inner-container{height:15px!important;width:15px!important}.customePaginator>>>.mat-paginator-range-label{min-width:92px}.container{padding:5px;width:99%}md-card{padding:20px;font-family:Helvetica}.cards-toggle{height:38px;font-size:12px;margin-left:8px;width:11%}.cards-toggle div{text-align:center}.cards-toggle:hover{background-color:#1976d2;color:#fff}.cards-toggle:active{background-color:#512da1;color:#fff}.overlay{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.doughnut-chart{position:relative;margin-top:-19px;width:97px}.expand-search{border:1.5px solid #03a9f4;width:100%;font-size:12px;padding:3px 26px 4px 12px;display:inline-block;border-radius:17px;box-sizing:border-box;outline:none;margin-left:10%}.doughnut-chart-label{padding:0 6px;font-size:10px;margin-right:5px}table{font-family:Gotham-Rounded-Medium,Sans-Serif!important;color:#46465f;font-size:11px;border-collapse:collapse;width:100%}td,th{border-right:1px solid #eee;text-align:center;padding:8px}tr:nth-child(2n){background-color:#f6f9fd}.select-row:hover{background-color:#f0f8ff}.button-align button{line-height:25px}.imgcontainer{padding-left:20px}.pagination-button{line-height:25px;min-width:0;padding:0 10px;color:#46465f;background-color:#f5f5f5}.pagination-text{color:#828395;text-align:center!important;font-weight:bolder;font-size:14px;padding:0 5px;width:200px}.pagination-text span{display:inline-block;min-width:30px}md-option{height:35px;line-height:35px}.my-select{width:130px;padding:0 16px;vertical-align:6px}.add-button{width:22px;height:22px;line-height:22px}.vehicle-details-maps-container{height:calc(100vh - 190px);width:100%}.close-timeline{position:absolute;right:7px;margin-top:-5px;z-index:10;font-size:17px}.close-timeline:hover{color:#485c84;cursor:pointer}",""]),e.exports=e.exports.toString()},"7gsn":function(e,t,i){"use strict";var n=i("3j3K");i.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();s=o([i.i(n.Component)({selector:"app-usermanagement-web-view",template:i("qDcV"),styles:[i("upgf")]}),r("design:paramtypes",[])],s)},"7r+o":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".main{min-width:200px;max-width:390px;margin:50px auto;padding:8px}",""]),e.exports=e.exports.toString()},"7uNe":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".top-header{width:100%;padding-bottom:3px;top:0;z-index:100;position:absolute}",""]),e.exports=e.exports.toString()},"8/GY":function(e,t,i){"use strict";var n=i("3j3K"),o=i("uDr9"),r=i("Ths4"),s=(i.n(r),i("WWmu")),a=i("5J2v");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i){this._translate=e,this.localStorageService=t,this._store=i,this.selectedLanguage="en",this.supportedLangs=[{name:"English",code:"en"},{name:"हिंदी",code:"hi"}],this._store.dispatch({type:"TITLE",payload:"Settings"}),console.log("setting constructor")}return e.prototype.ngOnInit=function(){this.selectedLanguage=this.localStorageService.get("LANGUAGE")?""+this.localStorageService.get("LANGUAGE"):"en",this.selectLang()},e.prototype.selectLang=function(){this._translate.use(this.selectedLanguage)},e.prototype.goToManageOrganisation=function(){this._store.dispatch(i.i(a.c)(["/vtsdashboard/manageOrganisation"]))},e}();d=l([i.i(n.Component)({selector:"app-setting",template:i("Cgg4"),styles:[i("6mth")]}),c("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(u=void 0!==r.LocalStorageService&&r.LocalStorageService)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object])],d);var p,u,h},"96eg":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("tgTv"),s=i("kZql"),a=i("Dkvd");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i){var n=this;this.dashboardCoordinator=e,this._store=t,this._angularitics=i,this.vehicleCount={all:0,stopped:0,disconnected:0,moving:0,suspended:0},this.isSpinner=!0,this.errorMsg="",this.search="",this.status="",this.isSearch=!1,this.vehicleList=[],this.isShowLocationHistory=!1,this.unSub_vehicleList=null,this.unSub_showLocationHistory=null,this.unSub_vehicleStatusFilter=null,this.unSub_vehicleList=t.select("vehicleListRes").subscribe(function(e){if(n.errorMsg="",null!=e){if(""==e.error){console.log(e),n.vehicleCount={all:0,stopped:0,disconnected:0,moving:0,suspended:0},n.vehicleList=e.data,n.vehicleCount.all=n.vehicleList.length;for(var t=0;t<n.vehicleList.length;t++)n.vehicleList[t]._duration=n.msToTime(n.vehicleList[t].duration),(null==n.vehicleList[t].state||"Disconnected"==n.vehicleList[t].state&&n.vehicleList[t].duration>s.c.SUSPENDED_TIME)&&(n.vehicleList[t].state="Suspended"),"Stopped"==n.vehicleList[t].state&&(n.vehicleCount.stopped=n.vehicleCount.stopped+1),"Disconnected"==n.vehicleList[t].state&&(n.vehicleCount.disconnected=n.vehicleCount.disconnected+1,n.vehicleList[t].state="Disconnected"),"Moving"==n.vehicleList[t].state&&(n.vehicleCount.moving=n.vehicleCount.moving+1),"Suspended"==n.vehicleList[t].state&&(n.vehicleCount.suspended=n.vehicleCount.suspended+1);console.log(n.vehicleList),0==n.vehicleList.length&&(n.errorMsg="No records found.")}else n.errorMsg=e.errorMsg;n.isSpinner=!1}}),this.unSub_showLocationHistory=t.select("showLocationHistory").subscribe(function(e){console.log(e),null!=e&&(n.isShowLocationHistory=!0)}),this.unSub_vehicleStatusFilter=t.select("selectedFilterVehicleStatus").subscribe(function(e){null!=e&&void 0!=e&&(console.log(e.toString()),console.log("In vehicle list status filter:"),n.status=e.toString())})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&(console.log("unsusVehicle list"),this.unSub_vehicleList.unsubscribe()),void 0!==this.unSub_showLocationHistory&&null!=this.unSub_showLocationHistory&&void 0!=this.unSub_showLocationHistory&&(console.log("unsusShowLocationHistory"),this.unSub_showLocationHistory.unsubscribe()),void 0!==this.unSub_vehicleStatusFilter&&null!=this.unSub_vehicleStatusFilter&&void 0!=this.unSub_vehicleStatusFilter&&(console.log("unSub_vehicleStatusFilter"),this.unSub_vehicleStatusFilter.unsubscribe())},e.prototype.ngOnInit=function(){},e.prototype.filterVehicleStatus=function(e){console.log("desired vehicle status"),console.log(e),this._angularitics.eventTrack("VehicleList_Fliter_Web",{category:"ListFilters"}),this._store.dispatch({type:"SELECTED_VEHICLE_FILTER_STATUS",payload:e}),this.dashboardCoordinator.fileterCoordinator.emit({search:this.search,state:this.status})},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+" min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.showMapView=function(){this.isShowLocationHistory=!1},e.prototype.searchVehicle=function(){console.log("search Term:"),console.log(this.search),this._store.dispatch({type:"VEHICLELIST_SEARCH_FILTER",payload:this.search}),this.dashboardCoordinator.fileterCoordinator.emit({search:this.search,state:this.status})},e}();d=l([i.i(n.Component)({selector:"app-vehicle-dashboard-web",template:i("s0Fm"),styles:[i("7fP1")]}),c("design:paramtypes",["function"==typeof(p=void 0!==r.a&&r.a)&&p||Object,"function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(h=void 0!==a.a&&a.a)&&h||Object])],d);var p,u,h},"9Qk/":function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100" class="slow-down">\r\n  \x3c!--<div class="trip-header"   fxLayout="row">--\x3e\r\n    \x3c!--<span  (click)="back()" >--\x3e\r\n      \x3c!--<i style="width: 40px" class="fa fa-arrow-left" aria-hidden="true" ></i>--\x3e\r\n    \x3c!--</span>--\x3e\r\n    \x3c!--<span style="font-weight: bold">Pickup Point</span>--\x3e\r\n  \x3c!--</div>--\x3e\r\n\r\n  <div style="overflow:auto;height:calc(100vh - 40px);background-color: white;">\r\n\r\n    <section [style.display]="isPolygonEditable?\'block\':\'none\'" class="my-map-search"  >\r\n      \x3c!--<input id="pac-input" class="controls" type="text" placeholder="Search Box">--\x3e\r\n      <i class="fa fa-search" aria-hidden="true" style="right: 8px;position: absolute;margin-top: 7px;font-size: 15px;"></i>\r\n      <input id="pac-input"  type="text" class="search"  mdTooltip="{{\'search Here\' | translate }}"   placeholder="{{\'Search\' | translate }}"  >\r\n    </section>\r\n    \x3c!-- ************************ map start here  ******************************************** --\x3e\r\n    <div>\r\n\r\n      <section style="position:absolute;z-index:10;margin-top: 44px;left:5px;" >\r\n        <md-button-toggle-group class="my-toggle" #group="mdButtonToggleGroup" [(ngModel)]="mapType">\r\n          <md-button-toggle value="hybrid" >\r\n            <span>{{\'Satellite\'| translate}}</span>\r\n          </md-button-toggle>\r\n          <md-button-toggle value="roadmap" style="background-color:floralwhite;opacity: .6;">\r\n            <span>{{\'Map\' | translate}}</span>\r\n          </md-button-toggle>\r\n        </md-button-toggle-group>\r\n      </section>\r\n\r\n      <agm-map [mapTypeId]="mapType" style="height: 60vh" [latitude]="latitude" [longitude]="longitude" [zoom]="zoom" >\r\n        <agm-marker *ngFor="let marker of markers"\r\n                    [latitude]="marker.position.lat()" [longitude]="marker.position.lng()">\r\n          <agm-info-window  style="color:blue;" >\r\n            <div style="color:blue;max-width: 150px;text-align:center" (click)="setNewLocation(marker)">Add Location</div>\r\n            \x3c!--<button (click)="setNewLocation(marker)">ADD Location</button>--\x3e\r\n          </agm-info-window>\r\n        </agm-marker>\r\n      </agm-map>\r\n    </div>\r\n    \x3c!-- ************************ map end here  ******************************************** --\x3e\r\n\r\n    <md-card style="margin: 3px">\r\n      <div style="display: grid" >\r\n        <div style="margin-left: 15px;margin-right: 15px">\r\n          <md-input-container  style="width: 100%;">\r\n            <input #LocationName  mdTooltip="{{\'This field is required\' | translate }}" mdInput placeholder="Location Name"  required >\r\n          </md-input-container>\r\n        </div>\r\n\r\n        <div class="sub-header-text" style="margin-left: 15px;margin-right: 15px">\r\n          <md-input-container style="width: 100%;" >\r\n            <input style="color:#656565"  disabled #LocationAddress mdTooltip="{{\'This field is required\' | translate }}" mdInput  placeholder="Address" [(ngModel)]="locationAddress"  required >\r\n          </md-input-container>\r\n        </div>\r\n\r\n        \x3c!--<div style="width: 100%;" *ngIf="!isPolygonEditable">--\x3e\r\n          \x3c!--<button style="float: right;color:#ffffff;background-color:#1E88E5;" mdTooltip="{{\'Click here to Edit\' | translate }}"  md-raised-button (click)="editLocation()" >--\x3e\r\n            \x3c!--{{\'Edit Location\' | translate }}--\x3e\r\n          \x3c!--</button>--\x3e\r\n        \x3c!--</div>--\x3e\r\n\r\n        <div *ngIf="isPolygonEditable" style="width: 100%;" fxLayout="row">\r\n          <button  mdTooltip="{{\'cancel\' | translate }}"  md-raised-button (click)="back()" >\r\n            {{\'Cancel\' | translate }}\r\n          </button>\r\n\r\n\r\n          <button style="margin-left: auto;" *ngIf="!isAddressSelected || LocationName.value==\'\'" mdTooltip="{{\'Save new location\' | translate }}"  md-raised-button (click)="openSnackBar(\'Please select Pickup Location First\')" >\r\n            {{\'Add Location\' | translate }}\r\n          </button>\r\n\r\n          <button style="margin-left: auto;color:#ffffff;background-color:#1E88E5;" *ngIf="isAddressSelected && LocationName.value!=\'\' " mdTooltip="{{\'Save new location\' | translate }}"  md-raised-button (click)="save(LocationName.value)" >\r\n            {{\'Add Location\' | translate }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </md-card>\r\n\r\n\r\n  </div>\r\n</div>\r\n<div *ngIf="showSpinner" style="position:absolute;width: 100%;background-color:white;top: 0px;z-index:109; height: 100%; overflow: hidden;" >\r\n  <md-spinner style="margin-top: 250px;margin-left: 151px;"></md-spinner>\r\n  <label style="color: black; margin-left: 98px;">Saving Location.Please wait...</label>\r\n\r\n</div>\r\n\r\n'},"9RF9":function(e,t,i){"use strict";var n=i("3j3K"),o=i("Pgz3"),r=i("WWmu"),s=i("5J2v"),a=i("5oXY");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i){var n=this;this._store=e,this._services=t,this.route=i,this.unSub_currentVehicle=null,this.unSub_currentVehicle=e.select("currentVehicle").subscribe(function(e){n.currentVehicle=e,console.log(n.currentVehicle)})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_currentVehicle&&null!=this.unSub_currentVehicle&&void 0!=this.unSub_currentVehicle&&(console.log(" unSub_currentVehicle"),this.unSub_currentVehicle.unsubscribe())},e.prototype.ngOnInit=function(){},e.prototype.back=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/vehicleStatus"]))},e.prototype.goToVehicleActivityView=function(e){this._store.dispatch(i.i(s.c)(["vtsdashboard/vehicleActivity"],{vehicle:this.currentVehicle.selectedVehicle,state:e}))},e}();d=l([i.i(n.Component)({selector:"app-selected-vehicle-status",template:i("LkIL"),styles:[i("d/DD")]}),c("design:paramtypes",["function"==typeof(p=void 0!==r.b&&r.b)&&p||Object,"function"==typeof(u=void 0!==o.a&&o.a)&&u||Object,"function"==typeof(h=void 0!==a.f&&a.f)&&h||Object])],d);var p,u,h},"9SVR":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("Pgz3"),s=i("5oXY"),a=i("5J2v"),l=i("2MOS"),c=i("fYnu"),d=i("tGq5");i.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,i,n,o,r){var s=this;this.mapsAPILoader=e,this.snackBar=t,this._store=i,this._services=n,this.route=o,this._geoServices=r,this.isEditDeliveryPointDialog=!1,this.selectedDeliveryPoint="delhi new road",this.selectedPickupPoint="mc Donald ,noida sec 15",this.latitude=21.149633,this.longitude=79.081145,this.formated_Address=null,this.unSub_formattedAddress=null,this.unSub_currentVehicle=null,o.queryParams.subscribe(function(e){s.currentVehicle=e.vehicle,s.vehicleState=e.state,console.log(s.currentVehicle),console.log(s.vehicleState)}),this.unSub_formattedAddress=i.select("formattedAddress").subscribe(function(e){if(null!=e){var t=e;console.log(t),""==t.error?"OK"==t.address.status?(console.log(t.address.results[0].formatted_address),s.formated_Address=t.address.results[0].formatted_address):(s.openSnackBar(t.address.status),s.formated_Address=null):(0==t.errorMsgObj.status?s.openSnackBar("No Network Connection"):s.openSnackBar(t.error.errorMsgObj),s.formated_Address=null)}})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_formattedAddress&&null!=this.unSub_formattedAddress&&void 0!=this.unSub_formattedAddress&&(console.log(" unSub_formattedAddress"),this.unSub_formattedAddress.unsubscribe())},e.prototype.ngOnInit=function(){},e.prototype.back=function(){this._store.dispatch(i.i(a.c)(["dashboard/selectedVehicle"]))},e.prototype.markerDragPosition=function(e){this.formated_Address="",console.log(e),this._geoServices.getGeoCodeAddress.emit({lat:e.coords.lat,lng:e.coords.lng})},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"OK",{duration:4e3})},e.prototype.changePickupLocation=function(e){this.selectedPickupPoint=e},e.prototype.changeDeliveryLocation=function(e){this.selectedDeliveryPoint=e},e.prototype.previousActivity=function(){},e.prototype.nextActivity=function(){},e}();h=p([i.i(n.Component)({selector:"app-vehicle-activity",template:i("TAi/"),styles:[i("e36c")]}),u("design:paramtypes",["function"==typeof(g=void 0!==d.d&&d.d)&&g||Object,"function"==typeof(f=void 0!==c.A&&c.A)&&f||Object,"function"==typeof(v=void 0!==o.b&&o.b)&&v||Object,"function"==typeof(m=void 0!==r.a&&r.a)&&m||Object,"function"==typeof(y=void 0!==s.f&&s.f)&&y||Object,"function"==typeof(x=void 0!==l.a&&l.a)&&x||Object])],h);var g,f,v,m,y,x},"9sEU":function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100" class="slow-down">\r\n  \x3c!--<div class="trip-header"   fxLayout="row">--\x3e\r\n    \x3c!--<span  (click)="back()" >--\x3e\r\n      \x3c!--<i style="width: 40px" class="fa fa-arrow-left" aria-hidden="true" ></i>--\x3e\r\n    \x3c!--</span>--\x3e\r\n    \x3c!--<span>{{headerName}}</span>--\x3e\r\n  \x3c!--</div>--\x3e\r\n\r\n  \x3c!--   *************  discard vehicle **************** --\x3e\r\n  <div *ngIf="isDiscardDialog"  class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:200px;overflow: hidden;max-width: 200px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isDiscardDialog=false;" >&times;</span>\r\n        <label>{{\'Are you Sure?\' | translate }}</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="padding: 5px;margin-top:5px;text-align: right">\r\n          <button md-raised-button  style="width:47px;line-height: 27px;" (click)="isDiscardDialog=false;" >{{\'cancel\' | translate }}</button>\r\n          <button md-raised-button  style="width:47px;line-height: 27px;" (click)="discard();isDiscardDialog=false;" >{{\'Discard\' | translate }}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--  discard vehicle --\x3e\r\n\r\n  \x3c!--   *************  update confirmation by movement legs**************** --\x3e\r\n  <div *ngIf="isUpdateConfirmDialog"  class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isUpdateConfirmDialog=false;" >&times;</span>\r\n        <label>{{\'Are you Sure?\' | translate }}</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="min-height: 100px;max-height:250px;overflow: auto;padding-bottom: 3px;" >\r\n          <md-card style="margin-bottom: 1px" >\r\n            <div style="display: grid" >\r\n              <span >{{(selectedConfirmLocation?.endLocation?.address)?(selectedConfirmLocation?.endLocation?.address):(selectedConfirmLocation?.startLocation?.address)}}</span>\r\n              <span style="margin-top: 2px" class="sub-header-text">{{selectedConfirmLocation?.startTime | date :\'medium\'}}</span>\r\n              <span style="margin-top: 2px" class="sub-header-text">{{selectedConfirmLocation?._totalTime}}</span>\r\n            </div>\r\n          </md-card>\r\n        </div>\r\n      </div>\r\n\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="padding: 5px;margin-top:5px;text-align: right">\r\n          <button md-raised-button  style="width:47px;line-height: 27px;" (click)="isUpdateConfirmDialog=false;" >{{\'cancel\' | translate }}</button>\r\n          <button md-raised-button  style="width:47px;line-height: 27px;" (click)="isUpdateConfirmDialog=false;editLocationByMovementLog(selectedConfirmLocation);" >{{\'ok\' | translate }}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--  discard vehicle --\x3e\r\n\r\n\r\n  \x3c!--   *************  update from movementlegs vehicle **************** --\x3e\r\n  <div *ngIf="isUpdateDialog"  class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isUpdateDialog=false;" >&times;</span>\r\n        <label>{{\'Confirm Location\' | translate }}</label>\r\n      </div>\r\n       <div style="text-align: center;padding: 4px;background-color: rgba(68, 148, 217, 0.03)">\r\n         <span>Select location</span>\r\n       </div>\r\n        <div  style="padding: 5px;font-size: 13px;">\r\n          <div style="min-height: 100px;max-height:250px;overflow: auto;padding-bottom: 3px;" >\r\n            <md-card style="margin-bottom: 1px" *ngFor="let movementLog of vehicleTripDetailsObject.vehicleTripDetails.movementLegs | vehicleFilterByStatus: [\'state\', \'Stopped\']">\r\n              <div style="display: grid" (click)="isUpdateDialog=false;isUpdateConfirmDialog=true;selectedConfirmLocation = movementLog" >\r\n                <span >{{(movementLog?.endLocation?.address)?(movementLog?.endLocation?.address):(movementLog?.startLocation?.address)}}</span>\r\n                <span style="margin-top: 2px" class="sub-header-text">{{movementLog?.startTime | date :\'medium\'}}</span>\r\n                <span style="margin-top: 2px" class="sub-header-text">{{movementLog?._totalTime}}</span>\r\n              </div>\r\n            </md-card>\r\n          </div>\r\n          <div style="padding: 5px;margin-top:5px;text-align: center">\r\n            <button md-raised-button style="width:auto;color:#ffffff;background-color:#1E88E5;" (click)="editLocation();isUpdateDialog=false;" >{{\'Edit from Map\' | translate }}</button>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--   *************close  update from movementlegs vehicle **************** --\x3e\r\n  \x3c!--  discard vehicle --\x3e\r\n\r\n<div style="overflow:auto;height:calc(100vh - 40px);" >\r\n   <section [style.display]="isPolygonEditable?\'block\':\'none\'" class="my-map-search" >\r\n     \x3c!--<input id="pac-input" class="controls" type="text" placeholder="Search Box">--\x3e\r\n     <i class="fa fa-search" aria-hidden="true" style="right: 8px;position: absolute;margin-top: 7px;font-size: 15px;"></i>\r\n     <input id="pac-input"  type="text" class="search"  mdTooltip="{{\'search Here\' | translate }}"   placeholder="{{\'Search\' | translate }}"  >\r\n   </section>\r\n\x3c!-- ************************ map start here  ******************************************** --\x3e\r\n  <div>\r\n    <section style="position:absolute;z-index:10;margin-top: 40px;left:5px;" >\r\n      <md-button-toggle-group class="my-toggle" #group="mdButtonToggleGroup" [(ngModel)]="mapType">\r\n        <md-button-toggle value="hybrid" >\r\n          <span>{{\'Satellite\'| translate}}</span>\r\n        </md-button-toggle>\r\n        <md-button-toggle value="roadmap" style="background-color:floralwhite;opacity: .6;">\r\n          <span>{{\'Map\' | translate}}</span>\r\n        </md-button-toggle>\r\n      </md-button-toggle-group>\r\n    </section>\r\n\r\n    <agm-map [mapTypeId]="mapType" [style.height]="view == \'web\'?\'calc(100vh - 320px)\':\'calc(100vh - 218px)\'" [latitude]="latitude" [longitude]="longitude" [zoom]="zoom"  >\r\n      <agm-marker *ngFor="let marker of markers"\r\n        [latitude]="marker.position.lat()" [longitude]="marker.position.lng()">\r\n        <agm-info-window  style="color:blue;" [isOpen]="markers.length == 1?true:false" >\r\n          <div style="color:blue;max-width: 150px;text-align:center" (click)="setNewLocation(marker)">Add Location</div>\r\n          \x3c!--<button (click)="setNewLocation(marker)">ADD Location</button>--\x3e\r\n        </agm-info-window>\r\n      </agm-marker>\r\n    </agm-map>\r\n  </div>\r\n  \x3c!-- ************************ map end here  ******************************************** --\x3e\r\n\r\n  <md-card style="margin: 3px">\r\n    <div style="display: grid" >\r\n      <div style="margin-left: 15px;margin-right: 15px">\r\n        <md-input-container  style="width: 100%;">\r\n          <input name="location_name" [disabled]="!isPolygonEditable"  mdTooltip="{{\'This field is required\' | translate }}" mdInput [(ngModel)]="selectedLocation"  required >\r\n        </md-input-container>\r\n      </div>\r\n\r\n      <div style="margin-left: 15px;margin-right: 15px;font-size:12px;border-bottom:1px solid #D0D0D0;margin-bottom: 15px;color: #959595;" >\r\n          <span *ngIf="selectedFromTime" >From: {{selectedFromTime | date:\'medium\' }}</span>\r\n          <span *ngIf="!selectedFromTime" >From: Yet to Report</span>\r\n          <span *ngIf="selectedTillTime" > - {{selectedTillTime | date:\'medium\' }}</span>\r\n          <span *ngIf="!selectedTillTime" > - Yet to Depart</span>\r\n      </div>\r\n\r\n      <div style="width: 100%;" *ngIf="!isPolygonEditable" fxLayout="row">\r\n        <button  *ngIf="isDiscard" mdTooltip="{{\'Discard\' | translate }}"  md-raised-button (click)="isDiscardDialog = true" >\r\n          {{\'Discard\' | translate }}\r\n        </button>\r\n\r\n        <button  *ngIf="!isEditPlaceFromList" style="width: auto;margin-left: auto;color:#ffffff;background-color:#1E88E5;" mdTooltip="{{\'Click here to Edit\' | translate }}"  md-raised-button (click)="editLocation()" >\r\n          {{\'Edit Location\' | translate }}\r\n        </button>\r\n\r\n        <button  *ngIf="isEditPlaceFromList" style="width: auto;margin-left: auto;color:#ffffff;background-color:#1E88E5;" mdTooltip="{{\'Click here to Edit\' | translate }}"  md-raised-button (click)="isUpdateDialog =true" >\r\n          {{\'Edit Location\' | translate }}\r\n        </button>\r\n      </div>\r\n\r\n      <div *ngIf="isPolygonEditable" style="width: 100%;" fxLayout="row">\r\n        <button  mdTooltip="{{\'cancel\' | translate }}" (click)="back()"  md-raised-button >\r\n          {{\'cancel\' | translate }}\r\n        </button>\r\n\r\n        <button style="margin-left: auto;color:#ffffff;background-color:#1E88E5;" mdTooltip="{{\'Save new location\' | translate }}"  md-raised-button (click)="save()" >\r\n          {{\'save\' | translate }}\r\n        </button>\r\n\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n  <div style="height: 40px"></div>\r\n</div>\r\n</div>\r\n'},AFVK:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"DELETE_USER_SERVICE_RESPONSE":return d.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"GET_ALL_USERS_LIST":return d.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"UPDATE_USER_STATUS_RESPONSE":return d.addAction(t),t.payload;default:return e}}function s(e,t){switch(void 0===e&&(e=null),t.type){case"EXISTING_USER_RESPONSE":return d.addAction(t),t.payload;default:return e}}function a(e,t){switch(void 0===e&&(e=null),t.type){case"CREATE_ORGANISATION_RESPONSE":return d.addAction(t),t.payload;default:return e}}function l(e,t){switch(void 0===e&&(e=null),t.type){case"SWITCH_ORG_RESPONSE":return d.addAction(t),t.payload;default:return e}}var c=i("H8ZI");t.a=n,t.b=o,t.c=r,t.d=s,t.e=a,t.f=l;var d=new c.a},AIFD:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("Ths4"),s=(i.n(r),i("5oXY")),a=i("DOYL"),l=i("kZql"),c=i("WWmu"),d=i("5J2v");i.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,i,n,r,s){this.zone=e,this.http=t,this.logoutService=i,this.localStorageService=n,this._router=r,this._store=s,this.unSub_customerDetails=null,this.customerName="",this.currentOrgId="",this.customerMobile="",this.userDetails=null,this.viewType="",this.isOrgList=!1,this.isShowAddOrganisation=!1,this.isShowGodFeatures=!1,this.authToken=null,this.orgList=["fretron traccar","Fretron vehicle Tracking"],this.defaultHeaders=new o.c,this.defaultHeaders.append("Access-Control-Allow-Origin","*"),this.defaultHeaders.append("Access-Control-Allow-Methods","GET,POST, OPTIONS, PUT, PATCH, DELETE");var a=this.localStorageService.get("AUTH_TOKEN");console.log(a),null!=a&&(this.authToken=a,this.refreshUser())}return e.prototype.ngOnDestroy=function(){},e.prototype.refreshUser=function(){console.log(this.authToken),this.customerDetail(this.authToken),this.getOrganization(this.authToken)},e.prototype.ngOnInit=function(){this.viewType=this.view},e.prototype.customerDetail=function(e){var t={};this.userDetails=null;var i=e.split(".")[0],n=i.replace("-","+").replace("_","/");t.userType=JSON.parse(window.atob(n)),i=e.split(".")[1],n=i.replace("-","+").replace("_","/"),t.details=JSON.parse(window.atob(n)),t.details.id=t.details.userId,this.userDetails=t,this.customerName=t.details.name,this.customerMobile=t.details.mobileNumber,this.currentOrgId=t.details.orgId,null==t.details.isGod&&void 0==t.details.isGod||(console.log("isGod not null or undefined"),console.log(t.details.isGod),1==t.details.isGod&&(this.isShowGodFeatures=!0)),this.localStorageService.set("ORGID",this.currentOrgId),console.log(this.userDetails)},e.prototype.logout=function(){this.logoutService.logout()},e.prototype.switchOrg=function(e,t){var i=this;if(!t){console.log(e),console.log(this.userDetails);var n=l.b.SWITCH_ORG_PATH+e.uuid,r=new o.c(this.defaultHeaders.toJSON());r.set("Content-Type","application/json");var s="Bearer "+this.authToken;r.set("authorization",s);var a=new o.d({method:o.e.Get,headers:r});console.log(n),console.log(s),this.http.request(n,a).map(function(e){return e.json()}).subscribe(function(t){if(console.log(t),t.status>=200&&t.status<300)if(i.userDetails.details.orgType==e.type)i.localStorageService.clearAll(),i.localStorageService.set("AUTH_TOKEN",t.token),i.authToken=i.localStorageService.get("AUTH_TOKEN"),i.refreshUser(),i.zone.runOutsideAngular(function(){location.reload()});else{i.localStorageService.clearAll(),i.localStorageService.set("AUTH_TOKEN",t.token);var n="http://"+window.location.hostname+":"+window.location.port;console.log(n+"/transporter"),"TRANSPORTER"==e.type?window.location.replace(n+"/transporter"):"FLEET_OWNER"==e.type?window.location.replace(n+"/tracknet/vtsdashboard"):e.type}else console.log("error")},function(e){console.log(e),console.log(e.json())})}if(t){console.log("is God User user"),console.log(e),console.log(this.userDetails);var n=l.b.SWITCH_ORG_PATH+e.uuid,r=new o.c(this.defaultHeaders.toJSON());r.set("Content-Type","application/json");var s="Bearer "+this.authToken;r.set("authorization",s);var a=new o.d({method:o.e.Get,headers:r});console.log(n),console.log(s),this.http.request(n,a).map(function(e){return e.json()}).subscribe(function(t){if(console.log(t),t.status>=200&&t.status<300)if(i.userDetails.details.orgType==e.type)i.localStorageService.clearAll(),i.localStorageService.set("AUTH_TOKEN",t.token),i.authToken=i.localStorageService.get("AUTH_TOKEN"),i.refreshUser(),i.zone.runOutsideAngular(function(){location.reload()});else{i.localStorageService.clearAll(),i.localStorageService.set("AUTH_TOKEN",t.token);var n="http://"+window.location.hostname+":"+window.location.port;console.log(n+"/transporter"),"TRANSPORTER"==e.type?window.location.replace(n+"/transporter"):"FLEET_OWNER"==e.type?window.location.replace(n+"/tracknet/vtsdashboard"):e.type}else console.log("error")},function(e){console.log(e),console.log(e.json())})}},e.prototype.getOrganization=function(e){var t=this;this.orgList=[];var i=l.b.ORGANIZATION_LIST_PATH,n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var r="Bearer "+e;n.set("authorization",r);var s=new o.d({method:o.e.Get,headers:n});this.http.request(i,s).map(function(e){return e.json()}).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?(t.orgList=e.list,console.log(t.orgList)):console.log(e.error)},function(e){console.log(e),console.log(e.json())})},e.prototype.goToAddOrganisation=function(){this._store.dispatch(i.i(d.c)(["/vtsdashboard/addNewOrganisation"]))},e.prototype.addOrganisation=function(){},e}();p([i.i(n.Input)(),u("design:type",Object)],h.prototype,"view",void 0),h=p([i.i(n.Component)({selector:"app-user-profile",template:i("SnkB"),styles:[i("+XE9")]}),u("design:paramtypes",["function"==typeof(g=void 0!==n.NgZone&&n.NgZone)&&g||Object,"function"==typeof(f=void 0!==o.f&&o.f)&&f||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(m=void 0!==r.LocalStorageService&&r.LocalStorageService)&&m||Object,"function"==typeof(y=void 0!==s.b&&s.b)&&y||Object,"function"==typeof(x=void 0!==c.b&&c.b)&&x||Object])],h);var g,f,v,m,y,x},Awh2:function(e,t){e.exports='<div style="padding: 8px 4px;box-shadow: 0px 4px 17px darkgrey;"  >\r\n\r\n<div fxLayout="row" class="slow-expand" style="margin-top: 7px">\r\n  <section style=" width: 99%;z-index: 500;margin-right: 24px;" >\r\n    <i (click)="isSearch=true" [style.color]="search.length>0?\'#e98e1e\':\'#ffffff\'"  class="fa fa-search"  aria-hidden="true" style="right: 8px;position: absolute;margin-top: 5px;font-size: 15px;color: white"></i>\r\n    \x3c!--*ngIf="isSearch"--\x3e\r\n    <div *ngIf="isSearch" >\r\n      <input myAutofocus (blur)="isSearch=false" class="expand-search"  mdTooltip="{{\'search Here\' | translate }}"   placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" (keyup)="searchVehicle()">\r\n    </div>\r\n  </section>\r\n\r\n  <section *ngIf="!isSearch"  fxFlex style="margin-top: auto;margin-right: 45px">\r\n      <span style="font-size: 23px;color: rgba(245, 245, 245, 0.99);">\r\n        <i style="cursor: pointer;" class="fa fa-globe" aria-hidden="true" (click)="gotoMapView()"  ></i>\r\n      </span>\r\n\r\n    <span style="position: absolute;top: 3px;right: 80px;font-size: 19px;color: rgba(245, 245, 245, 0.99);" (click)="goToAlertsNotification()">\r\n        <i style="cursor: pointer;" class="fa fa-bell" aria-hidden="true"   ></i>\r\n      </span>\r\n    \x3c!--<md-button-toggle-group class="my-toggle" style="height: 17px;float: right;font-size: 12px;padding-top: 7px;margin-right: 30px;" #group="mdButtonToggleGroup" [(ngModel)]="view" >--\x3e\r\n    \x3c!--<md-button-toggle value="list" style="margin-top: -2px;margin-left: -5px;margin-right: 0px;">--\x3e\r\n    \x3c!--<span>{{\'List\'| translate}}</span>--\x3e\r\n    \x3c!--</md-button-toggle>--\x3e\r\n    \x3c!--<md-button-toggle  style="background-color: white;margin-top: -2px" value="map" (click)="gotoMapView()"  >--\x3e\r\n    \x3c!--<span>{{\'Map\' | translate}}</span>--\x3e\r\n    \x3c!--</md-button-toggle>--\x3e\r\n    \x3c!--</md-button-toggle-group>--\x3e\r\n  </section>\r\n</div>\r\n\r\n  <div>\r\n    <section style="margin-top: 1px;margin-bottom: 2px;" >\r\n      <md-button-toggle-group class="my-toggle" style="font-size:12px;height: 40px;margin-left: -4px;\r\n      width: 100vw;margin-top: -8px;" #group="mdButtonToggleGroup" [(ngModel)]="status" (change)="filterVehicleStatus()">\r\n        <md-button-toggle value="" class="menu-button-align" style="min-width: 24%;padding-top: 7px;" >\r\n          <span style="margin-left: -20px;" class="badge-icon" >{{vehicleCount.all}}</span>\r\n          <span style="margin-top: 5px">{{\'All\'| translate}}</span>\r\n        </md-button-toggle  >\r\n        <md-button-toggle value="Moving" class="menu-button-align" style="min-width: 24%;padding-top: 7px;">\r\n          <span style="margin-left: -14px;" class="badge-icon" >{{vehicleCount.moving}}</span>\r\n          <span>{{\'Moving\' | translate}}</span>\r\n        </md-button-toggle>\r\n        <md-button-toggle value="Stopped" class="menu-button-align"  style="min-width: 24%;padding-top: 7px;">\r\n          <span style="margin-left: -11px;" class="badge-icon" >{{vehicleCount.stopped}}</span>\r\n          <span>{{\'Stopped\' | translate}}</span>\r\n        </md-button-toggle>\r\n        <md-button-toggle value="Disconnected" class="menu-button-align"  style="min-width: 27%;padding-top: 7px;">\r\n          <span style="margin-left: -7px;" class="badge-icon" >{{vehicleCount.disconnected}}</span>\r\n          <span>{{\'Disconnected\' | translate}}</span>\r\n        </md-button-toggle>\r\n      </md-button-toggle-group>\r\n    </section>\r\n  </div>\r\n\r\n  <div style="overflow:auto;height: calc(100vh - 90px);">\r\n  <app-vehicle-list></app-vehicle-list>\r\n  </div>\r\n</div>\r\n'},B2uf:function(e,t){e.exports='<md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\n<div style="height: calc(100vh - 38px);overflow: auto;padding: 5px" >\n  <md-card >\n    <div (click)="isShowVehicle_0_4=!isShowVehicle_0_4"  fxLayout="row" fxlayoutGap="8px" style="padding: 5px;font-size: 17px;color:black;">\n      <span fxFlex="50">0 - 4 {{\'hour\' | translate}}</span>\n      <span fxFlex="50" style="text-align: right" >3 {{\'vehicle active\' | translate }}</span>\n    </div>\n    <div *ngIf="isShowVehicle_0_4" style="padding-left: 20px;" class="view-details">\n      <hr style="border-style:ridge;border-width:1px;margin-top: 1px">\n      <div  style="margin-bottom:8px">\n        <span >HR12 A 1524</span>\n        <span style="float: right">26 km/h</span>\n      </div>\n      <div fxlayoutGap="8px" style="margin-bottom:8px">\n        <span >GT Karnal Road</span>\n        <span   style="float: right">3:00 pm</span>\n      </div>\n      <div fxlayoutGap="8px" style="margin-bottom:8px">\n        <span>Transite time</span>\n        <span style="float: right">100km</span>\n      </div>\n      <div fxlayoutGap="8px" style="margin-bottom:8px">\n        <span>old faridabad haryana 1254125 </span>\n        <span  style="float: right">5:00 pm</span>\n      </div>\n    </div>\n\n  </md-card>\n  <md-card>\n    <div (click)="isShowVehicle_4_8=!isShowVehicle_4_8"  fxLayout="row" fxlayoutGap="8px" style="padding: 5px;font-size: 17px;color:black;">\n      <span fxFlex="50">4 - 8 {{\'hour\' | translate}}</span>\n      <span fxFlex="50"  style="text-align: right" >1 {{\'vehicle active\' | translate }}</span>\n    </div>\n\n    <div *ngIf="isShowVehicle_4_8" style="padding-left: 20px;">\n      <hr style="border-style:ridge;border-width:1px;margin-top: 1px">\n      <div fxLayout="row" fxlayoutGap="8px;" style="margin-bottom:8px">\n        <span fxFlex="70">HR12 A 1524</span>\n        <span fxFlex="30" style="text-align: right">26 km/h</span>\n      </div>\n      <div fxLayout="row" fxlayoutGap="8px" style="margin-bottom:8px">\n        <span fxFlex="70">GT Karnal Road</span>\n        <span fxFlex="30" style="text-align: right">3:00 pm</span>\n      </div>\n      <div fxLayout="row" fxlayoutGap="8px" style="margin-bottom:8px">\n        <span fxFlex="70">Transite time</span>\n        <span fxFlex="30" style="text-align: right">100km</span>\n      </div>\n      <div fxLayout="row" fxlayoutGap="8px" style="margin-bottom:8px">\n        <span fxFlex="70">old faridabad haryana 1254125 </span>\n        <span fxFlex="30"  style="text-align: right">5:00 pm</span>\n      </div>\n    </div>\n\n  </md-card>\n  <md-card>\n    <div (click)="isShowVehicle_8_12=!isShowVehicle_8_12"  fxLayout="row" fxlayoutGap="8px" style="padding: 5px;font-size: 17px;color:black;">\n      <span fxFlex="50">8 - 12 {{\'hour\' | translate}}</span>\n      <span fxFlex="50"  style="text-align: right" >4 {{\'vehicle active\' | translate }}</span>\n    </div>\n    <div *ngIf="isShowVehicle_8_12" style="padding-left: 20px;">\n      <hr style="border-style:ridge;border-width:1px;margin-top: 1px">\n      <div fxLayout="row" fxlayoutGap="8px;" style="margin-bottom:8px">\n        <span fxFlex="70">HR12 A 1524</span>\n        <span fxFlex="30" style="text-align: right">26 km/h</span>\n      </div>\n      <div fxLayout="row" fxlayoutGap="8px" style="margin-bottom:8px">\n        <span fxFlex="70">GT Karnal Road</span>\n        <span fxFlex="30" style="text-align: right">3:00 pm</span>\n      </div>\n      <div fxLayout="row" fxlayoutGap="8px" style="margin-bottom:8px">\n        <span fxFlex="70">Transite time</span>\n        <span fxFlex="30" style="text-align: right">100km</span>\n      </div>\n      <div fxLayout="row" fxlayoutGap="8px" style="margin-bottom:8px">\n        <span fxFlex="70">old faridabad haryana 1254125 </span>\n        <span fxFlex="30"  style="text-align: right">5:00 pm</span>\n      </div>\n    </div>\n  </md-card>\n  <md-card>\n    <div (click)="isShowVehicle_above_12=!isShowVehicle_above_12"  fxLayout="row" fxlayoutGap="8px" style="padding: 5px;font-size: 17px;color:black;">\n      <span fxFlex="50">Above 12 {{\'hour\' | translate}}</span>\n      <span fxFlex="50"  style="text-align: right" >0 {{\'vehicle active\' | translate }}</span>\n    </div>\n\n    <div *ngIf="isShowVehicle_above_12" style="padding-left: 20px;">\n      <hr style="border-style:ridge;border-width:1px;margin-top: 1px">\n      <div fxLayout="row" fxlayoutGap="8px;" style="margin-bottom:8px">\n        <span fxFlex="70">{{\'No record found\' | translate }}</span>\n      </div>\n    </div>\n  </md-card>\n\n</div>\n\n\x3c!--<div style="padding: 2px 3px 2px 3px;overflow:auto;height: calc(100vh - 38px);">--\x3e\n  \x3c!--<md-card style="padding: 5px;">--\x3e\n    \x3c!--<button [disabled]="startPageNo<=1" class="pagination-button" md-raised-button (click)="prevPage()">--\x3e\n      \x3c!--<i class="fa fa-chevron-left" aria-hidden="true"></i>--\x3e\n    \x3c!--</button>--\x3e\n    \x3c!--<span class="pagination-text"><span st>{{startPageNo}}</span>-<span>{{endPageNo}}</span>of<span>{{totalPage}}</span></span>--\x3e\n    \x3c!--<button [disabled]="endPageNo>=totalPage" class="pagination-button" md-raised-button (click)="nextPage()">--\x3e\n      \x3c!--<i class="fa fa-chevron-right" aria-hidden="true"></i>--\x3e\n    \x3c!--</button>--\x3e\n\n    \x3c!--<button style="float: right;margin-top: -4px;background: none" class="pagination-button" md-icon-button [mdMenuTriggerFor]="menu">--\x3e\n      \x3c!--<i class="fa fa-ellipsis-v" aria-hidden="true"></i>--\x3e\n    \x3c!--</button>--\x3e\n    \x3c!--<md-menu #menu="mdMenu">--\x3e\n      \x3c!--<span md-menu-item>0-4 Hour</span>--\x3e\n      \x3c!--<span md-menu-item>4-8 Hour(s)</span>--\x3e\n      \x3c!--<span md-menu-item>8-12 Hour(s)</span>--\x3e\n      \x3c!--<span md-menu-item>Above 12 Hour(s)--\x3e\n          \x3c!--</span>--\x3e\n    \x3c!--</md-menu>--\x3e\n    \x3c!--<div style="margin-top: 10px;text-align: right;padding: 10px 4px 4px 4px;">--\x3e\n      \x3c!--<md-select class="my-select" (change)="selectTableHeight()" [(ngModel)]="selectedTableHeight">--\x3e\n        \x3c!--<md-option value=\'10\' >10 Per Pages</md-option>--\x3e\n        \x3c!--<md-option value=\'25\'>25 Per Pages</md-option>--\x3e\n        \x3c!--<md-option value=\'50\'>50 Per pages</md-option>--\x3e\n        \x3c!--<md-option value=\'100\'>100 Per Pages</md-option>--\x3e\n        \x3c!--<md-option value=\'200\'>200 Per Pages</md-option>--\x3e\n        \x3c!--<md-option value=\'500\'>500 Per Pages</md-option>--\x3e\n      \x3c!--</md-select>--\x3e\n    \x3c!--</div>--\x3e\n  \x3c!--</md-card>--\x3e\n  \x3c!--<div style="margin-top: 7px">--\x3e\n    \x3c!--<md-card style="margin-top: 3px" *ngFor="let device of deviceStatistics" >--\x3e\n      \x3c!--<i class="fa fa-truck" aria-hidden="true"></i>{{device[\'S.No\']}}--\x3e\n    \x3c!--</md-card>--\x3e\n  \x3c!--</div>--\x3e\n\n\x3c!--</div>--\x3e\n\n\n\n\n\n'},BTQI:function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("WWmu"),s=i("Dkvd"),a=i("5J2v"),l=i("tGq5"),c=i("Pgz3"),d=i("wp1f"),p=i("OMJi"),u=(i.n(p),i("tgTv"));i.d(t,"a",function(){return f});var h=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t,n,o,r,s,l){var c=this;if(this.dashboardCoordinator=e,this.mapApiWrapper=t,this.socketService=n,this._store=o,this._router=r,this._angularitics=l,this.unSub_vehicleList=null,this.search="",this.status="",this.unSub_searchFilter=null,this.unSub_customerDetails=null,this.unSub_vehicleStatusFilter=null,this.unsub_interval=null,this.vehicleList=[],this.filters={search:null,state:null},this.title="Fretron Traccar",this.view="",this._store.dispatch({type:"TITLE",payload:"Map Dashboard"}),this.context=this,this.view=document.view,"/vtsdashboard/mapsComponents"==this._router.url&&"web"==this.view)return void this._store.dispatch(i.i(a.c)(["vtsdashboard/vehicleDashboard"]));this.unSub_customerDetails=o.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&"web"!=c.view&&c.socketService.getVehicleList()}),this.unSub_vehicleList=o.select("vehicleListRes").subscribe(function(t){if(console.log(t),null!=t){if(""==t.error){c.vehicleList=t.data;for(var i=0;i<c.vehicleList.length;i++)c.vehicleList[i]._duration=c.msToTime(c.vehicleList[i].duration),c.vehicleList[i]._endTime=c.epochTotime(c.vehicleList[i].endTime);c.loadClusterData()}else console.log(t.errorMsg);e.fileterCoordinator.subscribe(function(e){c.filters=e,c.loadClusterData()})}}),this.unSub_vehicleStatusFilter=o.select("selectedFilterVehicleStatus").subscribe(function(e){i.i(p.isNullOrUndefined)(e)||(console.log(e.toString()),console.log("In vehicle list status filter:"),c.status=e.toString())}),this.unSub_searchFilter=o.select("vehicleListSearchFliter").subscribe(function(e){i.i(p.isNullOrUndefined)(e)||(console.log(e.toString()),console.log("In search filter:"),c.search=e.toString())})}return e.prototype.ngOnDestroy=function(){this.socketService.disconnectSocket(),void 0!==this.unSub_searchFilter&&null!=this.unSub_searchFilter&&void 0!=this.unSub_searchFilter&&(console.log("unSub_searchFilter"),this.unSub_searchFilter.unsubscribe()),void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&this.unSub_vehicleList.unsubscribe(),void 0!==this.unSub_vehicleStatusFilter&&null!=this.unSub_vehicleStatusFilter&&void 0!=this.unSub_vehicleStatusFilter&&(console.log("unSub_vehicleStatusFilter"),this.unSub_vehicleStatusFilter.unsubscribe()),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.ngOnInit=function(){var e=this;this.agmMap.mapReady.subscribe(function(t){e.map=t,e.loadClusterData()}),this._angularitics.eventTrack("Maps_View_Opened",{category:"DashboardMaps",label:"Vehicles_View_Opened"})},e.prototype.epochTotime=function(e){if(null!=e&&void 0!=e||e>0){var t=new Date(e),i=t.getHours(),n=t.getMinutes();return t.toString().substring(0,15)+" "+(i>12?i-12+":"+n+" PM":i+":"+n+" AM")}return""},e.prototype.gotoListView=function(){this._router.navigate(["/vtsdashboard/vehicleDashboard"])},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.back=function(){this._store.dispatch(i.i(a.c)(["/vtsdashboard/vehicleDashboard"]))},e.prototype.loadClusterData=function(){var e=this;if(null!=this.map&&null!=this.vehicleList){console.log(this.filters);var t=this.vehicleList.filter(function(t){return e.filter(t,e.context)}).map(function(e,t){var i=new google.maps.Marker({position:{lat:e.latitude,lng:e.longitude},icon:"../../../../images/marker_truck_32X32.png"}),n='<div class="marker-info" >\n    <table >\n      <tr>\n        <td ><span style="color: black;font-size: 15px;font-weight: 400;">\n         '+e.vehicleRegistrationNumber+'</span>\n         </td>\n         <td>\n            <span style="font-size:11px">'+e.vehicleType+"</span>\n        </td>\n      </tr>\n      <tr >\n        <td > "+e.speed.toFixed(2)+' km/h</td>\n        <td style="text-align: right">  '+e._duration+' </td>\n      </tr>\n      <tr><td colspan="2">  '+e.address+' </td></tr>\n      <tr style="margin-top: 2px">\n        <td>\n          <span> '+e._endTime+' </span></td>\n          <td style="text-align: right;">\n          <span style="font-size: 13px;font-weight: bold;color:brown;" > '+e.state+" </span>\n        </td>\n      </tr>\n    </table>\n  </div>",o=new google.maps.InfoWindow({content:n});return i.addListener("click",function(){o.open(this.map,i)}),i});this.markerCluster?(this.markerCluster.clearMarkers(),this.markerCluster.addMarkers(t),this.markerCluster.fitMapToMarkers()):(this.markerCluster=new MarkerClusterer(this.map,t,{imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"}),this.markerCluster.fitMapToMarkers())}},e.prototype.filter=function(e,t){return!!e.latitude&&(!!e.longitude&&((!t.filters.state||""==t.filters.state||e.state==t.filters.state)&&(!t.filters.search||""==t.filters.search||-1!=e.vehicleRegistrationNumber.indexOf(t.filters.search))))},e}();h([i.i(n.ViewChild)(l.c),g("design:type",Object)],f.prototype,"agmMap",void 0),f=h([i.i(n.Component)({selector:"app-maps",template:i("l/YH"),styles:[i("kYDb")]}),g("design:paramtypes",["function"==typeof(v=void 0!==u.a&&u.a)&&v||Object,"function"==typeof(m=void 0!==l.b&&l.b)&&m||Object,"function"==typeof(y=void 0!==d.a&&d.a)&&y||Object,"function"==typeof(x=void 0!==r.b&&r.b)&&x||Object,"function"==typeof(b=void 0!==o.b&&o.b)&&b||Object,"function"==typeof(T=void 0!==c.a&&c.a)&&T||Object,"function"==typeof(S=void 0!==s.a&&s.a)&&S||Object])],f);var v,m,y,x,b,T,S},BTfJ:function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("WWmu"),s=i("Pgz3");i.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,i){this._store=e,this._router=t,this.lat=28.4504417,this.lng=77.0705279,this.lat1=28.248635,this.lng1=77.07092,this._store.dispatch({type:"TITLE",payload:"GPS Disconnected"})}return e.prototype.ngOnInit=function(){},e}();c=a([i.i(n.Component)({selector:"app-gps-disconnected",template:i("68BZ"),styles:[i("anOT")]}),l("design:paramtypes",["function"==typeof(d=void 0!==r.b&&r.b)&&d||Object,"function"==typeof(p=void 0!==o.b&&o.b)&&p||Object,"function"==typeof(u=void 0!==s.a&&s.a)&&u||Object])],c);var d,p,u},Bkuo:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".profile-container{margin:-8px -9px 10px -6px}.profile-container,.profile-container-desktop{position:relative;height:150px;background-image:url("+i("J9Wk")+")}.profile-container-desktop{width:250px;margin-top:-8px}.org-list{margin-bottom:5px;border-bottom:1px solid #f0f8ff;padding:7px}.logo{padding:2px;background-color:#a9a9a9;width:90%;width:27%;float:right}.profile-pic{position:absolute;left:10px;top:18px;background-size:cover;height:60px;width:60px;background-color:#f5f5f5;border-radius:50%;background-repeat:no-repeat;background-position:50%}.menu-button{padding:5px 0 4px 15px;background-color:#3f51b5;color:#fff;height:45px;box-shadow:0 0 6px #a9a9a9}.menu-button span{cursor:pointer}.example-container{height:100%;width:100%;position:fixed;z-index:999;top:0;left:0;overflow-x:hidden;background-color:#fff}md-card{padding:12px;box-shadow:none}.sidenav-menu{margin-top:5px;min-width:220px;max-width:234px;padding:3px 10px 3px 6px;list-style:none}li{padding:8px 0 8px 7px;height:25px;line-height:25px}.sidenave-leftspace{list-style:none;padding-left:0}.sidenave-leftspace li span{padding-left:14px}.sidenave-leftspace ul{padding-left:0;list-style:none}.sidenave-leftspace ul li span{padding-left:50px}li:hover{cursor:pointer;background-color:#eee;border-radius:2px}.selected-view{color:#20b2aa}.slide-down{height:130px;transition:height .3s}.slide-up{height:0!important;padding:0;transition:height .3s}.hide-back{background:#fff;position:relative}.service-name,div{font-family:Helvetica}.service-name{white-space:nowrap;font-size:11px;position:absolute;top:28px;left:38px}.header{padding:5px 0 4px 15px;background-color:#3f51b5;color:#fff;height:45px;box-shadow:0 0 6px #a9a9a9}.setting-button{margin-left:auto;margin-right:73px;display:-webkit-box;display:-ms-flexbox;display:flex}.menu-button-desktop{color:#d7d6d2;cursor:pointer;z-index:1000;font-size:17px}.menu-button-desktop>>>.mat-button-focus-overlay{background-color:hsla(0,0%,100%,0)}.menu-button-desktop:hover{color:#fff!important}.badge-icon-alerts{background-color:#6495ed;color:#fff;padding:0 4px;border-radius:10px;line-height:1.4;font-size:11px;margin-top:7px;position:absolute}",""]),e.exports=e.exports.toString()},CQG7:function(e,t,i){"use strict";var n=i("3j3K"),o=i("OAw2"),r=i("d6Ns"),s=i("GUqY"),a=i("aToU");i.d(t,"b",function(){return l}),i.d(t,"a",function(){return d});var l=new n.InjectionToken("translations"),c={en:o.a,es:r.a,zh:s.a,hi:a.a},d=[{provide:l,useValue:c}]},Cgg4:function(e,t){e.exports='<md-card>\r\n  <md-card-content>\r\n<div style="padding: 15px">\r\n  <label style="vertical-align: -6px;margin-right: 5px">{{\'Language\' | translate }} : </label>\r\n  <md-select (change)="selectLang()" [(ngModel)]="selectedLanguage"  name="language" >\r\n    <md-option value={{lang.code}} *ngFor="let lang of supportedLangs" >{{lang.name}}</md-option>\r\n  </md-select>\r\n</div>\r\n  </md-card-content>\r\n</md-card>\r\n\r\n\r\n<md-card style="cursor: pointer" (click)="goToManageOrganisation()">\r\n  <md-card-content>\r\n    <div style="padding: 15px">\r\n      <label style="vertical-align: -6px;margin-right: 5px">{{\'Manage Organsation\' | translate }}</label>\r\n    </div>\r\n  </md-card-content>\r\n</md-card>\r\n\r\n<div>\r\n  \x3c!--<md-card style="background-color: #fffff5;padding: 5px;margin: 8px;" >--\x3e\r\n    \x3c!--<div fxLayout="row">--\x3e\r\n      \x3c!--<span fxFlex="80" style="font-family: Arial;font-size: larger; color: #757575; font-weight: bold">Schedule Reports</span><span fxFlex="20"> <i style="font-size:x-large;color: #757575" class="fa fa-clock-o" aria-hidden="true"></i></span>--\x3e\r\n    \x3c!--</div>--\x3e\r\n  \x3c!--</md-card>--\x3e\r\n</div>\r\n'},CihD:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.getTripStatus=new n.EventEmitter,this.getTripDetails=new n.EventEmitter,this.addTripFreightLocation=new n.EventEmitter,this.createTrip=new n.EventEmitter,this.createQuickTrip=new n.EventEmitter,this.searchLocation=new n.EventEmitter,this.discardTrip=new n.EventEmitter,this.updateTrip=new n.EventEmitter,this.updateTripFromStop=new n.EventEmitter,this.confirmLocation=new n.EventEmitter,this.getTripStatus.subscribe(function(){console.log("in trip status"),r.getAllTripStatus().subscribe(function(e){r._store.dispatch({type:"TRIP_STATUS_LIST",payload:e})},function(e){console.log(e)})}),this.getTripDetails.subscribe(function(e){var t=l.b.TRIP_STATUS_DETAILS_PATH+""+e.vehicleID;r.getVehicleTripDetails(t).subscribe(function(e){r._store.dispatch({type:"VEHICLE_TRIP_DETAILS",payload:e})},function(e){console.log(e)})}),this.addTripFreightLocation.subscribe(function(e){var t=l.b.TRIP_CREATE_UPDATE_PATH+"/freight/create";console.log(t),r.addFretLocation(e,t).subscribe(function(e){r._store.dispatch({type:"ADD_FREIGHT_TRIP_DETAILS",payload:e})},function(e){console.log(e)})}),this.createTrip.subscribe(function(e){var t=l.b.TRIP_CREATE_UPDATE_PATH+"/create";console.log(t),console.log(e),r.createTripService(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"CREATE_TRIP_DETAILS",payload:e})},function(e){console.log(e)})}),this.createQuickTrip.subscribe(function(e){var t=l.b.QUICK_TRIP_CREATE;r.quickTripService(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"CREATE_QUICK_TRIP_DETAILS",payload:e})},function(e){console.log(e)})}),this.searchLocation.subscribe(function(e){var t=l.b.TRIP_CREATE_UPDATE_PATH+"/freight?name="+e;r.searchLocationByName(t,e).subscribe(function(e){r._store.dispatch({type:"SEARCH_LOCATION_NAME",payload:e})},function(e){console.log(e)})}),this.discardTrip.subscribe(function(e){var t;"destination"==e.forEditPlace?t=l.b.TRIP_DISCARD_PATH+"delivery":"pickup"==e.forEditPlace&&(t=l.b.TRIP_DISCARD_PATH+"pickup"),console.log(t),r.doDiscardTrip(t,e.discardObj).subscribe(function(e){},function(e){console.log(e)})}),this.updateTrip.subscribe(function(e){var t=l.b.TRIP_UPDATE_PATH;r.doUpdateTrip(t,e).subscribe(function(e){},function(e){console.log(e)})}),this.updateTripFromStop.subscribe(function(e){var t=l.b.TRIP_UPDATE_FROM_STOP_PATH;"destination"==e.forEditPlace?t=l.b.TRIP_UPDATE_FROM_STOP_PATH+"delivery":"pickup"==e.forEditPlace&&(t=l.b.TRIP_UPDATE_FROM_STOP_PATH+"pickup"),console.log(t),console.log(e.movementObj),r.doUpdateTripFromStop(t,e.movementObj).subscribe(function(e){console.log(e)},function(e){console.log(e)})}),this.confirmLocation.subscribe(function(e){var t=l.b.TRIP_CONFIRM_LOCATION_PATH;"Destination"==e.forConfirmPlace?t=l.b.TRIP_CONFIRM_LOCATION_PATH+"delivery":"Pickup"==e.forConfirmPlace&&(t=l.b.TRIP_CONFIRM_LOCATION_PATH+"pickup"),console.log(t),r.doConfirmLocation(t,e.conObj).subscribe(function(e){console.log(e)},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getAllTripStatus=function(){var e=l.b.TRIP_PATH,t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var i=this.localStorageService.get("AUTH_TOKEN"),n="Bearer "+i;t.set("authorization",n);var r=new o.d({method:o.e.Get,headers:t});return this.http.request(e,r).map(function(e){return e.json()})},e.prototype.getVehicleTripDetails=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i=this.localStorageService.get("TOKEN"),n="Bearer "+i;t.set("authorization",n);var r=new o.d({method:o.e.Get,headers:t});return this.http.request(e,r).map(function(e){return e.json()})},e.prototype.addFretLocation=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n=this.localStorageService.get("TOKEN"),r="Bearer "+n;i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,s).map(function(e){if(200==e.status)return e.json()})},e.prototype.createTripService=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n=this.localStorageService.get("TOKEN"),r="Bearer "+n;i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,s).map(function(e){return e.json()})},e.prototype.quickTripService=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n=this.localStorageService.get("TOKEN"),r="Bearer "+n;i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,s).map(function(e){return console.log(e),e.json()})},e.prototype.searchLocationByName=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n=this.localStorageService.get("AUTH_TOKEN");console.log(n);var r="Bearer "+n;i.set("Content-Type","application/json"),i.set("authorization",r);var s=new o.d({method:o.e.Get,headers:i});return this.http.request(e,s).map(function(e){if(console.log(e.status),console.log(e),200==e.status){return{status:e.status,data:e.json()}}})},e.prototype.doDiscardTrip=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n=this.localStorageService.get("AUTH_TOKEN");console.log(n);var r="Bearer "+n;i.set("Content-Type","application/json"),i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,s).map(function(e){return e.json()})},e.prototype.doUpdateTrip=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n=this.localStorageService.get("AUTH_TOKEN");console.log(n);var r="Bearer "+n;i.set("Content-Type","application/json"),i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,s).map(function(e){return e.json()})},e.prototype.doUpdateTripFromStop=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n=this.localStorageService.get("AUTH_TOKEN");console.log(n);var r="Bearer "+n;i.set("Content-Type","application/json"),i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,s).map(function(e){return e.json()})},e.prototype.doConfirmLocation=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n=this.localStorageService.get("AUTH_TOKEN");console.log(n);var r="Bearer "+n;i.set("Content-Type","application/json"),i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,s).map(function(e){return e.json()})},e}();p=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],p);var u,h,g},Cl9l:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("Ths4"),a=(i.n(s),i("Dkvd")),l=i("Pgz3"),c=i("wp1f"),d=i("OMJi"),p=(i.n(d),i("kZql"));i.d(t,"a",function(){return g});var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,n,o,r){var s=this;this.socketService=e,this._store=t,this._services=n,this.localStorageService=o,this._angularitics=r,this.isSpinner=!0,this.errorMsg="",this.search="",this.isSearch=!1,this.selectedVeh="",this.status="",this.todeyDate="",this.isShowLocationHistory="",this.newDate="",this.vehicleList=[],this.configAlertsList=[],this.unSub_vehicleList=null,this.unsub_getAlertsNotification=null,this.unSub_customerDetails=null,this.unSub_vehicleStatusFilter=null,this.unSub_searchFilter=null,this.vehicleCount={all:0,stopped:0,disconnected:0,moving:0},this.view="",this._store.dispatch({type:"TITLE",payload:"Vehicle Dashboard"}),console.log("emitting vehicleListTimer"),this.view=document.view,this.unSub_customerDetails=t.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&s.socketService.getVehicleList()}),this.unSub_vehicleStatusFilter=t.select("selectedFilterVehicleStatus").subscribe(function(e){i.i(d.isNullOrUndefined)(e)||(console.log(e.toString()),console.log("In vehicle list status filter:"),s.status=e.toString())}),this.unSub_searchFilter=t.select("vehicleListSearchFliter").subscribe(function(e){i.i(d.isNullOrUndefined)(e)||(console.log(e.toString()),console.log("In search filter:"),s.search=e.toString())}),this.unSub_vehicleList=t.select("vehicleListRes").subscribe(function(e){if(s.errorMsg="",null!=e){if(""==e.error){console.log(e),s.vehicleCount={all:0,stopped:0,disconnected:0,moving:0},s.vehicleList=e.data,s.vehicleCount.all=s.vehicleList.length;for(var t=0;t<s.vehicleList.length;t++)s.vehicleList[t]._duration=s.msToTime(s.vehicleList[t].duration),(null==s.vehicleList[t].state||"Disconnected"==s.vehicleList[t].state&&s.vehicleList[t].duration>p.c.SUSPENDED_TIME)&&(s.vehicleList[t].state="Suspended"),"Stopped"==s.vehicleList[t].state&&(s.vehicleCount.stopped=s.vehicleCount.stopped+1),"Disconnected"==s.vehicleList[t].state&&(s.vehicleCount.disconnected=s.vehicleCount.disconnected+1),"Moving"==s.vehicleList[t].state&&(s.vehicleCount.moving=s.vehicleCount.moving+1),"Suspended"==s.vehicleList[t].state&&(s.vehicleCount.suspended=s.vehicleCount.suspended+1);console.log(s.vehicleList),0==s.vehicleList.length&&(s.errorMsg="No records found.")}else s.errorMsg=e.errorMsg;s.isSpinner=!1}}),this.unsub_getAlertsNotification=this._store.select("getAllAlertsNotification").subscribe(function(e){if(console.log("Alerts in Notification :"),console.log(e),null!=e){var t=[];if(null!==(t=e.data)&&void 0!=t&&t.length>0){t=t.reverse(),s.configAlertsList=[];for(var i=0;i<t.length;i++)s.configAlertsList.push(t[i])}}})}return e.prototype.ngOnDestroy=function(){this.socketService.disconnectSocket(),void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&(console.log("unsusVehicle list"),this.unSub_vehicleList.unsubscribe()),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&(console.log("unsusVehicle list"),this.unSub_customerDetails.unsubscribe()),void 0!==this.unSub_vehicleStatusFilter&&null!=this.unSub_vehicleStatusFilter&&void 0!=this.unSub_vehicleStatusFilter&&(console.log("unSub_vehicleStatusFilter"),this.unSub_vehicleStatusFilter.unsubscribe()),void 0!==this.unSub_searchFilter&&null!=this.unSub_searchFilter&&void 0!=this.unSub_searchFilter&&(console.log("unSub_searchFilter"),this.unSub_searchFilter.unsubscribe())},e.prototype.ngOnInit=function(){},e.prototype.goToLoactionHisView=function(e){if("web"!=this.view)console.log(e),this._angularitics.eventTrack("VehicleList_ItemClicked_Mobile",e),this._store.dispatch({type:"LOCATION_HISTORY",payload:null}),this.localStorageService.set("SELECTED-LOCATION-HIS-VEHICLE",e),this._store.dispatch(i.i(r.c)(["/vtsdashboard/locationHistory"]));else{var t={isShow:!0};this._store.dispatch({type:"SHOW_LOCATION_HISTORY",payload:t}),this._angularitics.eventTrack("VehicleList_ItemClicked_Web",e),this._store.dispatch({type:"LOCATION_HISTORY",payload:null}),this.localStorageService.set("SELECTED-LOCATION-HIS-VEHICLE",e),this._store.dispatch({type:"GET_TIMELINE",payload:{callFrom:"web"}})}},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e}();g=u([i.i(n.Component)({selector:"app-vehicle-list",template:i("r+hm"),styles:[i("gF86")]}),h("design:paramtypes",["function"==typeof(f=void 0!==c.a&&c.a)&&f||Object,"function"==typeof(v=void 0!==o.b&&o.b)&&v||Object,"function"==typeof(m=void 0!==l.a&&l.a)&&m||Object,"function"==typeof(y=void 0!==s.LocalStorageService&&s.LocalStorageService)&&y||Object,"function"==typeof(x=void 0!==a.a&&a.a)&&x||Object])],g);var f,v,m,y,x},Cz6b:function(e,t){e.exports='<div class="main">\r\n<md-card>\r\n  <md-card-content>\r\n    <div>\r\n      <span>Add New Organisation here : </span>\r\n    </div>\r\n    <div>\r\n      <md-input-container style="width: 100%" >\r\n          <input placeholder="Organisation Name" type="text"  mdInput required [(ngModel)]="orgName">\r\n        </md-input-container>\r\n    </div>\r\n    <div>\r\n      <md-input-container style="width: 100%" >\r\n          <input placeholder="Organisation Id" type="text"  mdInput required [(ngModel)]="userOrgId">\r\n        </md-input-container>\r\n    </div>\r\n\r\n    <div>\r\n    <md-select  placeholder="Organisation Type"  style="width: 100%" floatPlaceholder="never"  [(ngModel)]="orgType">\r\n      <md-option  value="TRANSPORTER">TRANSPORTER</md-option>\r\n      <md-option  value="FLEET_OWNER">FLEET OWNER</md-option>\r\n      <md-option  value="FLEET_OWNER_AGENT">FLEET OWNER AGENT</md-option>\r\n    </md-select>\r\n    </div>\r\n\r\n    <div style="margin-top: 20px;text-align: right;">\r\n        \x3c!-- (click)="goToDashboard()" --\x3e\r\n      <button md-raised-button>CANCEL</button>\r\n      <button md-raised-button color="primary" (click)="addNewOrganisation()">ADD ORGANISATION</button>\r\n    </div>\r\n  </md-card-content>\r\n</md-card>\r\n</div>\r\n'},D7qo:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".custom-header{width:100%;height:auto;padding:15px;background-color:#3f51b5;color:#fff;position:fixed;margin-top:-50px}md-input-container.md-input-focused label,md-select.md-select-focused label{display:none}.container-with-line{position:relative;left:1%;margin:11px;border-left-color:#9b9b9b;border-left-style:solid;border-left-width:1px}.modal{position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;top:20%}.close{color:#aaa;float:right;font-size:28px;font-weight:700}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}.pac-card{margin:10px 10px 0 0;border-radius:2px 0 0 2px;box-sizing:border-box;-moz-box-sizing:border-box;outline:none;box-shadow:0 2px 6px rgba(0,0,0,.3);background-color:#fff;font-family:Roboto}#pac-container{padding-bottom:12px;margin-right:12px}.pac-controls{display:inline-block;padding:5px 11px}.pac-controls label{font-size:13px}#pac-input,.pac-controls label{font-family:Roboto;font-weight:300}#pac-input{background-color:#fff;font-size:15px;margin-left:12px;padding:0 11px 0 13px;text-overflow:ellipsis}#pac-input:focus{border-color:#4d90fe}.my-map-search{left:2%;width:89%;position:absolute;z-index:10;margin-top:13%}",""]),e.exports=e.exports.toString()},DLpR:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("kZql");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){var i=this;this.http=e,this._store=t,this.defaultHeaders=new o.c,this.token="",this.unSub_token=null,this.login=new n.EventEmitter,this.sendOTP=new n.EventEmitter,this.defaultHeaders.append("Access-Control-Allow-Origin","*"),this.defaultHeaders.append("Access-Control-Allow-Methods","GET,POST, OPTIONS, PUT, PATCH, DELETE"),this.sendOTP.subscribe(function(e){var t=a.b.SEND_OTP_PATH+e.mobileNo;i.sendOtp(t).subscribe(function(t){if(console.log(t),console.log(t.error),"X"==t.error)return void i._store.dispatch({type:"OTP_GENERATION",payload:{error:"X",mobNo:e.mobileNo,msg:"OTP not send"}});var n=t;i._store.dispatch({type:"OTP_GENERATION",payload:{error:"",mobNo:e.mobileNo,msg:n.success}})},function(t){0==t.status?i._store.dispatch({type:"OTP_GENERATION",payload:{error:"X",mobNo:e.mobileNo,msg:"No Internet Connection"}}):i._store.dispatch({type:"OTP_GENERATION",payload:{error:"X",mobNo:e.mobileNo,msg:t.json().error}}),console.log(t),console.log(t.json())})}),this.login.subscribe(function(e){var t=a.b.PATH+":8094/authentication?mobileNumber="+e.mobileNo+"&otp="+e.otp;i.dologin(t).subscribe(function(e){if(console.log(e),console.log(e.error),"X"==e.error)return void i._store.dispatch({type:"TOKEN",payload:{error:"X",msg:"login failed please try again later...."}});var t=e;i._store.dispatch({type:"TOKEN",payload:{error:"",token:t.token}})},function(e){0==e.status?i._store.dispatch({type:"TOKEN",payload:{error:"X",msg:"No Internet Connection"}}):i._store.dispatch({type:"TOKEN",payload:{error:"X",msg:"error occur , "+e.json().error}}),console.log(e),console.log(e.json())})})}return e.prototype.ngOnDestroy=function(){},e.prototype.sendOtp=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e.prototype.dologin=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){return console.log(e),201==e.status?e.json():(console.log("not 201"),{error:"X"})})},e}();d=l([i.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(p=void 0!==o.f&&o.f)&&p||Object,"function"==typeof(u=void 0!==s.b&&s.b)&&u||Object])],d);var p,u},DM0y:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"SELECTED_VEHICLE_FILTER_STATUS":return c.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"VEHICLELIST_SEARCH_FILTER":return c.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"SELECTED_VEHICLE_LOCATION_HISTORY":return c.addAction(t),t.payload;default:return e}}function s(e,t){switch(void 0===e&&(e=null),t.type){case"SHOW_LOCATION_HISTORY":return c.addAction(t),t.payload;default:return e}}function a(e,t){switch(void 0===e&&(e=null),t.type){case"GET_TIMELINE":return c.addAction(t),t.payload;default:return e}}var l=i("H8ZI");t.a=n,t.c=o,t.b=r,t.d=s,t.e=a;var c=new l.a},DOYL:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("Ths4");i.n(r);i.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.localStorageService=e,this._store=t}return e.prototype.ngOnDestroy=function(){},e.prototype.logout=function(){console.log(localStorage),this.localStorageService.clearAll(),this._store.dispatch({type:"CUSTOMER_DETAILS",payload:null}),this._store.dispatch({type:"CURRENT_TRIP_VEHICLE",payload:null}),this._store.dispatch({type:"AUTHORIZATION",payload:null}),this._store.dispatch({type:"VEHICLE_LIST",payload:null}),this._store.dispatch({type:"TOKEN",payload:null}),this._store.dispatch({type:"AUTH_TOKEN",payload:null});var e="http://"+window.location.hostname+":"+window.location.port;window.location.replace(e+"/fretron-auth/fretronLogin")},e}();l=s([i.i(n.Injectable)(),a("design:paramtypes",["function"==typeof(c=void 0!==r.LocalStorageService&&r.LocalStorageService)&&c||Object,"function"==typeof(d=void 0!==o.b&&o.b)&&d||Object])],l);var c,d},DS84:function(e,t){e.exports='<div class="main">\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\n  <md-card>\n    <div style="text-align: right">\n      <md-select class="language" (change)="selectLang()" [(ngModel)]="selectedLanguage"  name="language" >\n        <md-option value={{lang.code}} *ngFor="let lang of supportedLangs" >{{lang.name}}</md-option>\n      </md-select>\n    </div>\n\n    <div class="imgcontainer">\n      <img style="padding: 5px;background-color: darkgray; width: 60%;" src="../../../../images/fretron_logo.png" alt="Avatar"  >\n    </div>\n\n     <div  fxLayout="row" >\n       <label>Email : {{email}}</label>\n       \x3c!--<label style="color: grey">Email :(amitkumar@gmail.com)</label>--\x3e\n     </div>\n\n     <div  fxLayout="row" style="margin-top: 5px">\n       <md-input-container style="width: 100%" >\n         <input  mdTooltip="{{\'This field is required\' | translate }}"  mdInput [(ngModel)]="userName"\n                placeholder="{{\'Name\' | translate }}" #Name required>\n       </md-input-container>\n     </div>\n\n    <div fxLayout="row" >\n      <md-input-container fxFlex="70" >\n        <input type="number" min="0" mdTooltip="{{\'This field is required\' | translate }}"  mdInput [(ngModel)]="mobileNo"\n               onkeydown="if(event.target.value.length>=10 && event.keyCode!=8 && event.keyCode!=13 )return false;"\n              pattern="[0-9]{10}" placeholder="{{\'Mobile Number\' | translate }}" #mobNo required>\n      </md-input-container>\n\n      <i *ngIf="!validOTP" class="fa fa-check" aria-hidden="true" style="color: yellowgreen;margin-top: 12px"></i>\n\n      <button fxFlex="30" (click)="validateOtp(mobNo.value)" class="validate-button" name="validate Number"  mdTooltip="{{\'click to validate\' | translate }}"\n             [disabled]="mobNo.value.length < 10" md-raised-button >\n        Validate\n      </button>\n\n    </div>\n\n     <div>\n       <md-input-container style="width: 100%;">\n         <input mdTooltip="{{\'This field is required\' | translate }}"  mdInput [(ngModel)]="signupOTP" [disabled]="validOTP"\n                 placeholder="{{\'Enter OTP\' | translate }}" #OTP required>\n       </md-input-container>\n     </div>\n\n    <div style="text-align: center;padding: 15px;">\n      \x3c!--<button mdTooltip="Register here"  style="margin-top: 20px;width: 100%;" md-raised-button  (click)="login()">LOGIN</button>--\x3e\n      <button [disabled]="mobNo.value.length < 10 || Name.value == \'\' || OTP.value.length<6"  (click)="signup()" name="signup"  type="submit"  class="add-button" mdTooltip="{{\'click to Signup\' | translate }}"  md-raised-button  >\n        Signup\n      </button>\n    </div>\n\n  </md-card>\n</div>\n<div class="footer-text">\n  \x3c!--<a href="#">{{\'Help\' | translate }}</a>--\x3e\n</div>\n'},DSOR:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("fYnu"),s=i("Pgz3"),a=i("j7LN"),l=i("Ths4");i.n(l);i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i,n,o){var r=this;this._store=e,this._services=t,this.userMgmntService=i,this.snackBar=n,this._localStorageServices=o,this.view="",this.emailId="",this.mobileNo="",this.existingUserName="",this.existingUserMobile="",this.existingUserEmail="",this.existingUserObj={},this.selectedUserForDelete={},this.orgId="",this.isShowInviteUser=!1,this.isShowUserDetails=!1,this.isShowDeleteUserConfirmation=!1,this.isShowExistingUserDetails=!1,this.allUsersList=[],this.unSub_UsersList=null,this.unSub_DeleteUserResponse=null,this.unSub_UpdateUserResponse=null,this.unSub_getAddExistingUser=null,this.unSub_customerDetails=null,this.view=document.view,this.allUsersList=[];this._localStorageServices.get("AUTH_TOKEN");this.token=this._localStorageServices.get("AUTH_TOKEN"),console.log("this.token"),console.log(this.token),this.unSub_customerDetails=e.select("customerDetails").subscribe(function(e){console.log(e),r.allUsersList=[],null!=e&&(r.orgId=e.customer.orgId,r.userMgmntService.getAllUsersList.emit(r.token))}),this.unSub_UsersList=e.select("getAllUserList").subscribe(function(e){r.allUsersList=[],null!=e&&(console.log("all users list in component"),console.log(e),r.allUsersList=e)}),this.unSub_getAddExistingUser=e.select("existingUserResponse").subscribe(function(e){if(null!=e){if(400==e.status)return r.isShowUserDetails=!0,void(r.isShowExistingUserDetails=!1);console.log("existing users details in component"),console.log(e.status),r.isShowExistingUserDetails=!0,r.existingUserObj=e,r.existingUserName=e.name,r.existingUserEmail=e.email,r.existingUserMobile=e.mobileNumber,r.refreshListAfterInterval()}}),this.unSub_DeleteUserResponse=e.select("deleteUserResponse").subscribe(function(e){null!=e&&(console.log("all users list in component"),console.log(e),r.openSnackBar("User Deleted Successfully !"),r.userMgmntService.getAllUsersList.emit(r.token),r.refreshListAfterInterval())}),this.unSub_UpdateUserResponse=e.select("updateUserStatusResponse").subscribe(function(e){null!=e&&(console.log("all users list in component"),console.log(e),r.openSnackBar("User Status Updated !"),r.isShowUserDetails=!1,r.userMgmntService.getAllUsersList.emit(r.token),r.refreshListAfterInterval())})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_UsersList&&null!=this.unSub_UsersList&&void 0!=this.unSub_UsersList&&this.unSub_UsersList.unsubscribe(),void 0!==this.unSub_UsersList&&null!=this.unSub_UsersList&&void 0!=this.unSub_UsersList&&this.unSub_UsersList.unsubscribe(),void 0!==this.unSub_UpdateUserResponse&&null!=this.unSub_UpdateUserResponse&&void 0!=this.unSub_UpdateUserResponse&&this.unSub_UpdateUserResponse.unsubscribe(),void 0!==this.unSub_getAddExistingUser&&null!=this.unSub_getAddExistingUser&&void 0!=this.unSub_getAddExistingUser&&this.unSub_getAddExistingUser.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.showInviteUser=function(){this.isShowInviteUser=!0},e.prototype.confirmAddUser=function(){this.isShowInviteUser=!1,this.isShowUserDetails=!0;var e={email:this.emailId,mobile:this.mobileNo};this.userMgmntService.getUserIfExist.emit(e)},e.prototype.addUser=function(){var e={userUuid:this.existingUserObj.uuid,orgUuid:this.orgId,accessLevel:"user"};console.log(e),this.userMgmntService.addUserToGroup.emit(e)},e.prototype.deleteUserConfirmationBox=function(e){console.log("Delete user ??"),console.log(e);var t={userUuid:e.user.uuid,orgUuid:this.orgId,accessLevel:e.accessLevel};this.selectedUserForDelete=t,this.isShowDeleteUserConfirmation=!0},e.prototype.deleteSelecetdUser=function(){this.allUsersList.length>1?(this.isShowDeleteUserConfirmation=!1,this.userMgmntService.deleteUser.emit(this.selectedUserForDelete)):this.openSnackBar("Atleast one user is required.")},e.prototype.changeUserStatus=function(e){var t="";"user"==e.accessLevel&&(t="admin"),"admin"==e.accessLevel&&(t="user");var i={userUuid:e.user.uuid,orgUuid:this.orgId,accessLevel:t};this.userMgmntService.changeUserType.emit(i)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e.prototype.refreshListAfterInterval=function(){var e=this;setTimeout(function(){e.userMgmntService.getAllUsersList.emit(e.token)},3e3),setTimeout(function(){e.userMgmntService.getAllUsersList.emit(e.token)},5e3),setTimeout(function(){e.userMgmntService.getAllUsersList.emit(e.token)},1e4)},e}();p=c([i.i(n.Component)({selector:"app-users-list",template:i("1NCH"),styles:[i("IVKM")]}),d("design:paramtypes",["function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(g=void 0!==a.a&&a.a)&&g||Object,"function"==typeof(f=void 0!==r.A&&r.A)&&f||Object,"function"==typeof(v=void 0!==l.LocalStorageService&&l.LocalStorageService)&&v||Object])],p);var u,h,g,f,v},DwWQ:function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("WWmu"),s=i("Ths4"),a=(i.n(s),i("5J2v")),l=i("fYnu"),c=i("uDr9"),d=i("jAYb");i.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,i,n,o,r){var s=this;this.userSignupServices=e,this.route=t,this._translate=i,this.snackBar=n,this._store=o,this.localStorageService=r,this.isSpinner=!1,this.mobileNo="",this.userName="",this.email="",this.signupOTP="",this.validOTP=!0,this.userToken=null,this.unSub_signupTokenValidation=null,this.unSub_signupSuccessNew=null,this.selectedLanguage="en",this.supportedLangs=[{name:"English",code:"en"},{name:"हिंदी",code:"hi"}],t.queryParams.subscribe(function(e){s.userToken=e.token,console.log(s.userToken)}),void 0==this.userToken||null==this.userToken||""==this.userToken?(console.log(this.userToken),this.openSnackBar("Invalid Request")):this.userSignupServices.signupTokenValidation.emit(this.userToken),this.unSub_signupTokenValidation=o.select("signupTokenValidation").subscribe(function(e){null!=e&&void 0!=e.data&&(console.log(e),s.email=e.data.email,s.isSpinner=!1)});var a=this.localStorageService.get("TOKEN");console.log(a)}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_signupTokenValidation&&null!=this.unSub_signupTokenValidation&&void 0!=this.unSub_signupTokenValidation&&this.unSub_signupTokenValidation.unsubscribe()},e.prototype.ngOnInit=function(){this.selectedLanguage=this.localStorageService.get("LANGUAGE")?""+this.localStorageService.get("LANGUAGE"):"en",this.selectLang()},e.prototype.selectLang=function(){this._translate.use(this.selectedLanguage)},e.prototype.fieldsValidation=function(){return""==this.email||void 0==this.email||null==this.email?(console.log("Email should not be blank"),!1):""==this.mobileNo||void 0==this.mobileNo||null==this.mobileNo?(console.log("please fill mobile no"),!1):""==this.userName||void 0==this.userName||null==this.userName?(console.log("please fill User Name"),!1):""!=this.signupOTP&&void 0!=this.signupOTP&&null!=this.signupOTP||(console.log("please fill OTP"),!1)},e.prototype.validateOtp=function(e){var t=this;console.log(this.mobileNo),console.log(e.length),this.userSignupServices.sendOTPSignUp.emit(this.mobileNo),this.unSub_signupTokenValidation=this._store.select("signUpOtpGenaration").subscribe(function(e){null!=e&&(console.log(e),"OTP generated"===e.msg&&(t.validOTP=!1))})},e.prototype.signup=function(){var e=this;if(this.fieldsValidation()){var t={data:{contactPersonName:this.userName,emailAddress:this.email,mobileNumber:this.mobileNo,organizationName:null,organizationBillingAddress:null,organizationShippingAddress:null,typeOfCustomer:null},token:this.userToken,otp:this.signupOTP};this.userSignupServices.signUpUser.emit(t),this.unSub_signupSuccessNew=this._store.select("signUpNewUserData").subscribe(function(t){null!=t&&(console.log(t),""==t.data.error||"Sign up successfull"==t.data.message?e._store.dispatch(i.i(a.c)(["/userLogin"])):(console.log(t.data.errorMsg),e.openSnackBar(t.data.errorMsg)))})}else console.log("please insert all required fields")},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:36e5})},e}();h=p([i.i(n.Component)({selector:"app-user-signup",template:i("DS84"),styles:[i("GU/i")]}),u("design:paramtypes",["function"==typeof(g=void 0!==d.a&&d.a)&&g||Object,"function"==typeof(f=void 0!==o.f&&o.f)&&f||Object,"function"==typeof(v=void 0!==c.a&&c.a)&&v||Object,"function"==typeof(m=void 0!==l.A&&l.A)&&m||Object,"function"==typeof(y=void 0!==r.b&&r.b)&&y||Object,"function"==typeof(x=void 0!==s.LocalStorageService&&s.LocalStorageService)&&x||Object])],h);var g,f,v,m,y,x},Dz9J:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("1ZaY"),a=i("fYnu");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i){var n=this;this._store=e,this.vehicleMgmntService=t,this.snackBar=i,this.view="",this.vehicleTypeList=["Tata 407 2.5MT","Canter/Swaraj Mazda 3.5MT","LPT 709 4.5MT","LPT 1109 7.5MT","Taurus 15MT","Containerized Vehicle 7 MT","Containerized Vehicle 14 MT","Open Truck 9MT","JCB 8MT","High Bed Trailer Double Axle Upto 22 MT","Trailer Triple Axle Upto 27 MT","Horse for Mobile Unit upto 49 MT","Low Bed Trailer for ODC Upto 49 MT","Volvo/Mann/4923/4921 49 MT","Volvo/Mann/AMW 150 MT"],this.vehicleStatusList=["Own Vehicle","Partner Vehicle"],this.gpsVendorList=["Fretron","MapMyIndia","Others"],this.vehicleNumber="",this.vehicleType="",this.driverMobNo="",this.vtsDeviceIdVehicle="",this.vehicleStatus="",this.orgId="",this.gpsVendor="",this.vehiclesByOrgList=[],this.unSub_vehiclesByOrgList=null,this.unSub_customerDetails=null,this.unSub_refreshList=null,this.unSub_addNewVehicle=null,this.view=document.view,this.unSub_customerDetails=e.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&(n.orgId=e.customer.orgId,n.vehicleMgmntService.getAllVehiclesByOrg.emit(n.orgId),setTimeout(function(){n.vehicleMgmntService.getAllVehiclesByOrg.emit(n.orgId)},1e3),setTimeout(function(){n.vehicleMgmntService.getAllVehiclesByOrg.emit(n.orgId)},5e3))}),this.unSub_refreshList=e.select("refreshList").subscribe(function(e){console.log(e),null!=e&&"Reload Vehicle List"==e&&n.vehicleMgmntService.getAllVehiclesByOrg.emit(n.orgId)}),this.unSub_vehiclesByOrgList=e.select("getVehiclesByOrg").subscribe(function(e){null!=e&&(200==e.status&&console.log("Vehicles by group list"),console.log(e),n.vehiclesByOrgList=e.list)}),this.unSub_addNewVehicle=e.select("addVehicleResponse").subscribe(function(e){null!=e&&(200==e.status?(n.isShowAddNewVehicle=!1,n.openSnackBar("Vehicle Added Successfully."),setTimeout(function(){n.vehicleMgmntService.getAllVehiclesByOrg.emit(n.orgId)},1500)):n.openSnackBar("Failed to Add Vehicle"))}),this.vehicleMgmntService.getAllVehiclesByOrg.emit(this.orgId)}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_vehiclesByOrgList&&null!=this.unSub_vehiclesByOrgList&&void 0!=this.unSub_vehiclesByOrgList&&this.unSub_vehiclesByOrgList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_refreshList&&null!=this.unSub_refreshList&&void 0!=this.unSub_refreshList&&this.unSub_refreshList.unsubscribe(),void 0!==this.unSub_addNewVehicle&&null!=this.unSub_addNewVehicle&&void 0!=this.unSub_addNewVehicle&&this.unSub_addNewVehicle.unsubscribe()},e.prototype.showAddNewVehicle=function(){this.isShowAddNewVehicle=!0},e.prototype.goToEditVehicles=function(e){this._store.dispatch({type:"CALLED_EDIT_VEHICLE_SOURCE",payload:"VehicleList"}),this._store.dispatch({type:"SELECTED_VEHICLE_FOR_EDIT",payload:e}),this._store.dispatch(i.i(r.c)(["/vtsdashboard/editVehicles"]))},e.prototype.showShareModal=function(){console.log("share modal is here : ")},e.prototype.saveNewVehicles=function(){var e={vehicleType:this.vehicleType,vehicleModel:this.vehicleType,vehicleMake:this.vehicleType,vehicleRegistrationNumber:this.vehicleNumber,vtsDeviceId:this.vtsDeviceIdVehicle};console.log(e),this.vehicleMgmntService.addNewVehicles.emit(e),this._store.dispatch({type:"REFRESH_LIST",payload:"Reload Vehicle List"}),this.isShowAddNewVehicle=!1},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"OK",{duration:4e3})},e}();d=l([i.i(n.Component)({selector:"app-manage-vehicle-list",template:i("+vFR"),styles:[i("08Gp")]}),c("design:paramtypes",["function"==typeof(p=void 0!==o.b&&o.b)&&p||Object,"function"==typeof(u=void 0!==s.a&&s.a)&&u||Object,"function"==typeof(h=void 0!==a.A&&a.A)&&h||Object])],d);var p,u,h},"E7m/":function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"IS_BACK":return D.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=!1),t.type){case"CLOSE_DIALOG":return D.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=[]),t.type){case"PICKED_VEHICLES":return D.addAction(t),t.payload;default:return e}}function s(e,t){switch(void 0===e&&(e=null),t.type){case"TITLE":return D.addAction(t),t.payload;default:return e}}function a(e,t){switch(void 0===e&&(e=null),t.type){case"VEHICLE_LIST":return D.addAction(t),t.payload;default:return e}}function l(e,t){switch(void 0===e&&(e=null),t.type){case"VEH_RUNNING_REPORT":return D.addAction(t),t.payload;default:return e}}function c(e,t){switch(void 0===e&&(e=null),t.type){case"VEH_STOPPAGE_REPORT":return D.addAction(t),t.payload;default:return e}}function d(e,t){switch(void 0===e&&(e=null),t.type){case"VEH_OVERSPEED_REPORT":return D.addAction(t),t.payload;default:return e}}function p(e,t){switch(void 0===e&&(e=null),t.type){case"LOCATION_HISTORY":return D.addAction(t),t.payload;default:return e}}function u(e,t){switch(void 0===e&&(e=null),t.type){case"FORMATTED_ADDRESS":return D.addAction(t),t.payload;default:return e}}function h(e,t){switch(void 0===e&&(e=null),t.type){case"CURRENT_VEHICLE":return D.addAction(t),t.payload;default:return e}}function g(e,t){switch(void 0===e&&(e=null),t.type){case"SHARE_VEHICLE":return D.addAction(t),t.payload;default:return e}}function f(e,t){switch(void 0===e&&(e=null),t.type){case"TRIP_SOURCE":return D.addAction(t),t.payload;default:return e}}function v(e,t){switch(void 0===e&&(e=null),t.type){case"TRIP_DESTINATION":return D.addAction(t),t.payload;default:return e}}function m(e,t){switch(void 0===e&&(e=null),t.type){case"ALERT_FIELD_LOCATION":return D.addAction(t),t.payload;default:return e}}function y(e,t){switch(void 0===e&&(e=null),t.type){case"TRIP_ADDRESS_TYPE":return D.addAction(t),t.payload;default:return e}}function x(e,t){switch(void 0===e&&(e=null),t.type){case"SAVE_DETAILS_ADD_TRIP":return D.addAction(t),t.payload;default:return e}}function b(e,t){switch(void 0===e&&(e=null),t.type){case"ETA_DISTANCE":return D.addAction(t),t.payload;default:return e}}function T(e,t){switch(void 0===e&&(e=null),t.type){case"ETA_DISTANCE_LIST":return D.addAction(t),t.payload;default:return e}}function S(e,t){switch(void 0===e&&(e=null),t.type){case"FREIGHT_LOCATION":return D.addAction(t),t.payload;default:return e}}var w=i("H8ZI");t.b=n,t.q=o,t.p=r,t.a=s,t.c=a,t.d=l,t.e=c,t.f=d,t.g=p,t.h=u,t.i=h,t.j=g,t.k=f,t.l=v,t.m=m,t.n=y,t.o=x,t.r=b,t.t=T,t.s=S;var D=new w.a},FEPL:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("Pgz3"),s=i("5J2v"),a=i("Ths4"),l=(i.n(a),i("fYnu"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i,n){var o=this;this._store=e,this.snackBar=t,this._services=i,this.localStorageService=n,this.isSpinner=!0,this.vehicles=[],this.search="",this.isDisabled=!0,this.fromDate=null,this.accesssLevel="",this.email=null,this.toDate=null,this.vehicleList=[],this.emailList=[],this.errorMsg="",this.isShareVehicleDialog=!1,this.unSub_vehicleList=null,this.unSub_customerDetails=null,this.unSub_shareDetails=null,this.str="",this.customerId="";var r={},s=this.localStorageService.get("TOKEN");console.log("token"),console.log(s),this._store.dispatch({type:"TITLE",payload:"Vehicle Sharing"}),this.unSub_customerDetails=e.select("customerDetails").subscribe(function(t){null!=t&&""==t.error&&(r=t.customer,console.log(r),o.customerId=r.id,o.unSub_vehicleList=e.select("vehicleListRes").subscribe(function(e){if(o.errorMsg="",null==e)return void i.getVehicleList.emit(r.id);if(""==e.error){var t=JSON.parse(JSON.stringify(e.data));o.vehicleList=t.sort(o.compare);for(var n=0;n<o.vehicleList.length;n++)o.vehicleList[n].select=!1}else console.log(e.errorMsg),o.errorMsg=e.errorMsg;o.isSpinner=!1}))})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&this.unSub_vehicleList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_shareDetails&&null!=this.unSub_shareDetails&&void 0!=this.unSub_shareDetails&&this.unSub_shareDetails.unsubscribe()},e.prototype.ngOnInit=function(){},e.prototype.compare=function(e,t){return e.vehicleType.toUpperCase()<t.vehicleType.toUpperCase()?-1:e.vehicleType.toUpperCase()>t.vehicleType.toUpperCase()?1:0},e.prototype.checkSelect=function(){for(var e=0;e<this.vehicleList.length;e++){if(1==this.vehicleList[e].select){this.isDisabled=!1;break}this.isDisabled=!0}},e.prototype.shareVehicle=function(){this.isShareVehicleDialog=!1;for(var e=[],t=0;t<this.vehicleList.length;t++)1==this.vehicleList[t].select&&e.push(this.vehicleList[t]);console.log(e)},e.prototype.makeChip=function(e){this.emailList=[],console.log("email string:"),console.log(e);var t=e.trim(),i=[];i=t.split(","),this.emailList=i},e.prototype.shareSelectedVehicles=function(){for(var e=this,t=[],n=0;n<this.vehicleList.length;n++)this.vehicleList[n].select&&t.push(this.vehicleList[n].uuid);var o={sharedByCustomer:this.customerId,sharedWith:this.emailList,vehicleList:t,validTill:this.toDate.getTime(),validFrom:this.fromDate.getTime(),accessLevel:this.accesssLevel};console.log(o),this.checkValid(o)&&this._services.shareVehicleList(o),this.unSub_shareDetails=this._store.select("shareVehicle").subscribe(function(t){console.log("data"),console.log(t),null==t&&void 0==t||(""==t.error?e._store.dispatch(i.i(s.c)(["/vtsdashboard"])):(console.log(t),e.openSnackBar(t.error)))})},e.prototype.checkValid=function(e){return""!=e.sharedByCustomer&&null!=e.sharedByCustomer&&void 0!=e.sharedByCustomer&&(0!=e.sharedWith.length&&(0!=e.vehicleList.length&&(""!=e.validTill&&null!=e.validTill&&void 0!=e.validTill&&(""!=e.validFrom&&null!=e.validFrom&&void 0!=e.validFrom&&(""!=e.accessLevel&&null!=e.accessLevel&&void 0!=e.accessLevel)))))},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e}();p=c([i.i(n.Component)({selector:"vehicle-sharing",template:i("NgvR"),styles:[i("gTfB")]}),d("design:paramtypes",["function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(h=void 0!==l.A&&l.A)&&h||Object,"function"==typeof(g=void 0!==r.a&&r.a)&&g||Object,"function"==typeof(f=void 0!==a.LocalStorageService&&a.LocalStorageService)&&f||Object])],p);var u,h,g,f},FOB5:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"TRIP_TEMPLATE_STATUS_LIST":return p.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"TEMPLATE_DETAILS":return p.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"CREATE_TRIP_TEMPLATE":return p.addAction(t),t.payload;default:return e}}function s(e,t){switch(void 0===e&&(e=null),t.type){case"UPDATE_TRIP_TEMPLATE":return p.addAction(t),t.payload;default:return e}}function a(e,t){switch(void 0===e&&(e=null),t.type){case"DELETE_TRIP_TEMPLATE":return p.addAction(t),t.payload;default:return e}}function l(e,t){switch(void 0===e&&(e=null),t.type){case"ADD_TRIP_TEMPLATE_SAVE_DETAILS":return p.addAction(t),t.payload;default:return e}}function c(e,t){switch(void 0===e&&(e=null),t.type){case"EDIT_TRIP_TEMPLATE_DETAILS":return p.addAction(t),t.payload;default:return e}}var d=i("H8ZI");t.a=n,t.b=o,t.c=r,t.g=s,t.e=a,t.f=l,t.d=c;var p=new d.a},FbGK:function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("WWmu"),s=i("Pgz3"),a=i("5J2v"),l=i("Ths4"),c=(i.n(l),i("tGq5")),d=i("Dkvd");i.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,n,o,r){var s=this;if(this._store=e,this._router=t,this._services=n,this.localStorageService=o,this._angularitics=r,this.isSpinner=!1,this.errorMsg="",this.title="maps",this.mapHeight="0px",this.lat=null,this.long=null,this.zoom=10,this.isDrag=!1,this.startOffsetHeight=0,this.isSelectDateDialog=!1,this.selectedDate=new Date((new Date).setHours(0,0,0,0)),this.selectdVehicle={},this.dateList=[],this.previousOffset=0,this.divHeight="50%",this.isFullScreen=!1,this.showFilterDialogue=!1,this.timeDurationUnit="Min",this.timeDuration=5,this.locationHislist=[],this.unSub_locationHistory=null,this.filterStatusList=[],this.filterDuration=0,this.startFilterTime=0,this.endFilterTime=0,this.polyLinePosList=[],this.polyLineStoppedArray=[],this.polyLineMovingArray=[],this.stoppedPolyLineArray=[],this.polyLineOverspeedArray=[],this.decodedPolyline=[],this.chkStopped=!0,this.chkOverspeed=!0,this.chkMoving=!0,this.chkDisconnected=!0,this.isfooterDateBar=!1,this.unSub_selectedVehicle=null,this.unSub_getTimeline=null,this.view="",this.view=document.view,"/vtsdashboard/locationHistory"==this._router.url&&"web"==this.view)return void this._store.dispatch(i.i(a.c)(["vtsdashboard/vehicleDashboard"]));this._store.dispatch({type:"TITLE",payload:"Location History"}),this._map=new Promise(function(e){s._mapResolver=e});var l=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()).getTime();console.log(l);for(var c=0;c<30;c++)this.dateList[c]=new Date(l),l-=864e5;if("web"!=this.view){var d=this.localStorageService.get("SELECTED-LOCATION-HIS-VEHICLE");console.log(d),void 0==d&&null==d||(this.selectdVehicle=d,this.lat=this.selectdVehicle.latitude,this.long=this.selectdVehicle.longitude,"web"!=this.view&&(console.log("only mobile"),this.getLocationHistory(this.selectedDate)))}"web"==this.view&&(this.unSub_getTimeline=e.select("getTimeline").subscribe(function(e){if(null!=e){var t=s.localStorageService.get("SELECTED-LOCATION-HIS-VEHICLE");console.log(t),void 0==t&&null==t||(s.selectdVehicle=t,s.lat=s.selectdVehicle.latitude,s.long=s.selectdVehicle.longitude),console.log(s.selectdVehicle),s.getLocationHistory(s.selectedDate)}})),this.unSub_locationHistory=e.select("locationHistory").subscribe(function(e){if(s.isSpinner=!1,s.locationHislist=[],s.errorMsg="",console.log(e),null!=e){""==e.error?(s.locationHislist=e.data,console.log(s.locationHislist),s.setPolyLine(s.locationHislist)):s.errorMsg=e.errorMsg;for(var t=0,i=0;i<s.locationHislist.length;i++)"Stopped"==s.locationHislist[i].state&&(t=s.locationHislist[i].distance),s.locationHislist[i]._duration=s.msToTime(s.locationHislist[i].duration),"Moving"==s.locationHislist[i].state&&(s.locationHislist[i]._formattedDistance=s.locationHislist[i].distance+t,t=0)}})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_locationHistory&&null!=this.unSub_locationHistory&&void 0!=this.unSub_locationHistory&&this.unSub_locationHistory.unsubscribe(),void 0!==this.unSub_selectedVehicle&&null!=this.unSub_selectedVehicle&&void 0!=this.unSub_selectedVehicle&&this.unSub_selectedVehicle.unsubscribe(),void 0!==this.unSub_getTimeline&&null!=this.unSub_getTimeline&&void 0!=this.unSub_getTimeline&&this.unSub_getTimeline.unsubscribe()},e.prototype.ngAfterViewChecked=function(){screen.width<600?this.isfooterDateBar=!1:this.isfooterDateBar=!0},e.prototype.ngOnInit=function(){var e=document.getElementById("timeline_card").getBoundingClientRect();this.startOffsetHeight=e.top,this.previousOffset=e.top},e.prototype.fullScreen=function(){if(35!=document.getElementById("timeline_card").getBoundingClientRect().top){var e=document.getElementById("map").getBoundingClientRect();this.mapHeight=-e.height+"px",this.isFullScreen=!0}},e.prototype.hideScreen=function(){var e=document.getElementById("map").getBoundingClientRect();this.mapHeight=-e.height+"px",this.isFullScreen=!1},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.previousDate=function(){this.selectedDate=new Date(this.selectedDate.setHours(-24,0,0,0)),this._angularitics.eventTrack("Timeline_Backdate_Clicked",{category:"TimelineDate"}),this.getLocationHistory(this.selectedDate)},e.prototype.nextDate=function(){this.selectedDate=new Date(this.selectedDate.setHours(24,0,0,0)),this._angularitics.eventTrack("Timeline_Nextdate_Clicked",{category:"TimelineDate"}),this.getLocationHistory(this.selectedDate)},e.prototype.getLocationHistory=function(e){this.chkStopped=!0,this.chkOverspeed=!0,this.chkMoving=!0,this.chkDisconnected=!0,this.selectedDate=new Date(e.getTime()),this.isSpinner=!0,this.locationHislist=[],this.polyLineMovingArray=[],this.polyLineStoppedArray=[],this.stoppedPolyLineArray=[],this.errorMsg="";var t=this.selectedDate,i={startTime:t.getTime(),endTime:t.getTime()+864e5,vehicleId:this.selectdVehicle.uuid,minimumTime:3e5,type:["Overspeeding","Stopped","Moving","Disconnected"]};this._angularitics.eventTrack("Specific_Date_Selected",e),this._services.getLocationHistory.emit(i)},e.prototype.back=function(){this._store.dispatch(i.i(a.d)())},e.prototype.getFilteredLocationHistory=function(e){this.isSpinner=!0,this.locationHislist=[],this.errorMsg="";var t=(this.selectedDate,e);console.log(t),this._services.getFilterLocationHistory.emit(t)},e.prototype.goToMapLocation=function(e){if(console.log(e),"Stopped"==e.state){console.log(this.polyLineStoppedArray);for(var t=0;t<this.polyLineStoppedArray.length;t++)this.polyLineStoppedArray[t].isInfoWindowOpen=!1,e.endPosition.latitude==this.polyLineStoppedArray[t].lat&&e.endPosition.longitude==this.polyLineStoppedArray[t].long&&(console.log(t),this.lat=e.endPosition.latitude,this.long=e.endPosition.longitude,this.polyLineStoppedArray[t].isInfoWindowOpen=!0,this.zoom=12)}},e.prototype.setFilterValues=function(e,t,i,n){this.polyLineMovingArray=[],this.filterStatusList=[],1==this.chkStopped&&(this.filterStatusList.push(e.value),console.log(this.filterStatusList)),1==this.chkMoving&&(this.filterStatusList.push(t.value),console.log(this.filterStatusList)),1==this.chkOverspeed&&(this.filterStatusList.push(i.value),console.log(this.filterStatusList)),1==this.chkDisconnected&&(this.filterStatusList.push(n.value),console.log(this.filterStatusList)),this.showFilterDialogue=!1;var o={};new Date;if("Hrs"==this.timeDurationUnit){var r=void 0;r=60*this.timeDuration*60*1e3;var s=this.selectedDate;this.startFilterTime=s.getTime(),this.endFilterTime=s.getTime()+864e5,o={startTime:this.startFilterTime,endTime:this.endFilterTime,vehicleId:this.selectdVehicle.uuid,minimumTime:r,type:this.filterStatusList},console.log(o),this._angularitics.eventTrack("Timeline_Filter_Applied",o),this.getFilteredLocationHistory(o)}else if("Min"==this.timeDurationUnit){var r=void 0;r=60*this.timeDuration*1e3;var a=this.selectedDate;this.startFilterTime=a.getTime(),this.endFilterTime=a.getTime()+864e5,o={startTime:this.startFilterTime,endTime:this.endFilterTime,vehicleId:this.selectdVehicle.uuid,minimumTime:r,type:this.filterStatusList},console.log(o),this._angularitics.eventTrack("Timeline_Filter_Applied",o),this.getFilteredLocationHistory(o)}},e.prototype.setPolyLine=function(e){for(var t=[],i=[],n=[],o=[],r={},s={},a=0;a<this.locationHislist.length;a++)"Stopped"!=this.locationHislist[a].state&&0!=this.locationHislist[a].state||(s={lat:this.locationHislist[a].endPosition.latitude,long:this.locationHislist[a].endPosition.longitude,address:null!=this.locationHislist[a].endPosition.address?this.locationHislist[a].endPosition.address:this.locationHislist[a].startPosition.address,isInfoWindowOpen:!1},o=MyPolylineUtil.decode(this.locationHislist[a].encodedPolyline),this.stoppedPolyLineArray.push(o),t.push(s)),"Moving"!=this.locationHislist[a].state&&1!=this.locationHislist[a].state||(n=MyPolylineUtil.decode(this.locationHislist[a].encodedPolyline),this.polyLineMovingArray.push(n)),"Overspeeding"!=this.locationHislist[a].state&&2!=this.locationHislist[a].state||(r={lat:this.locationHislist[a].startPosition.latitude,long:this.locationHislist[a].startPosition.longitude},i.push(r),s={lat:this.locationHislist[a].endPosition.latitude,long:this.locationHislist[a].endPosition.longitude},i.push(s)),this.lat=this.locationHislist[a].endPosition.latitude,this.long=this.locationHislist[a].endPosition.longitude,this.polyLineStoppedArray=t,this.polyLineOverspeedArray=i;console.log(r),console.log(r),console.log("posArray"),console.log(this.polyLinePosList),console.log(this.stoppedPolyLineArray)},e.prototype.setValues=function(e){console.log(e)},e.prototype.getNativeMap=function(){return this._map},e}();p([i.i(n.ViewChild)(c.c),u("design:type",Object)],h.prototype,"agmMap",void 0),h=p([i.i(n.Component)({selector:"app-location-history",template:i("o4y2"),styles:[i("1QbM")]}),u("design:paramtypes",["function"==typeof(g=void 0!==r.b&&r.b)&&g||Object,"function"==typeof(f=void 0!==o.b&&o.b)&&f||Object,"function"==typeof(v=void 0!==s.a&&s.a)&&v||Object,"function"==typeof(m=void 0!==l.LocalStorageService&&l.LocalStorageService)&&m||Object,"function"==typeof(y=void 0!==d.a&&d.a)&&y||Object])],h);var g,f,v,m,y},Fg9i:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".main{min-width:200px;max-width:300px;margin:50px auto;padding:8px}button:hover{opacity:.7}.imgcontainer{text-align:center;margin:24px 0 20px}button{color:#fff;background-color:#1e88e5}.label-quote{width:100%;text-align:center;margin-top:40px;margin-bottom:30px;color:#5f9ea0}.resend-otp-button{width:30px;height:30px;line-height:30px;padding:0;min-width:0;font-size:18px;border-radius:15px;box-shadow:1px 2px 9px #2f4f4f;color:#46465f;background-color:#f5f5f5}",""]),e.exports=e.exports.toString()},"GU/i":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".main{min-width:200px;max-width:300px;margin:50px auto;padding:8px}button:hover{opacity:.7}.imgcontainer{text-align:center;margin:24px 0 20px}button{color:#fff;background-color:#1e88e5}.label-quote{width:100%;text-align:center;margin-top:40px;margin-bottom:30px;color:#5f9ea0}.validate-button{height:20px;line-height:0;padding:5px;min-width:0;font-size:12px;margin-top:12px;margin-left:5px}.language{margin-right:1px}.language>>>.mat-select-trigger{min-width:68px!important;font-size:13px;height:28px}.my-select{margin-top:11px;margin-right:5px}.my-select>>>.mat-select-trigger{min-width:68px!important;font-size:13px;height:28px}",""]),e.exports=e.exports.toString()},GUqY:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={"(Enter your Mobile number)":"（輸入你的手機號碼）",Help:"幫幫我","Mobile Number":"手機號碼","Enter OTP":"輸入OTP","(Enter OTP Below)":"（在下面輸入OTP）",Login:"登錄","This field is required":"這是必填欄","send OTP":"發送OTP","Resend OTP":"重新發送OTP","Click here to Login":"點擊此處登錄",Dashboard:"儀表板",Statistics:"統計","Location History":"位置記錄",Reports:"報告","Vehicle Running":"車輛行駛","Vehicle Overspeed":"車速超車","Vehicle Stop":"車停","Vehicle Night Drive":"車夜驅動",Alerts:"警報",Settings:"設置",LOGOUT:"登出","All vehicle":"所有車輛",Search:"搜索","search Here":"在這裡搜索",Status:"狀態",Disconnected:"斷開的",Overspeed:"超速",Stop:"停止",Moving:"移動",List:"名單"}},H8ZI:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+");i.n(r);i.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=c=function(){function e(){var e=this;return this.defaultHeaders=new o.c,this.actions=[],this.UIActions=new n.EventEmitter,this.UIActions.subscribe(function(t){e.addAction(t)}),c.instance=c.instance||this}return e.prototype.ngOnDestroy=function(){},e.prototype.addAction=function(e){this.actions.push(e)},e}();l=c=s([i.i(n.Injectable)(),a("design:paramtypes",[])],l);var c},IVKM:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"md-card{padding-top:0}.align-center{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.modal{position:fixed;z-index:6;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;top:20%}.close{color:#aaa;float:right;font-size:28px;font-weight:700}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}",""]),e.exports=e.exports.toString()},Iksp:function(e,t,i){"use strict";var n=i("Qbdm"),o=i("3j3K"),r=i("NVOs"),s=i("Fzro"),a=i("cXjt"),l=i("YWx4"),c=i("cikh"),d=i("WWmu"),p=i("fYnu"),u=i("rxKx"),h=(i.n(u),i("YaGr")),g=(i.n(h),i("KN8t")),f=i("RXVW"),v=i("TXDH"),m=(i.n(v),i("tGq5")),y=i("yvhv"),x=i("VZ/w"),b=i("+rVk"),T=i("nJr4"),S=i("lhiL"),w=i("7T94"),D=i("j/qF"),_=i("pqfg"),L=i("uvar"),k=i("Ths4"),O=(i.n(k),i("5J2v")),E=i("H8ZI"),A=i("zD8p"),R=i("UIho"),P=i("Pgz3"),I=i("DLpR"),N=i("XRrY"),j=i("5fbh"),F=i("CLxc"),M=(i.n(F),i("CQG7")),C=i("uDr9"),V=i("gQKN"),z=i("8/GY"),H=i("ci1K"),U=i("6Zjg"),G=i("2MOS"),B=i("thxL"),W=i("9RF9"),q=i("9SVR"),J=i("SAxG"),K=i("jAYb"),Y=i("DwWQ"),X=i("FEPL"),Z=i("nwE+"),Q=i("T8MQ"),$=i("BTfJ"),ee=i("4j/9"),te=i("W8x/"),ie=i("aJch"),ne=i("CihD"),oe=i("0Xiv"),re=i("wp1f"),se=i("ZAU6"),ae=i("qdP6"),le=i("qazM"),ce=i("skfI"),de=i("2iJx"),pe=i("2HuV"),ue=i("yMY0"),he=i("04PH"),ge=i("YevT"),fe=i("+Y5r"),ve=i("OCFR"),me=i("yJmJ"),ye=i("1U27"),xe=i("arFf"),be=i("pjGp"),Te=i("yFKR"),Se=i("+FUQ"),we=i("96eg"),De=i("BTQI"),_e=i("Cl9l"),Le=i("FbGK"),ke=i("JYKk"),Oe=i("tgTv"),Ee=i("MbBB"),Ae=i("ZKqX"),Re=i("kZql"),Pe=i("JYah"),Ie=i("AIFD"),Ne=i("DOYL"),je=i("43U1"),Fe=i("RC3W"),Me=i("tMY/"),Ce=i("WjdW"),Ve=i("7gsn"),ze=i("VgH2"),He=i("DSOR"),Ue=i("3h9r"),Ge=i("gGQI"),Be=i("Dz9J"),We=i("LiTF"),qe=i("v7U5"),Je=i("qas2"),Ke=i("j7LN"),Ye=i("1ZaY"),Xe=i("eWfs"),Ze=i("hIQm"),Qe=i("Xvbe"),$e=i("uCrX"),et=i("/hOk");i.d(t,"a",function(){return it});var tt=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},it=function(){function e(){}return e}();it=tt([i.i(o.NgModule)({declarations:[l.a,c.a,L.a,S.a,f.a,De.a,y.a,b.a,T.a,_e.a,me.a,w.a,D.a,_.a,Le.a,A.a,R.a,R.b,R.c,R.d,R.e,V.a,z.a,U.a,ye.a,W.a,q.a,Y.a,X.a,Z.a,xe.a,Z.a,$.a,ee.a,te.a,be.a,ie.a,ae.a,le.a,de.a,pe.a,he.a,Te.a,Se.a,we.a,ke.a,fe.a,ge.a,Qe.a,$e.a,Ie.a,je.a,Fe.a,Me.a,Ce.a,Ve.a,ze.a,He.a,Ue.a,Ge.a,Be.a,We.a,qe.a,Je.a,Xe.a,et.a],imports:[k.LocalStorageModule.withConfig({prefix:"my-app",storageType:"localStorage"}),n.a,r.FormsModule,s.a,x.a,s.b,d.a.provideStore(Q.a),O.a.connectRouter(),g.a,m.a.forRoot({apiKey:"AIzaSyBCRowVqghQTO8iJDgOc4QY-GlFwsn85_I",libraries:["places"]}),v.ChartsModule,a.a,p.a,p.b,p.c,p.d,p.e,p.f,p.g,p.h,p.i,F.DateTimePickerModule,p.j,p.k,r.ReactiveFormsModule,p.l,p.m,p.n,p.o,p.p,p.q,J.a,p.r,p.s,ce.MyDateRangePickerModule,p.t,p.u,p.g,Ae.a],providers:[p.v,r.NgModel,M.a,C.a,d.a,p.w,g.a,p.x,p.y,p.z,E.a,P.a,I.a,B.a,N.a,j.a,H.a,G.a,K.a,m.b,ne.a,re.a,oe.a,se.a,ue.a,Ee.a,ve.a,Oe.a,Pe.a,Ne.a,Ke.a,Ye.a,Ze.a],bootstrap:[l.a]})],it),Ae.a.loadProvidersScripts(Re.a)},J9Wk:function(e,t,i){e.exports=i.p+"background-profile.82e0e4644bf995625d93.png"},JYKk:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("Dkvd");i.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){var i=this;this._store=e,this._angularitics=t,this.vehicleCount={all:0,stopped:0,disconnected:0,moving:0},this.isSpinner=!0,this.errorMsg="",this.search="",this.isSearch=!1,this.vehicleList=[],this.status="",this.unSub_vehicleList=null,this.unSub_vehicleList=e.select("vehicleListRes").subscribe(function(e){if(i.errorMsg="",null!=e){if(""==e.error){console.log(e),i.vehicleCount={all:0,stopped:0,disconnected:0,moving:0},i.vehicleList=e.data,i.vehicleCount.all=i.vehicleList.length;for(var t=0;t<i.vehicleList.length;t++)i.vehicleList[t]._duration=i.msToTime(i.vehicleList[t].duration),"Stopped"==i.vehicleList[t].state&&(i.vehicleCount.stopped=i.vehicleCount.stopped+1),"Disconnected"==i.vehicleList[t].state&&(i.vehicleCount.disconnected=i.vehicleCount.disconnected+1),"Moving"==i.vehicleList[t].state&&(i.vehicleCount.moving=i.vehicleCount.moving+1);console.log(i.vehicleList),0==i.vehicleList.length&&(i.errorMsg="No records found.")}else i.errorMsg=e.errorMsg;i.isSpinner=!1}})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&(console.log("unsusVehicle list"),this.unSub_vehicleList.unsubscribe())},e.prototype.ngOnInit=function(){},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.filterVehicleStatus=function(){console.log("desired vehicle status"),console.log(this.status),this._angularitics.eventTrack("VehicleList_Fliter_Mobile",this.status),this._store.dispatch({type:"SELECTED_VEHICLE_FILTER_STATUS",payload:this.status})},e.prototype.gotoMapView=function(){this._angularitics.eventTrack("MapsView_Clicked",{category:"DashboardMaps"}),this._store.dispatch(i.i(r.c)(["/vtsdashboard/mapsComponents"]))},e.prototype.goToAlertsNotification=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/alertsNotification"]))},e.prototype.searchVehicle=function(){console.log("search Term:"),console.log(this.search),this._store.dispatch({type:"VEHICLELIST_SEARCH_FILTER",payload:this.search})},e}();c=a([i.i(n.Component)({selector:"app-vehicle-dashboard-mobile",template:i("Awh2"),styles:[i("ZMaF")]}),l("design:paramtypes",["function"==typeof(d=void 0!==o.b&&o.b)&&d||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object])],c);var d,p},JYah:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4");i.n(a);i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.token="",this.getUserInfo=new n.EventEmitter,this.defaultHeaders.append("Access-Control-Allow-Origin","*"),this.defaultHeaders.append("Access-Control-Allow-Methods","GET,POST, OPTIONS, PUT, PATCH, DELETE"),this.getUserInfo.subscribe(function(e){e.isUserExist=!1,r._store.dispatch({type:"USER_INFO",payload:{error:"",customer:e}})})}return e.prototype.ngOnDestroy=function(){},e.prototype.checkTokenAuthorization=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n="Bearer "+t;i.set("authorization",n);var r=new o.d({method:o.e.Get,headers:i});return this.http.request(e,r).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e}();d=l([i.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(p=void 0!==o.f&&o.f)&&p||Object,"function"==typeof(u=void 0!==s.b&&s.b)&&u||Object,"function"==typeof(h=void 0!==a.LocalStorageService&&a.LocalStorageService)&&h||Object])],d);var p,u,h},Jt72:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=s),t.type){case r.b.UPDATE_LOCATION:return a.addAction(t),t.payload;case r.b.GO:case r.b.REPLACE:case r.b.SEARCH:case r.b.SHOW:case r.b.BACK:case r.b.FORWARD:case"@ngrx/store/init":return a.addAction(t),e;default:return e}}var o=i("H8ZI"),r=i("5J2v");t.a=n;var s={path:""},a=new o.a},JvEB:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"CONFIGURED_ALERTS_LIST":return h.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"SELECTED_INSIDE_LOCATION":return h.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"SELECTED_PROXIMITY_LOCATION":return h.addAction(t),t.payload;default:return e}}function s(e,t){switch(void 0===e&&(e=null),t.type){case"CREATED_POWER_DISCONNECT_ALERT":return h.addAction(t),t.payload;default:return e}}function a(e,t){switch(void 0===e&&(e=null),t.type){case"SAVE_DETAILS_CONFIG_ALERT":return h.addAction(t),t.payload;default:return e}}function l(e,t){switch(void 0===e&&(e=null),t.type){case"ALERT_CREATED_SERVICE_RESPONSE":return h.addAction(t),t.payload;default:return e}}function c(e,t){switch(void 0===e&&(e=null),t.type){case"ALERT_DELETE_SERVICE_RESPONSE":return h.addAction(t),t.payload;default:return e}}function d(e,t){switch(void 0===e&&(e=null),t.type){case"SELECTED_ALERT_FOR_EDIT":return h.addAction(t),t.payload;default:return e}}function p(e,t){switch(void 0===e&&(e=null),t.type){case"ALL_ALERTS_NOTIFICATION":return h.addAction(t),t.payload;default:return e}}var u=i("H8ZI");t.b=n,t.d=o,t.e=r,t.c=s,t.a=a,t.f=l,t.g=c,t.h=d,t.i=p;var h=new u.a},KPnt:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".align-center{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.modal{position:fixed;z-index:6;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;top:20%}.close{color:#aaa;float:right;font-size:28px;font-weight:700}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}",""]),e.exports=e.exports.toString()},LiTF:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("1ZaY"),a=i("Ths4");i.n(a);i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i){var n=this;this._store=e,this.vehicleGrpMgmntService=t,this.localStorageService=i,this.isShowAddNewGroup=!1,this.iscreateErrMsg=!1,this.view="",this.groupName="",this.orgId="",this.groupId="",this.vehicleNumber="",this.editVehicleList=[],this.vehicleGroupList=[],this.vehicles=[],this.vehiclesToAddInGroup=[],this.unSub_VehicleGroupList=null,this.unSub_PickedVehicles=null,this.unSub_createGroupResponse=null,this.unSub_addVehicleInGroupResponse=null,this.unSub_customerDetails=null,this.view=document.view,this.unSub_customerDetails=e.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&(n.orgId=e.customer.orgId,n.vehicleGrpMgmntService.getAllVehicleGroupsList.emit(n.orgId))}),this.unSub_PickedVehicles=e.select("PickedVehicles").subscribe(function(e){console.log(e),n.vehicleList=e,n.vehicles=[];for(var t=0;t<n.vehicleList.length;t++)n.vehicles.push(n.vehicleList[t].uuid),n.vehiclesToAddInGroup.push(n.vehicleList[t].uuid);console.log(n.vehicles)}),this.unSub_VehicleGroupList=e.select("getAllVehiclesGroupList").subscribe(function(e){null!=e&&(console.log("all vehicle group list in component"),console.log(e),200==e.status&&(n.vehicleGroupList=e.list))}),this.unSub_createGroupResponse=e.select("createGroupResponse").subscribe(function(e){null!=e&&(console.log("create group response :"),console.log(e),n.groupId=e.organisationGroup.uuid,console.log(n.groupId),n.addVehiclesToGroup(n.groupId))}),this.unSub_addVehicleInGroupResponse=e.select("addVehiclesInGroup").subscribe(function(e){null!=e&&(console.log("add vehicles in group response :"),console.log(e),n.vehicleGrpMgmntService.getAllVehicleGroupsList.emit(n.orgId))})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_VehicleGroupList&&null!=this.unSub_VehicleGroupList&&void 0!=this.unSub_VehicleGroupList&&this.unSub_VehicleGroupList.unsubscribe(),void 0!==this.unSub_PickedVehicles&&null!=this.unSub_PickedVehicles&&void 0!=this.unSub_PickedVehicles&&this.unSub_PickedVehicles.unsubscribe(),void 0!==this.unSub_createGroupResponse&&null!=this.unSub_createGroupResponse&&void 0!=this.unSub_createGroupResponse&&this.unSub_createGroupResponse.unsubscribe(),void 0!==this.unSub_addVehicleInGroupResponse&&null!=this.unSub_createGroupResponse&&void 0!=this.unSub_createGroupResponse&&this.unSub_addVehicleInGroupResponse.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.goToGroupedVehiclesList=function(e){this._store.dispatch({type:"SELECTED_VEH_GROUP_FOR_EDIT",payload:e}),this._store.dispatch(i.i(r.c)(["/vtsdashboard/groupedVehiclesList"]))},e.prototype.showAddNewGroup=function(){this.isShowAddNewGroup=!0},e.prototype.createNewGroup=function(){if(""!=this.groupName&&this.vehicles.length>0){this.iscreateErrMsg=!1,this.isShowAddNewGroup=!1;var e={orgId:this.orgId,groupName:this.groupName,groupType:"vehicleGroup"};this.vehicleGrpMgmntService.createNewGroup.emit(e)}this.iscreateErrMsg=!0},e.prototype.addVehiclesToGroup=function(e){console.log("add event emmitter to add vehicles to group");var t={groupId:e,vehicleList:this.vehiclesToAddInGroup};console.log(t),this.vehicleGrpMgmntService.addVehiclesToGroup.emit(t)},e}();d=l([i.i(n.Component)({selector:"app-manage-vehicle-group",template:i("yypu"),styles:[i("TMFf")]}),c("design:paramtypes",["function"==typeof(p=void 0!==o.b&&o.b)&&p||Object,"function"==typeof(u=void 0!==s.a&&s.a)&&u||Object,"function"==typeof(h=void 0!==a.LocalStorageService&&a.LocalStorageService)&&h||Object])],d);var p,u,h},LkIL:function(e,t){e.exports='<div class="back-header" >\n    <span  (click)="back()" style="margin-top: 9px;margin-left: 10px" >\n      <i class="fa fa-arrow-left" aria-hidden="true" (click)="back()"></i>\n    </span>\n\n  <div style="margin-top: 9px;width: 90%;text-align: center;">\n      \x3c!--<span style="font-size: 19px;">{{currentVehicle.selectedVehicle}}</span>--\x3e\n  </div>\n</div>\n\x3c!-- body start here  --\x3e\n<div *ngIf="currentVehicle.vehicleState == \'wait for load\'"  style="padding: 8px;overflow:auto;height: calc(100vh - 62px);margin-top: 11px" class="slow-down">\n  <div style="width: 100%;text-align: center;margin-top:5px" >\n    <label style="font-size:20px;background-color: black;padding: 8px;color:white;">(Wait for load)</label>\n  </div>\n\n\n  <div style="margin-top: 15px;text-align:center;min-height: 38px;" (click)="isMoretext = true">\n    <div [style.white-space]="isMoretext?\'\':\'nowrap\'" style="overflow: hidden;text-overflow: ellipsis;margin-left: 17px;margin-right: 34px">\n      <label style="font-size: 14px;color: #757575;">(huda city center sec 44 , haryana india pin 2514251)</label>\n    </div>\n  </div>\n\n  <div style="padding-top: 10px;text-align:right;">\n    <span style="font-size: 12px;color:#121212">(waiting since 16 hrs)</span>\n  </div>\n  <hr class="my-hr">\n\n  <div style="display: inline-flex;padding: 8px 4px">\n    <span style="display:inline-block;min-width:100px;    margin-top: 6px;">{{\'Preferred Source\' | translate}} :</span>\n    <section style="text-align: center;padding: 0px 5px;">\n      <span style="display: inline-block;border-radius: 30px;font-size: 13px;color:#454545;padding: 5px 6px 5px 16px;background-color: rgba(209, 209, 209, 0.71)">(panipath) <i class="fa fa-times" style="background-color:darkgrey;padding: 3px 5px;border-radius: 50%;margin-left: 10px" aria-hidden="true"></i></span>\n    </section>\n  </div>\n  <hr class="my-hr">\n\n\n  <div style="padding-top: 14px;min-height: 100px;text-align:center;" >\n    \x3c!--<span style="display: inline-table;min-width: 100px;">Destination :</span>--\x3e\n    <span style="font-size: 13px;color:#808080;">(No Trip assign )</span>\n  </div>\n\n  <div style="margin-top: 25px;margin-bottom: 10px">\n    <hr class="my-hr">\n    \x3c!--  ***********  md- menu *****************  --\x3e\n    <div style="margin-top: 8px;padding: 6px 6px 0px 6px;text-align: right;">\n      <span  [mdMenuTriggerFor]="menu" style="padding:7px;">\n        <i class="fa fa-ellipsis-v" aria-hidden="true"></i>\n      </span>\n      <md-menu #menu="mdMenu" style="padding: 0px">\n        <md-toolbar  style="margin-top: -8px;margin-bottom:-8px;font-size: 15px">Report Impediment</md-toolbar>\n      </md-menu>\n    </div>\n    \x3c!-- ************** --\x3e\n\n    <div style="padding: 0px 6px 6px 6px" >\n      <span style=" font-size: 14px;" >\n        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> No Impediment</span>\n    </div>\n    <div style="margin-top: 10px;padding: 6px">\n      <span style=" font-size: 14px;" >\n        <i class="fa fa-bell" aria-hidden="true"></i> Vehicle Disconnected more than 2 hr</span>\n    </div>\n    <hr class="my-hr">\n  </div>\n  <div style="width: 100%;text-align: center;margin-top: 15px">\n    <button md-raised-button (click)="goToVehicleActivityView(\'wait for load\')">{{\'View Vehicle Activity\'  | translate }}</button>\n  </div>\n  <div style="height: 50px"></div>\n\n</div>\n\n\x3c!--     ***********************************************************************************************   --\x3e\n<div *ngIf="currentVehicle.vehicleState == \'At destination point\'" style="padding: 8px;overflow:auto;height: calc(100vh - 62px);margin-top: 11px" class="slow-down">\n  <div style="width: 100%;text-align: center;margin-top:5px" >\n    <label style="font-size:20px;background-color:black;padding:8px;color:white;" >(Enroute to pickup)</label>\n  </div>\n\n  <div style="margin-top: 20px;font-size: 14px;">\n    <ul style="margin-left:-23px;display: flex"><li>ETA to pickup point</li>\n      <span style="margin-left: auto">(25min ,6km)</span></ul>\n  </div>\n  <div style="padding-top: 10px;">\n    <span style="display: inline-block;min-width: 100px;">Trip No :</span><span style="font-size: 13px;color:#808080;" >(DDVS-22)</span>\n  </div>\n  <div style="padding-top: 14px;">\n    <span style="display: inline-block;min-width: 100px;">Origin :</span><span style="font-size: 13px;color:#808080;">(huda city center haryana)</span>\n  </div>\n  <div style="padding-top: 14px;display: flex;" >\n    <span style="display: inline-table;min-width: 100px;">Destination :</span>\n    <span style="font-size: 13px;color:#808080;">(delhi sec 25 , rajpath marg 22 east delhi , state delhi  pin -122006)</span>\n  </div>\n  <div style="padding-top: 14px;">\n    <span style="display: inline-block;min-width: 100px;">Start Date :</span>\n    <span style="font-size: 13px;color:#808080;">(22 july 2017 , 3:00 PM)</span>\n  </div>\n  <div style="padding-top: 14px;">\n    <span style="display: inline-block;min-width: 100px;">Transit days :</span>\n    <span style="font-size: 13px;color:#808080;">(6 days)</span>\n  </div>\n  <div style="padding-top: 14px;">\n    <span style="display: inline-block;min-width: 100px;">Trip ETA :</span>\n    <span style="font-size: 13px;color:#808080;">(560 km, 3 days)</span>\n  </div>\n\n  <div style="margin-top: 25px;margin-bottom: 10px">\n    <hr class="my-hr">\n    <div style="margin-top: 8px">\n      <span><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Loading Point Impediment</span>\n    </div>\n    <div style="margin-top: 15px">\n      <span><i class="fa fa-bell" aria-hidden="true"> </i> Route Deviation Alarm</span>\n    </div>\n    <hr class="my-hr">\n  </div>\n  <div style="width: 100%;text-align: center;margin-top: 15px">\n    <button md-raised-button >Report Impediment</button>\n    <button md-raised-button (click)="goToVehicleActivityView(\'At destination point\')">{{\'Vehicle Activity\'  | translate }}</button>\n  </div>\n  <div style="height: 50px"></div>\n</div>\n\n'},MOVZ:function(e,t){function i(e){throw new Error("Cannot find module '"+e+"'.")}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="MOVZ"},MbBB:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("kZql");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){var i=this;this.http=e,this._store=t,this.defaultHeaders=new o.c,this.token="",this.res=null,this.isEnableETA=a.c.IS_ENABLE_ETA,this.getEtaDistance=new n.EventEmitter,this.getEtaDistanceList=new n.EventEmitter,this.getEtaDistance.subscribe(function(e){if(0==i.isEnableETA)return void t.dispatch({type:"ETA_DISTANCE",payload:null});console.log(e);var n=a.b.ETA_PATH+"origins="+e.oLat+","+e.oLng+"&destinations="+e.dLat+","+e.dLng+"&key=AIzaSyAiKyto-33wx4RvJw7kplHqSdyacUseGZw";i.etaDistanceCalaculater(n).subscribe(function(e){t.dispatch({type:"ETA_DISTANCE",payload:{value:e.rows[0].elements}})},function(e){console.log(e)})}),this.getEtaDistanceList.subscribe(function(e){if(0==i.isEnableETA)return console.log(i.isEnableETA+"    **************** test mode ***********"),void t.dispatch({type:"ETA_DISTANCE_LIST",payload:null});console.log("*************"),console.log(i.isEnableETA+"     prod mode *************");for(var n=function(n){if(null!=e[n].oLat&&null!=e[n].oLng){var o=a.b.ETA_PATH+"origins="+e[n].oLat+","+e[n].oLng+"&destinations="+e[n].dLat+","+e[n].dLng+"&key=AIzaSyAiKyto-33wx4RvJw7kplHqSdyacUseGZw";i.etaDistanceCalaculater(o).subscribe(function(i){t.dispatch({type:"ETA_DISTANCE_LIST",payload:{index:e[n].index,value:i.rows[0].elements}})},function(e){console.log(e)})}},o=0;o<e.length;o++)n(o)})}return e.prototype.ngOnDestroy=function(){},e.prototype.etaDistanceCalaculater=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){if(200==e.status)return e.json()})},e}();d=l([i.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(p=void 0!==o.f&&o.f)&&p||Object,"function"==typeof(u=void 0!==s.b&&s.b)&&u||Object])],d);var p,u},MrJo:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"div,md-card{font-family:Gotham-Rounded-Medium,Sans-Serif!important}md-card{margin-top:10px;padding:5px;color:#252525;font-size:13px}button{color:#fff;background-color:#1e88e5;padding:0;min-width:0}.vehicle-list{list-style:none;margin-top:-3px;padding-left:10px;margin-bottom:5px;display:block}.vehicle-list li{border-radius:3px;padding:7px;background-color:beige;margin-bottom:7px;float:left;margin-right:10px}.remove-vehicle{padding:4px;line-height:12px;color:#6495ed;float:right;font-size:18px;margin-right:-14px;background-color:#fffacd;margin-top:-16px;border-radius:13px}.remove-vehicle:focus,.remove-vehicle:hover{color:#fff;text-decoration:none;cursor:pointer;background-color:#6495ed}.vehicle-hover:hover{background-color:beige}.select-vehicle{padding:10px;color:#fff;border-radius:21px;font-size:18px}\r\n  /*!*width: 36px;*!*/",""]),e.exports=e.exports.toString()},NBXt:function(e,t){e.exports="<app-vehicle-status  *ngIf=\"view !='web'\"></app-vehicle-status>\r\n\r\n<app-trip-status-desktop  *ngIf=\"view =='web'\" ></app-trip-status-desktop>\r\n\r\n"},NgvR:function(e,t){e.exports='<div style="padding: 8px;box-shadow: 0px 4px 17px darkgrey;">\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n\r\n\r\n  \x3c!--   *************  add new vehicle box **************** --\x3e\r\n  <div *ngIf="isShareVehicleDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isShareVehicleDialog=false;" >&times;</span>\r\n        <label>{{\'Share Vehicle\' | translate }}</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <form (ngSubmit)="shareVehicle()" #sharingForm="ngForm">\r\n        <div style="height: 250px;overflow: auto;padding-bottom: 3px;" >\r\n          <div fxLayout="column" style="padding: 15px">\r\n            \x3c!--<span style="padding-top: 11px;padding-right: 4px;">{{\'Date:\' | translate }}</span>--\x3e\r\n\r\n              <input required placeholder="{{\'Start Date\' | translate }}" [autoClose] = "false" style="min-width: 50px;height: 24px" [ngModel]="fromDate | date: \'dd/MM/yyyy,hh:mm a\'" [(dateTimePicker)]="fromDate" [pickerType]="\'both\'"\r\n                     [hourTime]="\'12\'" name="from" readonly />\r\n\r\n              <input required placeholder="{{\'End Date\' | translate }}" [autoClose] = "false" style="min-width: 50px;height: 24px;margin-top: 10px;" [ngModel]="toDate | date:\'dd/MM/yyyy,hh:mm a\'" [(dateTimePicker)]="toDate" [pickerType]="\'both\'"\r\n                     [hourTime]="\'12\'" name="to" readonly />\r\n\r\n\r\n              <md-input-container style="width: 100%;margin-top: 10px" >\r\n\r\n                <input  #emailValue type="email" email="true" mdTooltip="{{\'This field is required\' | translate }}"  mdInput [(ngModel)]="email"\r\n                       pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$"\r\n                        placeholder="{{\'Enter Email\' | translate }}"  name="receiver-email" required (blur)="makeChip(emailValue.value)">\r\n              </md-input-container>\r\n\r\n            <span style="background-color: deepskyblue;padding: 5px;border-radius: 30px;margin: 5px" *ngFor="let email of emailList">\r\n              <md-chip style="color: white;font-size: medium" >{{email}}</md-chip>\r\n            </span>\r\n\r\n\r\n              <md-select [(ngModel)]="accesssLevel"  name="accessLvl" style="margin-top: 10px">\r\n                <md-option value="DASHBOARD">Dashboard</md-option>\r\n                <md-option value="REPORTS">Reports</md-option>\r\n                <md-option value="TRIPS">Trip</md-option>\r\n              </md-select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="ok-div">\r\n          <button (click)="shareSelectedVehicles()" type="submit" class="ok-button" md-raised-button >{{\'OK\' | translate }}</button>\r\n        </div>\r\n       </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--Add new vehicle dialog ends here--\x3e\r\n\r\n\r\n  <div  style="width: 100%;">\r\n    <section >\r\n      <i class="fa fa-search" aria-hidden="true" style="right: 20px;position: absolute;margin-top: 10px;"></i>\r\n      <input class="search"  mdTooltip="{{\'search Here\' | translate }}"   placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" >\r\n    </section>\r\n  </div>\r\n  <hr style="border-style:ridge;border-width:1px;margin-top: 3px">\r\n\r\n  <div style="overflow: auto;padding-bottom: 5px;overflow: auto;height: calc(100vh - 116px);padding-top: 5px;">\r\n\r\n    <md-card *ngFor="let vehicle of vehicleList | locHisVehListfilter: [\'vehicleType\',\'vehicleRegistrationNumber\', search];"\r\n             (click)="vehicle.select = !vehicle.select;checkSelect();" [style.background-color]="(vehicle.select == true)?\'deepskyblue\':\'\'" style="margin-top: 2px;cursor: pointer;" class="vehicle-hover" >\r\n      <i  style="font-size: 22px;color: darkcyan;" class="fa fa-truck" aria-hidden="true"></i>\r\n      <span >{{vehicle.vehicleType}}</span>\r\n      <span  style="float: right;margin-top: 5px;">{{vehicle.vehicleRegistrationNumber}}</span>\r\n    </md-card>\r\n  </div>\r\n\r\n    <button  (click)="isShareVehicleDialog=true" md-fab style="position: absolute;right: 5px;bottom: 10px" [disabled]="isDisabled">\r\n      <i class="fa fa-share-alt" aria-hidden="true"></i>\r\n    </button>\r\n</div>\r\n\r\n\r\n'},O84T:function(e,t){e.exports='<div style="padding: 8px;box-shadow: 0px 4px 17px darkgrey;">\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\n  <div  style="width: 100%;">\n    <section >\n      <i class="fa fa-search" aria-hidden="true" style="right: 20px;position: absolute;margin-top: 10px;"></i>\n      <input class="search"  mdTooltip="{{\'search Here\' | translate }}"   placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" >\n    </section>\n  </div>\n  <hr style="border-style:ridge;border-width:1px;margin-top: 3px">\n\n  <div style="overflow: auto;padding-bottom: 5px;overflow: auto;height: calc(100vh - 105px);padding-top: 5px;">\n    <md-card (click)="goToLoactionHisView(vehicle)" *ngFor="let vehicle of vehicleList | locHisVehListfilter: [\'vehicleType\',\'vehicleRegistrationNumber\', search]" style="margin-top: 2px;cursor: pointer;" class="vehicle-hover" >\n      <i  style="font-size: 22px;color: darkcyan;" class="fa fa-truck" aria-hidden="true"></i>\n      <span >{{vehicle.vehicleType}}</span>\n      <span  style="float: right;margin-top: 5px;"> {{vehicle.vehicleRegistrationNumber}} </span>\n    </md-card>\n  </div>\n\n</div>\n\n\n'},OAw2:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={"(Enter your Mobile number)":"(Enter your Mobile number)",Help:"Help","Mobile Number":"Mobile Number","Enter OTP":"Enter OTP","(Enter OTP Below)":"(Enter OTP Below)",Login:"Login","This field is required":"This field is required","send OTP":"send OTP","Resend OTP":"Resend OTP","Click here to Login":"Click here to Login",Dashboard:"Dashboard",Statistics:"Statistics","Location History":"Location History",Reports:"Reports","Vehicle Running":"Vehicle Running","Vehicle Overspeed":"Vehicle Overspeed","Vehicle Stop":"Vehicle Stop","Vehicle Night Drive":"Vehicle Night Drive",Alerts:"Alerts",Settings:"Settings",LOGOUT:"LOGOUT","All vehicle":"All vehicle",Search:"Search","search Here":"search Here",Status:"Status",Disconnected:"Disconnected",Overspeed:"Overspeed",Stop:"Stop",Moving:"Moving",List:"List"}},OCFR:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.createPowerDisconnectAlert=new n.EventEmitter,this.editPowerDisconnectAlert=new n.EventEmitter,this.editStopAlert=new n.EventEmitter,this.editPeriodicAlert=new n.EventEmitter,this.createPeriodicAlert=new n.EventEmitter,this.createStopAlert=new n.EventEmitter,this.getAllAlertsList=new n.EventEmitter,this.deleteSelectedAlert=new n.EventEmitter,this.getAlertsNotification=new n.EventEmitter,this.token=this.localStorageService.get("AUTH_TOKEN"),this.createPowerDisconnectAlert.subscribe(function(e){var t=l.b.CONFIGURE_ALERTS_PATH+"/create";console.log(t),console.log(e),r.createAlert(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"ALERT_CREATED_SERVICE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.createPeriodicAlert.subscribe(function(e){var t=l.b.CONFIGURE_ALERTS_PATH+"/create";console.log(t),console.log(e),r.createAlert(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"ALERT_CREATED_SERVICE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.deleteSelectedAlert.subscribe(function(e){var t=l.b.CONFIGURE_ALERTS_PATH+"/delete";console.log(t),console.log(e),r.deleteAlert(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"ALERT_DELETE_SERVICE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.createStopAlert.subscribe(function(e){var t=l.b.CONFIGURE_ALERTS_PATH+"/create";console.log(t),console.log(e),r.createAlert(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"ALERT_CREATED_SERVICE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.editPowerDisconnectAlert.subscribe(function(e){var t=l.b.CONFIGURE_ALERTS_PATH+"/update";console.log(t),console.log(e),r.updateAlert(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"ALERT_CREATED_SERVICE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.editStopAlert.subscribe(function(e){var t=l.b.CONFIGURE_ALERTS_PATH+"/update";console.log(t),console.log(e),r.updateAlert(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"ALERT_CREATED_SERVICE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.editPeriodicAlert.subscribe(function(e){var t=l.b.CONFIGURE_ALERTS_PATH+"/update";console.log(t),console.log(e),r.updateAlert(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"ALERT_CREATED_SERVICE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.getAllAlertsList.subscribe(function(e){var t=l.b.CONFIGURE_ALERTS_PATH+"/all/organisation";console.log(t),r.getAllAlerts(t).subscribe(function(e){console.log(e),r._store.dispatch({type:"CONFIGURED_ALERTS_LIST",payload:e})},function(e){console.log(e)})}),this.getAlertsNotification.subscribe(function(){var e=l.b.CONFIGURE_ALERTS_PATH+"/incidents";console.log(e),r.getAllAlertNotification(e).subscribe(function(e){console.log(e),r._store.dispatch({type:"ALL_ALERTS_NOTIFICATION",payload:e})},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.createAlert=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.updateAlert=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.deleteAlert=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.getAllAlerts=function(e){var t=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;t.set("Content-Type","application/json"),t.set("authorization",i);var n=new o.d({method:o.e.Get,headers:t});return this.http.request(e,n).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.getAllAlertNotification=function(e){var t=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;t.set("Content-Type","application/json"),t.set("authorization",i);var n=new o.d({method:o.e.Get,headers:t});return this.http.request(e,n).map(function(e){if(console.log(e),200==e.status)return e.json()})},e}();p=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],p);var u,h,g},OsEQ:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"SCHEDULE_REPORT_LIST":return a.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"SCHEDULE_CREATED_ACK":return a.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"CHANGE_SCHEDULE_REPORT_STATE_ACK":return a.addAction(t),t.payload;default:return e}}var s=i("H8ZI");t.a=n,t.b=o,t.c=r;var a=new s.a},"PC5+":function(e,t){e.exports="<app-users-list></app-users-list>\r\n"},PIuO:function(e,t){e.exports='<div class="slow-down">\r\n  \x3c!-- <div> --\x3e\r\n    \x3c!-- <section class="my-map-search"> --\x3e\r\n      \x3c!-- <input id="pac-input" class="controls" type="text" placeholder="Search Box"> --\x3e\r\n      \x3c!-- <i class="fa fa-search" aria-hidden="true" style="right: 30px; margin-top: 7px;font-size: 15px; position: absolute"></i>\r\n      <input id="pac-input" type="text" class="search" mdTooltip="search Here" placeholder="\'Search\'">\r\n    </section> --\x3e\r\n\r\n    \x3c!-- ************************ map start here  ******************************************** --\x3e\r\n    <div style="display:flex">\r\n        <div>\r\n            <section class="my-map-search">\r\n                \x3c!-- <input id="pac-input" class="controls" type="text" placeholder="Search Box"> --\x3e\r\n                <i class="fa fa-search" aria-hidden="true" style="right: 20px; margin-top: 7px;font-size: 15px; position: absolute"></i>\r\n                <input id="pac-input" type="text" class="search" mdTooltip="search Here" placeholder="\'Search\'">\r\n              </section>\r\n          <section style="position:absolute;z-index:10; left:5px; margin-top :30px;">\r\n            <md-button-toggle-group class="my-toggle" #group="mdButtonToggleGroup" [(ngModel)]="mapType">\r\n              <md-button-toggle value="hybrid">\r\n                <span>\'Satellite\'</span>\r\n              </md-button-toggle>\r\n              <md-button-toggle value="roadmap" style="background-color:floralwhite;opacity: .6;">\r\n                <span>\'Map\'</span>\r\n              </md-button-toggle>\r\n            </md-button-toggle-group>\r\n          </section>\r\n\r\n          <agm-map [mapTypeId]="mapType" style="height: 38vh; width : 80vh" [latitude]="latitude" [longitude]="longitude" [zoom]="5">\r\n            <agm-marker [latitude]="latitude" [longitude]="longitude">\r\n            </agm-marker>\r\n          </agm-map>\r\n        </div>\r\n      </div>\r\n    \x3c!-- ************************ map end here  ******************************************** --\x3e\r\n    <div fxLayout="column">\r\n        <div fxFlex=50>\r\n          <md-input-container style="width:100%">\r\n              <input placeholder="Name" [(ngModel)]= "name" mdInput required>\r\n            </md-input-container>\r\n          </div>\r\n          <div fxFlex=50>\r\n            <md-input-container style="width:100%">\r\n                <input placeholder="Address" [disabled]="true" [(ngModel)]="address" mdInput required>\r\n              </md-input-container>\r\n            </div>\r\n      </div>\r\n      <div *ngIf="isSearched" >\r\n          <md-radio-group value="radioSelector" >\r\n            <div fxLayout="row">\r\n              <div *ngIf="toAddBoundary" fxFlex=40>\r\n                <md-radio-button [value]="bundary" (change)="onAddLocation()">Add Boundary</md-radio-button>\r\n              </div>\r\n\r\n              <div *ngIf = "toAddProximity" fxFlex=40>\r\n                <md-radio-button [value]="proximity" (change)=" onAddProximity()"> Add Proximity </md-radio-button>\r\n              </div>\r\n\r\n              <div fxFlex="20"></div>\r\n            </div>\r\n          </md-radio-group>\r\n        </div>\r\n    <div *ngIf = "isVisible" >\r\n        <md-input-container style="width: 100%;" >\r\n            <input placeholder="radius(in meters)" [(ngModel)]="radius" mdInput required (keyup)="onKeyEvent($event)">\r\n          </md-input-container>\r\n    </div>\r\n    <div style="float : left; margin-top: 0px" >\r\n        \x3c!-- <button md-raised-button  (click)="cancel()" style="margin-right: 15px">{{\'Cancel\' | translate}}</button> --\x3e\r\n        <button md-raised-button (click)="saveLocation()"  >{{\'Save\' | translate}}</button>\r\n    </div>\r\n    <div>\r\n  \x3c!-- </div> --\x3e\r\n'},Pgz3:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.token="",this.geocodePath=l.b.GEOCODE_PATH,this.key=l.c.KEY,this.unSub_token=null,this.getVehicleList=new n.EventEmitter,this.getLocationHistory=new n.EventEmitter,this.getFilterLocationHistory=new n.EventEmitter,this.shareVehicleListee=new n.EventEmitter,this.defaultHeaders.append("Access-Control-Allow-Origin","*"),this.defaultHeaders.append("Access-Control-Allow-Methods","GET,POST, OPTIONS, PUT, PATCH, DELETE"),this.getVehicleList.subscribe(function(e){var t=l.b.GET_VEHICLES_FOR_DASHBOARD;r.getList(t).subscribe(function(e){if(console.log(e),"X"==e.error)return void r._store.dispatch({type:"VEHICLE_LIST",payload:{error:"X",errorMsg:"problem while fetching data"}});r._store.dispatch({type:"VEHICLE_LIST",payload:{error:"",data:e}})},function(e){0==e.status?r._store.dispatch({type:"VEHICLE_LIST",payload:{error:"X",errorMsg:"No Internet Connection"}}):r._store.dispatch({type:"VEHICLE_LIST",payload:{error:"X",errorMsg:"error occur while fetching data"+e}}),console.log(e),console.log(e.json())})}),this.getLocationHistory.subscribe(function(e){console.log(e);var t=l.b.PATHv2+"/report/v2/timeline";r.getLocation(t,e).subscribe(function(e){if(console.log(e),"N"==e.error)return void r._store.dispatch({type:"LOCATION_HISTORY",payload:{error:"N",errorMsg:"No Record found"}});if("X"==e.error)return void r._store.dispatch({type:"LOCATION_HISTORY",payload:{error:"X",errorMsg:"Error while fetching recordes"}});var t=e;r._store.dispatch({type:"LOCATION_HISTORY",payload:{error:"",data:t}})},function(e){0==e.status?r._store.dispatch({type:"LOCATION_HISTORY",payload:{error:"X",errorMsg:""}}):r._store.dispatch({type:"LOCATION_HISTORY",payload:{error:"X",errorMsg:"error occur while fetching data"+e}}),console.log(e),console.log(e.json())})}),this.getFilterLocationHistory.subscribe(function(e){console.log(e);var t=l.b.PATHv2+"/report/v2/timeline";r.getLocation(t,e).subscribe(function(e){if(console.log(e),"N"==e.error)return void r._store.dispatch({type:"LOCATION_HISTORY",payload:{error:"N",errorMsg:"No Record found"}});if("X"==e.error)return void r._store.dispatch({type:"LOCATION_HISTORY",payload:{error:"X",errorMsg:"Error while fetching recordes"}});var t=e;r._store.dispatch({type:"LOCATION_HISTORY",payload:{error:"",data:t}})},function(e){r._store.dispatch({type:"LOCATION_HISTORY",payload:{error:"X",errorMsg:"error occur while fetching data"+e}}),console.log(e),console.log(e.json())})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getList=function(e){console.log(e);var t=new o.c(this.defaultHeaders.toJSON()),i=this.localStorageService.get("AUTH_TOKEN");console.log(i);var n="Bearer "+i;t.set("Content-Type","application/json"),t.set("authorization",n),console.log(t);var r=new o.d({method:o.e.Get,headers:t});return this.http.request(e,r).map(function(e){return console.log(e.status),console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e.prototype.getVehicleAddress=function(e){var t=new o.c,i=new o.d({method:o.e.Get,headers:t}),n=this.localStorageService.get("TOKEN"),r="Bearer "+n;return t.set("authorization",r),this.http.request(e,i).map(function(e){return e.json()})},e.prototype.getLocation=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n=this.localStorageService.get("TOKEN");console.log("token"),console.log(n);var r="Bearer "+n;i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,s).map(function(e){return 200==e.status?(console.log("response.json():"),console.log(e.json()),e.json()):204==e.status?{error:"N"}:{error:"X"}})},e.prototype.shareVehicleList=function(e){var t=this;console.log(e);var i=l.b.PATHv2+"/share";this.shareVehicle(i,e).subscribe(function(e){console.log(e);var i=e;t._store.dispatch({type:"SHARE_VEHICLE",payload:{error:"",data:i}})},function(e){0==e.status?t._store.dispatch({type:"SHARE_VEHICLE",payload:{error:"X",errorMsg:""}}):t._store.dispatch({type:"SHARE_VEHICLE",payload:{error:"X",errorMsg:"error occur while fetching data"+e}}),console.log(e),console.log(e.json())})},e.prototype.shareVehicle=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n=this.localStorageService.get("TOKEN");console.log("token"),console.log(n);var r="Bearer "+n;i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,s).map(function(e){if(200==e.status){console.log("response.json():"),console.log(e.json());return e.json()}return 204==e.status?{error:"N"}:{error:"X"}})},e}();p=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],p);var u,h,g},PnBJ:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},QLPV:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,'.top-header{background-color:#3f51b5;width:100%;padding-bottom:3px}md-card{padding:9px;min-width:250px}div{font-family:Helvetica!important}.confirm-location{padding:22px;min-height:100px;max-height:200px;overflow:auto;border:1px solid #d1d1d1;min-width:175px}.my-hr{border-style:ridge;border-width:1px;margin-top:6px;min-width:250px;margin-bottom:3px}.timeline-icon{top:50px}.timeline-icon,.timeline-image{position:absolute;left:71px}.wfl-imeline-image{position:absolute;left:50px;color:#428fd4}.EFP_icon{position:absolute;height:100%;margin-left:54px}.EFP_timeline_icon{position:absolute;background-color:#fff;left:48px;top:-6px;font-size:18px}.cd-timeline{position:relative}.cd-timeline:before{bottom:37px;content:"";position:absolute;border-radius:1px;left:85px;height:100%;width:1.4px;background:#9b9b9b}.wfl-timeline{position:relative}.wfl-timeline:before{content:"";position:absolute;border-radius:1px;left:55px;height:100%;width:3.4px;background:#428fd4}.DP-timeline{position:relative}.DP-timeline:before{top:-17px;content:"";position:absolute;border-radius:1px;left:85px;height:100%;width:3.4px;background:#428fd4}.DP_timeline-image{position:absolute;left:66px;color:#428fd4;font-size:25px;margin-top:10px}.unvisited-timeline{position:relative}.unvisited-timeline:before{content:"";position:absolute;border-radius:1px;left:85px;height:100%;border-left:1.4px dashed #9b9b9b}.EFP_unvisited-timeline{position:relative}.EFP_unvisited-timeline:before{top:15px;content:"";position:absolute;border-radius:1px;left:55px;height:100%;border-left:1.4px dashed #d0d0d0}.custom-button button{height:23px;font-size:11px;line-height:23px;border-radius:4px;min-width:5px}.timeline-header{text-align:center;display:-ms-grid;display:grid;margin:-8px -8px 2px;box-shadow:0 1px 1px #999;padding:10px;display:list-item}.show-down-Slowly{margin-top:8px!important;transition:margin-top .3s;-webkit-transition:margin-top .3s}.data-box{margin-left:8px;width:98%;font-size:11px;color:#9b9b9b}.hide-up-Slowly{transition:margin-top .3s;-webkit-transition:margin-top .3s}.vehicle-no{font-size:20px;color:hsla(0,0%,100%,.94);margin-left:10px}.vehicle-status{margin-top:10px;padding:4px;text-align:center;font-size:18px;background-color:#4a6ad8;color:#fff}.current-vehicle-card{background-color:#8398ba;color:#fff;padding-top:15px;padding-bottom:19px;margin-bottom:13px}.driver-name{margin-left:auto;font-size:15px;color:hsla(0,0%,100%,.87);padding:2px 8px}.driver-name-web{font-size:13px;padding:2px 8px}.phone-icon{margin-left:8px;color:#fff;font-size:16px}.alert-box{font-size:13px;line-height:1.67;color:rgba(0,0,0,.54)}.disconnected{margin-top:10px;background-color:#ff5252;border:1px solid #ff5252;color:#fff;font-size:18px;text-align:center;padding:3px;cursor:pointer}.time{color:#9b9b9b;text-align:center;display:-ms-grid;display:grid;font-size:11px;min-width:50px;max-width:60px;overflow:hidden}.rotate{-webkit-transform:rotate(90deg);transform:rotate(90deg);font-size:13px}.travling-time{position:absolute;margin-left:-133px;display:-ms-grid;display:grid;text-align:center;height:100%;min-width:50px;max-width:68px;margin-top:-15px}',""]),e.exports=e.exports.toString()},RC3W:function(e,t,i){"use strict";var n=i("3j3K"),o=i("0Xiv"),r=i("WWmu"),s=i("5J2v"),a=i("Ths4");i.n(a);i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i){var n=this;this._store=e,this.templateServices=t,this.localStorageService=i,this.view="",this.tripTemplateList=[],this.isNotemplatesAvailable=!1,this.unSub_templateList=null,this.unSub_refreshTemplateList=null,this.view=document.view,this.token=this.localStorageService.get("AUTH_TOKEN"),console.log(this.token),this.customerDetail(this.token),this._store.dispatch({type:"TITLE",payload:"Browse Trip Template"}),this.orgId=this.localStorageService.get("ORGID"),this.templateServices.tripTemplateStatus.emit(),setTimeout(function(){console.log("list refreshed after 1 sec"),n.templateServices.tripTemplateStatus.emit()},1e3),setTimeout(function(){console.log("list refreshed after 5 sec"),n.templateServices.tripTemplateStatus.emit()},5e3),this.unSub_refreshTemplateList=e.select("refreshTripTemplate").subscribe(function(e){console.log(e),null!=e&&"Reload Template List"==e&&n.templateServices.tripTemplateStatus.emit()}),this.unSub_templateList=this._store.select("tripTemplateList").subscribe(function(e){if(null!=e){var t=[];t=e.data,""==e.error&&200==t.status&&(n.tripTemplateList=t.list,console.log(n.tripTemplateList),0==n.tripTemplateList.length&&(n.isNotemplatesAvailable=!0))}})}return e.prototype.ngOnInit=function(){},e.prototype.customerDetail=function(e){var t={},i=e.split(".")[0],n=i.replace("-","+").replace("_","/");return t.userType=JSON.parse(window.atob(n)),i=e.split(".")[1],n=i.replace("-","+").replace("_","/"),t.details=JSON.parse(window.atob(n)),t.details.id=t.details.userId,this.orgId=t.details.orgId,this.localStorageService.set("ORGID",this.orgId),console.log(t),t},e.prototype.addTripTemplateView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/addTripTemplate"]))},e.prototype.goToTripTemplateEdit=function(e){console.log(e),this.localStorageService.set("TRIP-TEMPLATE-DETAIL-OBJ",e),this._store.dispatch(i.i(s.c)(["/vtsdashboard/editTripTemplate"]))},e.prototype.goToManageOrganisationView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/manageOrganisation"]))},e}();d=l([i.i(n.Component)({selector:"app-trip-template-status",template:i("h+uX"),styles:[i("/PM2")]}),c("design:paramtypes",["function"==typeof(p=void 0!==r.b&&r.b)&&p||Object,"function"==typeof(u=void 0!==o.a&&o.a)&&u||Object,"function"==typeof(h=void 0!==a.LocalStorageService&&a.LocalStorageService)&&h||Object])],d);var p,u,h},RXVW:function(e,t,i){"use strict";var n=i("3j3K");i.d(t,"a",function(){return r});var o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=function(){function e(){this.doughnutChartLabels=["Download Sales","In-Store Sales","Mail-Order Sales"],this.doughnutChartData=[9,5,1],this.doughnutChartType="doughnut"}return e.prototype.chartClicked=function(e){console.log(e)},e.prototype.chartHovered=function(e){console.log(e)},e}();r=o([i.i(n.Component)({selector:"donught-chart",template:i("Zfls")})],r)},RnhH:function(e,t){e.exports='<div style="height: calc( 100vh - 50px ); overflow-y: scroll" >\r\n<div   *ngFor="let alNotification of allNotificationList">\r\n<md-card >\r\n  <div fxLayout ="row">\r\n    <div fxFlex="100">\r\n      <span *ngIf="alNotification?.eventTopic == \'hourMovTopic\'"  style="padding: 2px 11px;background-color:blue;color: white;font-size: small;text-align: center;border-radius: 15px" >Periodic Alert Notification</span>\r\n      <span *ngIf="alNotification?.eventTopic == \'vehiclegpsstatetopic\'" style="padding: 2px 11px;background-color:darkorange;color: white;font-size: small;text-align: center;border-radius: 15px">Stop Alert Notification</span>\r\n      <span *ngIf="alNotification?.eventTopic == \'deviceEvent\'"  style="padding: 2px 11px;background-color:red;color: white;font-size: small;text-align: center;border-radius: 15px" >Power Disconnect Notification</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div fxLayout ="row" *ngFor="let notifs of alNotification?.actions">\r\n    <div fxFlex="100">\r\n      <span>{{notifs[\'value\']}}</span>\r\n    </div>\r\n\r\n  </div>\r\n</md-card>\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n'},SNbz:function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100;background-color: white;" class="slow-down">\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n\r\n  <div *ngIf="view !=\'web\'" class="top-header" id="top-head" >\r\n    <div fxLayout="row" style="padding-left:8px;padding-bottom:9px;padding-top:5px">\r\n      <span class="vehicle-no"  >{{vehicleNo}}</span>\r\n      <label class="driver-name">{{vehicleTripDetails[\'currentTrip\']?.driverName}}\r\n                <a href="tel:{{vehicleTripDetails[\'currentTrip\']?.driverMobNumber}}" ><i  class="fa fa-phone phone-icon" aria-hidden="true"></i></a>\r\n     </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf="view ==\'web\'">\r\n    <div>\r\n       <span class="driver-name-web" >Driver</span>\r\n    </div>\r\n    <div>\r\n       <a class="driver-name-web" href="tel:{{vehicleTripDetails[\'currentTrip\']?.driverMobNumber}}" >\r\n         <i  class="fa fa-phone" aria-hidden="true"></i>&nbsp;+91{{vehicleTripDetails[\'currentTrip\']?.driverMobNumber}}\r\n       </a>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  \x3c!--************************ edit trip dialog *********************************--\x3e\r\n  <div *ngIf="isEditTripLocationDialog"  class="mycustomDialog-editLocation" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width: 60%;min-width: 250px;overflow: hidden;max-width: 560px;height: calc(100vh - 140px);">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isEditTripLocationDialog=false;" >&times;</span>\r\n        <div>\r\n          <label>Edit {{forEditPlace}}</label>\r\n        </div>\r\n      </div>\r\n\r\n      <div  style="padding: 5px;font-size: 13px;overflow: auto;width: calc(100% - 12px);" >\r\n        <app-edit-trip-location></app-edit-trip-location>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!-- close edit trip dialog --\x3e\r\n  \x3c!--************************ create suggested trip dialog *********************************--\x3e\r\n  <div *ngIf="isCreateTripDialog"  class="mycustomDialog" style="padding-top: 270px;">\r\n    <div class="modal-content" style="width: 40%;min-width: 250px;max-width: 400px;height:200px">\r\n      <div  style="font-size: 21px;margin-left:40px; margin-top:57px;text-align:center" >\r\n        Do you want to create trip ?\r\n      </div>\r\n      <div  style="padding: 50px;font-size: 13px;margin-left:40px;" >\r\n        <button   (click)="isCreateTripDialog=false"  style="width: 46%;height:25px">{{\'Cancel\' | translate }}</button>\r\n        <button   (click)="confirmCreateTripFromTemplate()"  style="width: 46%;height:25px">{{\'Ok\' | translate }}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!-- close suggested trip dialog --\x3e\r\n\r\n\r\n  \x3c!--************************ disconnected dialog *********************************--\x3e\r\n  <div *ngIf="isDisconnectDialog"  class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isDisconnectDialog=false;" >&times;</span>\r\n        <div>\r\n          <label>Confirm {{forConfirmPlace | translate }}</label>\r\n        </div>\r\n      </div>\r\n\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div class="confirm-location" style="text-align: center;">\r\n          <span style="color:red" >{{validationErrorMgs}}</span>\r\n            <div>\r\n              <div *ngIf="forConfirmPlace == \'Pickup\'" style="display: grid" >\r\n                <span class="fade-sub-header-text">{{forConfirmPlace | translate }} Location</span>\r\n                <span class="header-text" style="margin-top: 6px;margin-left: 5px;" >{{vehicleTripDetails?.currentTrip?.origin[0]?.freightLocation?.name}}</span>\r\n              </div>\r\n\r\n              <div *ngIf="forConfirmPlace == \'Destination\'"  style="display: grid" >\r\n                <span class="fade-sub-header-text">{{forConfirmPlace | translate }} Location</span>\r\n                <span class="header-text" style="margin-top: 6px;margin-left: 5px;" >{{vehicleTripDetails?.currentTrip?.destination[0]?.freightLocation?.name}}</span>\r\n              </div>\r\n\r\n                <input [disabled]="isStartTimeDisable" placeholder="{{\'Start Time\' | translate }}" [autoClose] = "false" style="min-width: 50px;margin-left:5px;margin-top: 20px" [ngModel]="startTime | date:\'dd/MM/yyyy ,hh:mm a\'" [(dateTimePicker)]="startTime" [pickerType]="\'both\'"\r\n                     [hourTime]="\'12\'" readonly />\r\n\r\n                <input placeholder="{{\'End Time\' | translate }}" [autoClose] = "false" style="min-width: 50px;margin-top: 15px;margin-left: 5px;" [ngModel]="tillTime | date:\'dd/MM/yyyy ,hh:mm a\'" [(dateTimePicker)]="tillTime" [pickerType]="\'both\'"\r\n                     [hourTime]="\'12\'" readonly />\r\n            </div>\r\n        </div>\r\n        <div style="padding: 5px;margin-top:5px;text-align: center">\r\n          <button *ngIf="!isStartTimeDisable" [style.background-color]="(startTime == null)?\'grey\':\'#1E88E5\'" [disabled]="startTime == null" md-raised-button style="width:auto;color:#ffffff" (click)="confirmPlace()" >{{\'Confirm\' | translate }}</button>\r\n          <button *ngIf="isStartTimeDisable" [style.background-color]="(startTime == null || tillTime == null)?\'grey\':\'#1E88E5\'" [disabled]="startTime == null || tillTime == null" md-raised-button style="width:auto;color:#ffffff" (click)="confirmPlace()" >{{\'Confirm\' | translate }}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!-- disconnected dialog --\x3e\r\n\r\n\r\n\r\n\r\n\x3c!--  --\x3e\r\n  <div *ngIf="vehicleState == \'Waiting For Load\'">\r\n  <div *ngIf="view !=\'web\'"  style="padding: 15px 15px 10px 25px;">\r\n    <div>\r\n      <i class ="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n      <span class="alert-box">No Impediment</span>\r\n    </div>\r\n    <div>\r\n      <i class="fa fa-bell" aria-hidden="true"></i>\r\n      <span class="alert-box">No Alert</span>\r\n    </div>\r\n  </div>\r\n\r\n  <hr class="my-hr">\r\n\r\n  <div [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'"  style="overflow: auto;">\r\n      <div *ngIf="!vehicleTripDetails.nextTrip ">\r\n        <div *ngIf="templateObj!=null"  style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n            <span style="font-size: 12px">Suggested Trip</span>\r\n\r\n          <md-card style="font-size:13px;height:40px;margin-top:10px">\r\n              <div fxLayout="row" style="width:100%">\r\n                <span fxFlex>{{templateObj?.origin?.name}}</span>\r\n                <span ><i class="fa fa-minus" style="width:30px"></i></span>\r\n                <span fxFlex>{{templateObj?.destination?.name}}</span>\r\n                <span style="float:right" class="custom-button"><button md-raised-button color="primary" (click)="isCreateTripDialog=true" >+add Trip</button></span>\r\n              </div>\r\n              <div fxLayout="row" style="width:100%">\r\n                    <span fxFlex>{{templateObj?.material}}</span>&nbsp;\r\n                    <span fxFlex>{{templateObj?.distance}}KM</span>&nbsp;\r\n                    <span fxFlex>{{templateObj?.quantity}}MT</span>\r\n              </div>\r\n            </md-card>\r\n          </div>\r\n      </div>\r\n    <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n      <div ><span style="font-size: 12px">Current Trip</span></div>\r\n\r\n      <div style="text-align:center;margin:20px 5px 5px 5px;" >\r\n        <span style="font-size: 15px">No planned Trip Ahead</span>\r\n      </div>\r\n\r\n      <div style="text-align: center;">\r\n        <img style="height: 58px;" src="../../../../images/trip-icons/waiting_for_load_timeline.png" alt="timeline" >\r\n      </div>\r\n\r\n      <div *ngIf="vehicleTripDetails.latestGpsState?.state != \'Disconnected\' && vehicleTripDetails.latestGpsState?.state != null"  class="vehicle-status">\r\n          <span >{{vehicleState}}</span>\r\n        \x3c!----\x3e\r\n      </div>\r\n      <div *ngIf="vehicleTripDetails.latestGpsState?.state == \'Disconnected\' ||  vehicleTripDetails.latestGpsState?.state == null"  class="disconnected">\r\n        <span>{{vehicleState}}<span style="font-size:12px;color:#ffdead;" *ngIf="vehicleTripDetails.latestGpsState?.state == null"> No GPS Found</span></span>\r\n      </div>\r\n\r\n       <md-card fxLayout="row" class="current-vehicle-card">\r\n        <div>\r\n          <img style="height:32px;" src="../../../../images/trip-icons/truck_moving.png" alt="location" >\r\n        </div>\r\n         <div style="width: 100%">\r\n        <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n          <span style="line-height: 1.43">{{(vehicleTripDetails?.latestGpsState?.endLocation?.address)?vehicleTripDetails?.latestGpsState?.endLocation?.address:\'N/A\'}}</span>\r\n        </div>\r\n        \x3c!-- ************************* vehicle status **************************   --\x3e\r\n        <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right">\r\n          <span style="font-size:12px">{{vehicleTripDetails[\'vts\']?._stateDuration}}</span>\r\n        </div>\r\n         </div>\r\n\r\n        \x3c!--<div style="white-space: nowrap;margin-top: auto;margin-left:auto;margin-bottom: -10px">--\x3e\r\n        \x3c!--<i class="fa fa-stop-circle-o" aria-hidden="true"></i>--\x3e\r\n        \x3c!--<span style="font-size:14px">Stop</span>--\x3e\r\n        \x3c!--</div>--\x3e\r\n        \x3c!-- **--\x3e\r\n      </md-card>\r\n    </div>\r\n\r\n      <div style="overflow: hidden;margin-top: 15px">\r\n        <section *ngIf="vehicleTripDetails.lastTrip" style="margin:5px;padding:5px;border:2px solid lightgrey;position: relative" >\r\n          <div style="font-size:12px;color:#9E9E9E;height: 28px">\r\n            <span>Last Trip</span>\r\n            <span style="margin-left: 19px;vertical-align: -8px;">Delivery</span>\r\n          </div>\r\n\r\n          <div style="margin-top: 7px;" class="wfl-timeline" >\r\n            <i style="margin-top: -13px;" class="fa fa-circle wfl-imeline-image" aria-hidden="true"></i>\r\n            <div style="display:flex"  >\r\n              <span style="font-size: 13px;font-weight: bold;margin-left: 75px;color:#4a4a4a;"\r\n                    (click)="goToEditTripPickupView(\'destination\',\'LT\')" >{{vehicleTripDetails?.lastTrip?.destination[0]?.freightLocation?.name}}</span>\r\n              <span (click)="goToEditTripPickupView(\'destination\',\'LT\')"  style="color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n            </div>\r\n\r\n            <div class="sub-header-text" style="text-align: center;margin-left: 40px;margin-top: 5px;margin-bottom: 20px;">\r\n              <span>unloading duration {{vehicleTripDetails[\'lastTrip\']?.destination[0][\'_unloadingDuration\']}}</span>\r\n            </div>\r\n\r\n            <div class="sub-header-text" style="text-align:right;font-size:11px" name="trip completion duration" >\r\n              <span>Trip Duration :{{vehicleTripDetails[\'lastTrip\']?._tripCompletionDuration}}</span>\r\n            </div>\r\n\r\n            <div class="sub-header-text" style="margin-left: 71px;    margin-top: 7px;">\r\n              <span>Pickup</span>\r\n            </div>\r\n\r\n            <div style="display:flex;position: relative;" >\r\n              <i class="fa fa-circle wfl-imeline-image"  style="bottom: -2px;" aria-hidden="true"></i>\r\n              <div class="time" style="margin-top: 5px;">\r\n                <span >{{vehicleTripDetails[\'lastTrip\'].origin[0][\'fromTime\'] | date :\'d MMM\'}}</span>\r\n                <span style="white-space:nowrap" >{{vehicleTripDetails[\'lastTrip\'].origin[0][\'fromTime\'] | date :\'jm\'}}</span>\r\n              </div>\r\n              <span style="font-size: 13px;font-weight: bold;margin-left: 25px;color:#4a4a4a;margin-top:5px;"\r\n                    (click)="goToEditTripPickupView(\'pickup\',\'LT\')" >{{vehicleTripDetails?.lastTrip?.origin[0]?.freightLocation?.name}}</span>\r\n              <div style="margin-left: auto;" (click)="goToEditTripPickupView(\'pickup\',\'LT\')" >\r\n                <span style="white-space: nowrap;color: #9b9b9b;font-size: 11px"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="sub-header-text" style="text-align:center;margin-left: 22px;margin-top:-5px;font-size: 11px;" >\r\n            <span>Loading Duration {{vehicleTripDetails[\'lastTrip\']?.origin[0][\'_loadingDuration\']}}</span>\r\n          </div>\r\n        </section>\r\n\r\n        <div style="height: 50px"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!-- --\x3e\r\n  <div *ngIf="vehicleState == \'Enroute for Pickup\'">\r\n    <div *ngIf="view !=\'web\'" style="padding: 15px 15px 10px 25px;">\r\n      <div>\r\n        <i class ="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n        <span class="alert-box">No Impediment</span>\r\n      </div>\r\n      <div>\r\n        <i class="fa fa-bell" aria-hidden="true"></i>\r\n        <span class="alert-box">No Alert</span>\r\n      </div>\r\n    </div>\r\n\r\n    <hr class="my-hr">\r\n\r\n    <div  [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'" style="overflow: auto;">\r\n      <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n        <div  >\r\n          <span style="font-size: 12px">Current Trip</span>\r\n        </div>\r\n        <div style="overflow: hidden">\r\n          <div>\r\n            <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n              <span style="margin-left: 64px;">Delivery</span>\r\n            </div>\r\n            <div class="EFP_unvisited-timeline">\r\n              <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n              \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n              <div style="display:flex"  >\r\n                <span class="fade-header" (click)="goToEditTripPickupView(\'destination\',\'CT\')"   style="margin-left: 75px;cursor: pointer" >{{vehicleTripDetails?.currentTrip?.destination[0]?.freightLocation?.name}}</span>\r\n                <span  (click)="goToEditTripPickupView(\'destination\',\'CT\')"  style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n\r\n              <div class="fade-sub-header-text" style="width: 98%; margin-left : 80px; margin-top: 10px;">\r\n                <span>Transite Time :</span><span>{{vehicleTripDetails?.currentTrip?._transiteTime}}</span><br>\r\n                <span *ngIf = "isDelayed" style="color : red"><span>(running late by</span><span style="margin-left:2px">{{delayedBy}}</span><span>)</span></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n              <span style="margin-left: 64px;">Pickup</span>\r\n            </div>\r\n            <div class="EFP_unvisited-timeline">\r\n              <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n              \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n              <div style="display:flex"  >\r\n                <span (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  class="fade-header" style="margin-left: 75px;cursor: pointer" >{{vehicleTripDetails?.currentTrip?.origin[0]?.freightLocation?.name}}</span>\r\n                <span (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n\r\n              <div class="fade-sub-header-text" style="width: 98%; margin-left : 80px; margin-top: 10px;">\r\n                \x3c!-- <span>ETA : {{vehicleTripDetails[\'currentTrip\']?.plannedStartTime | date:\'medium\'}}</span> --\x3e\r\n                <span >ETA :</span><span> {{eta}}</span><br>\r\n                <span >{{distanceToGo}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!-- **************** disconnected case **************************** --\x3e\r\n        <div *ngIf="vehicleTripDetails.latestGpsState?.state != \'Disconnected\' && vehicleTripDetails.latestGpsState?.state != null"  class="vehicle-status">\r\n          <span >{{vehicleState}}</span>\r\n        </div>\r\n\r\n        <div (click)="openConfirmPointDialog(\'Pickup\')"  *ngIf="vehicleTripDetails.latestGpsState?.state == \'Disconnected\' ||  vehicleTripDetails.latestGpsState?.state == null"  class="disconnected">\r\n          <span>{{vehicleState}}<span style="font-size:12px;color:#ffdead;" *ngIf="vehicleTripDetails.latestGpsState?.state == null"> No GPS Found</span></span>\r\n          <i class="fa fa-chevron-right" aria-hidden="true" style="color:white;float:right;margin-top: 2px;" ></i>\r\n        </div>\r\n        \x3c!-- ******************************************* --\x3e\r\n\r\n        <md-card fxLayout="row" class="current-vehicle-card">\r\n          <div>\r\n            <img style="height:32px;" src="../../../../images/trip-icons/truck_moving.png" alt="location" >\r\n          </div>\r\n          <div style="width: 100%">\r\n            <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n              <span style="line-height: 1.43">{{(vehicleTripDetails?.latestGpsState?.endLocation?.address)?vehicleTripDetails?.latestGpsState?.endLocation?.address:\'N/A\'}}</span>\r\n              \x3c!--<span *ngIf="!vehicleTripDetails.movementLegs" style="line-height: 1.43"> Address Not Available !</span>--\x3e\r\n            </div>\r\n            \x3c!-- ************************* vehicle status **************************   --\x3e\r\n            <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right">\r\n              <span style="font-size:12px">Since {{vehicleTripDetails[\'vts\']?._stateDuration}}</span>\r\n            </div>\r\n          </div>\r\n          \x3c!--<div style="white-space: nowrap;margin-top: auto;margin-left:auto;margin-bottom: -10px">--\x3e\r\n          \x3c!--<i class="fa fa-stop-circle-o" aria-hidden="true"></i>--\x3e\r\n          \x3c!--<span style="font-size:14px">Stop</span>--\x3e\r\n          \x3c!--</div>--\x3e\r\n          \x3c!-- **--\x3e\r\n        </md-card>\r\n      </div>\r\n\r\n      <div style="overflow: hidden;margin-top: 15px">\r\n        <section *ngIf="vehicleTripDetails.lastTrip" style="margin:5px;padding:5px;border:2px solid lightgrey;position: relative" >\r\n          <div style="font-size:12px;color:#9E9E9E;height: 28px">\r\n            <span>Last Trip</span>\r\n            <span style="margin-left: 19px;vertical-align: -8px;">Delivery</span>\r\n          </div>\r\n\r\n          <div style="margin-top: 7px;" class="wfl-timeline" >\r\n            <i style="margin-top: -13px;" class="fa fa-circle wfl-imeline-image" aria-hidden="true"></i>\r\n            <div style="display:flex"  >\r\n              <span style="cursor: pointer;font-size: 13px;font-weight: bold;margin-left: 75px;color:#4a4a4a;"\r\n                    (click)="goToEditTripPickupView(\'destination\',\'LT\')" >{{vehicleTripDetails?.lastTrip?.destination[0]?.freightLocation?.name}}</span>\r\n              <span (click)="goToEditTripPickupView(\'destination\',\'LT\')"  style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n            </div>\r\n\r\n            <div class="sub-header-text" style="text-align: center;margin-left: 40px;margin-top: 5px;margin-bottom: 20px;">\r\n              <span>unloading duration {{vehicleTripDetails[\'lastTrip\']?.destination[0][\'_unloadingDuration\']}}</span>\r\n            </div>\r\n\r\n            <div class="sub-header-text" style="text-align:right;font-size:11px">\r\n              <span>Trip Duration :{{vehicleTripDetails[\'lastTrip\']?._tripCompletionDuration}}</span>\r\n            </div>\r\n\r\n            <div class="sub-header-text" style="margin-left: 71px;    margin-top: 7px;">\r\n              <span>Pickup</span>\r\n            </div>\r\n\r\n            <div style="display:flex;position: relative;" >\r\n              <i class="fa fa-circle wfl-imeline-image"  style="bottom: -2px;" aria-hidden="true"></i>\r\n              <div class="time" style="margin-top: 5px;">\r\n                <span >{{vehicleTripDetails[\'lastTrip\'].origin[0][\'fromTime\'] | date :\'d MMM\'}}</span>\r\n                <span style="white-space:nowrap" >{{vehicleTripDetails[\'lastTrip\'].origin[0][\'fromTime\'] | date :\'jm\'}}</span>\r\n              </div>\r\n              <span style="cursor: pointer;font-size: 13px;font-weight: bold;margin-left: 25px;color:#4a4a4a;margin-top:5px;"\r\n                    (click)="goToEditTripPickupView(\'pickup\',\'LT\')" >{{vehicleTripDetails?.lastTrip?.origin[0]?.freightLocation?.name}}</span>\r\n              <div style="cursor: pointer;margin-left: auto;" (click)="goToEditTripPickupView(\'pickup\',\'LT\')" >\r\n                <span style="white-space: nowrap;color: #9b9b9b;font-size: 11px"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="sub-header-text" style="text-align:center;margin-left: 22px;margin-top:-5px;font-size: 11px;" >\r\n            <span>Loading Duration {{vehicleTripDetails[\'lastTrip\']?.origin[0][\'_loadingDuration\']}}</span>\r\n          </div>\r\n        </section>\r\n\r\n        <div style="height: 50px"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!-- --\x3e\r\n  <div *ngIf="vehicleState == \'At Pickup Point\'">\r\n\r\n    <div *ngIf="view !=\'web\'"  style="padding: 15px 15px 10px 25px;">\r\n      <div>\r\n        <i class ="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n        <span class="alert-box">No Impediment</span>\r\n      </div>\r\n      <div>\r\n        <i class="fa fa-bell" aria-hidden="true"></i>\r\n        <span class="alert-box">No Alert</span>\r\n      </div>\r\n    </div>\r\n\r\n    <hr class="my-hr">\r\n\r\n    <div [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'"  style="overflow: auto;">\r\n\r\n      <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n        <div  >\r\n          <span style="font-size: 12px">Current Trip</span>\r\n        </div>\r\n        <div style="overflow: hidden">\r\n          <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n            <span style="margin-left: 64px;">Delivery</span>\r\n          </div>\r\n          <div class="EFP_unvisited-timeline">\r\n            <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n            \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n            <div style="display:flex"  >\r\n              <span (click)="goToEditTripPickupView(\'destination\',\'CT\')" class="fade-header" style="cursor: pointer;margin-left: 75px;" >{{vehicleTripDetails?.currentTrip?.destination[0]?.freightLocation?.name}}</span>\r\n              <span (click)="goToEditTripPickupView(\'destination\',\'CT\')" style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n            </div>\r\n\r\n            <div class="fade-sub-header-text" style="width: 98%; margin-left : 80px; margin-top: 10px;">\r\n              \x3c!-- <span>ETA : {{vehicleTripDetails[\'currentTrip\']?.plannedEndTime | date:\'medium\'}}</span> --\x3e\r\n              <span>Transite Time :</span><span>{{vehicleTripDetails?.currentTrip?._transiteTime}}</span><br>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!-- **************** for in case of device disconnect ********************** --\x3e\r\n        <div *ngIf="vehicleTripDetails.latestGpsState?.state != \'Disconnected\' && vehicleTripDetails.latestGpsState?.state != null"  class="vehicle-status">\r\n          <span >{{vehicleState}}</span>\r\n          \x3c!----\x3e\r\n        </div>\r\n        <div (click)="openConfirmPointDialog(\'Pickup\')" *ngIf="vehicleTripDetails.latestGpsState?.state == \'Disconnected\' ||  vehicleTripDetails.latestGpsState?.state == null"  class="disconnected">\r\n          <span>{{vehicleState}}<span style="font-size:12px;color:#ffdead;" *ngIf="vehicleTripDetails.latestGpsState?.state == null"> No GPS Found</span></span>\r\n          <i class="fa fa-chevron-right" aria-hidden="true" style="color:white;float:right;margin-top: 2px;" ></i>\r\n        </div>\r\n       \x3c!--   ************************************  --\x3e\r\n\r\n        <md-card fxLayout="row" (click)="goToEditTripPickupView(\'pickup\',\'CT\')" class="current-vehicle-card">\r\n          <div>\r\n            <img style="height:32px;" src="../../../../images/trip-icons/stop_truck_white.png" alt="location" >\r\n          </div>\r\n          <div style="width: 100%">\r\n            <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n              <span *ngIf="vehicleTripDetails.currentTrip" style="line-height: 1.43">{{vehicleTripDetails?.currentTrip?.origin[0]?.freightLocation?.name}}</span>\r\n              <span *ngIf="vehicleTripDetails.currentTrip" style="line-height: 1.43"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;float: right"></i></span>\r\n              <span  *ngIf="!vehicleTripDetails.currentTrip"  style="line-height: 1.43;font-size: 20px" > N/A !</span>\r\n            </div>\r\n            \x3c!-- ************************* vehicle status **************************   --\x3e\r\n            <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right">\r\n              <span style="font-size:12px">{{vehicleTripDetails[\'vts\']?._stateDuration}}</span>\r\n            </div>\r\n          </div>\r\n          \x3c!--<div style="white-space: nowrap;margin-top: auto;margin-left:auto;margin-bottom: -10px">--\x3e\r\n          \x3c!--<i class="fa fa-stop-circle-o" aria-hidden="true"></i>--\x3e\r\n          \x3c!--<span style="font-size:14px">Stop</span>--\x3e\r\n          \x3c!--</div>--\x3e\r\n          \x3c!-- **--\x3e\r\n        </md-card>\r\n      </div>\r\n\r\n      <div style="overflow: hidden;margin-top: 15px">\r\n        <section *ngIf="vehicleTripDetails.lastTrip" style="margin:5px;padding:5px;border:2px solid lightgrey;position: relative" >\r\n          <div style="font-size:12px;color:#9E9E9E;height: 28px">\r\n            <span>Last Trip</span>\r\n            <span style="margin-left: 19px;vertical-align: -8px;">Delivery</span>\r\n          </div>\r\n\r\n          <div style="margin-top: 7px;" class="wfl-timeline" >\r\n            <i style="margin-top: -13px;" class="fa fa-circle wfl-imeline-image" aria-hidden="true"></i>\r\n            <div style="display:flex"  >\r\n              <span style="cursor: pointer;font-size: 13px;font-weight: bold;margin-left: 75px;color:#4a4a4a;"\r\n                    (click)="goToEditTripPickupView(\'destination\',\'LT\')" >{{vehicleTripDetails?.lastTrip?.destination[0]?.freightLocation?.name}}</span>\r\n              <span (click)="goToEditTripPickupView(\'destination\',\'LT\')" style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n            </div>\r\n\r\n            <div class="sub-header-text" style="text-align: center;margin-left: 40px;margin-top: 5px;margin-bottom: 20px;">\r\n              <span>unloading duration {{vehicleTripDetails[\'lastTrip\']?.destination[0][\'_unloadingDuration\']}}</span>\r\n            </div>\r\n\r\n            <div class="sub-header-text" style="text-align:right;font-size:11px">\r\n              <span>Trip Duration :{{vehicleTripDetails[\'lastTrip\']?._tripCompletionDuration}}</span>\r\n            </div>\r\n\r\n            <div class="sub-header-text" style="margin-left: 71px;    margin-top: 7px;">\r\n              <span>Pickup</span>\r\n            </div>\r\n\r\n            <div style="display:flex;position: relative;" >\r\n              <i class="fa fa-circle wfl-imeline-image"  style="bottom: -2px;" aria-hidden="true"></i>\r\n              <div class="time" style="margin-top: 5px;">\r\n                <span >{{vehicleTripDetails[\'lastTrip\'].origin[0][\'fromTime\'] | date :\'d MMM\'}}</span>\r\n                <span style="white-space:nowrap" >{{vehicleTripDetails[\'lastTrip\'].origin[0][\'fromTime\'] | date :\'jm\'}}</span>\r\n              </div>\r\n              <span style="cursor: pointer;font-size: 13px;font-weight: bold;margin-left: 25px;color:#4a4a4a;margin-top:5px;"\r\n                    (click)="goToEditTripPickupView(\'pickup\',\'LT\')" >{{vehicleTripDetails?.lastTrip?.origin[0]?.freightLocation?.name}}</span>\r\n              <div style="margin-left: auto;cursor: pointer" (click)="goToEditTripPickupView(\'pickup\',\'LT\')" >\r\n                <span style="white-space: nowrap;color: #9b9b9b;font-size: 11px"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="sub-header-text" style="text-align:center;margin-left: 22px;margin-top:-5px;font-size: 11px;" >\r\n            <span>Loading Duration {{vehicleTripDetails[\'lastTrip\']?.origin[0][\'_loadingDuration\']}}</span>\r\n          </div>\r\n        </section>\r\n\r\n        <div style="height: 50px"></div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div *ngIf="vehicleState == \'Enroute for Delivery\'">\r\n    <div *ngIf="view !=\'web\'" style="padding: 15px 15px 10px 25px;">\r\n      <div>\r\n        <i class ="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n        <span class="alert-box">No Impediment</span>\r\n      </div>\r\n      <div>\r\n        <i class="fa fa-bell" aria-hidden="true"></i>\r\n        <span class="alert-box">No Alerts</span>\r\n      </div>\r\n    </div>\r\n\r\n    <hr class="my-hr">\r\n\r\n    <div [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'"  style="overflow: auto;">\r\n      \x3c!-- ***********8 this is upcoming trip ********************--\x3e\r\n      <div *ngIf="!vehicleTripDetails.nextTrip " >\r\n          <div *ngIf="templateObj!=null" style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n            <span style="font-size: 12px">Suggested Trip</span>\r\n          <md-card style="font-size:13px;height:40px;margin-top:10px">\r\n              <div fxLayout="row" style="width:100%">\r\n                  <span fxFlex>{{templateObj?.origin?.name}}</span>\r\n                  <span ><i class="fa fa-minus" style="width:30px"></i></span>\r\n                  <span fxFlex>{{templateObj?.destination?.name}}</span>\r\n                  <span style="float:right" class="custom-button"><button md-raised-button color="primary" (click)="isCreateTripDialog=true" >+add Trip</button></span>\r\n              </div>\r\n              <div fxLayout="row" style="width:100%">\r\n                    <span fxFlex>{{templateObj?.material}}</span>&nbsp;\r\n                    <span fxFlex>{{templateObj?.distance}}KM</span>&nbsp;\r\n                    <span fxFlex>{{templateObj?.quantity}}MT</span>\r\n              </div>\r\n            </md-card>\r\n          </div>\r\n      </div>\r\n\r\n      <div *ngIf="vehicleTripDetails.nextTrip" style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n        <div  >\r\n          <span style="font-size: 12px">Upcoming Trip</span>\r\n        </div>\r\n        <div style="overflow: hidden">\r\n          <div>\r\n            <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n              <span style="margin-left: 64px;">Delivery</span>\r\n            </div>\r\n            <div class="EFP_unvisited-timeline" style="padding-bottom: 31px;">\r\n              <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n              \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n              <div style="display:flex"  >\r\n                <span  (click)="goToEditTripPickupView(\'destination\',\'NT\')"   class="fade-header" style="margin-left: 75px;cursor: pointer" >{{vehicleTripDetails?.nextTrip?.destination[0]?.freightLocation?.name}}</span>\r\n                <span (click)="goToEditTripPickupView(\'destination\',\'NT\')"  style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n              <span style="margin-left: 64px;">Pickup</span>\r\n            </div>\r\n            <div style="position: relative" >\r\n              <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n              \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n              <div style="display:flex"  >\r\n                <span (click)="goToEditTripPickupView(\'pickup\',\'NT\')"  class="fade-header" style="cursor: pointer;margin-left: 75px;" >{{vehicleTripDetails?.nextTrip?.origin[0]?.freightLocation?.name?vehicleTripDetails?.nextTrip?.origin[0]?.freightLocation?.name:\'N/A\'}}</span>\r\n                <span (click)="goToEditTripPickupView(\'pickup\',\'NT\')" style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \x3c!--  ****************************** --\x3e\r\n      \x3c!-- *****************************     current trip start here *************************** --\x3e\r\n      <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n        <div  style="margin-bottom: 5px">\r\n          <span style="font-size: 12px">Current Trip</span>\r\n        </div>\r\n\r\n      \x3c!--delivery point of current trip --\x3e\r\n        <div style="overflow: hidden">\r\n          <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n            <span style="margin-left: 64px;">Delivery</span>\r\n          </div>\r\n          <div class="EFP_unvisited-timeline" style="padding-bottom: 31px;">\r\n            <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n            \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n            <div style="display:flex"  >\r\n              <span (click)="goToEditTripPickupView(\'destination\',\'CT\')"  class="fade-header" style="margin-left: 75px;cursor: pointer" >{{vehicleTripDetails?.currentTrip?.destination[0]?.freightLocation?.name}}</span>\r\n              <span (click)="goToEditTripPickupView(\'destination\',\'CT\')"  style="color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n            </div>\r\n\r\n            <div class="fade-sub-header-text" style="width: 98%; margin-left : 80px; margin-top: 10px;">\r\n              <span>ETA :{{vehicleTripDetails?.currentTrip?.plannedEndTime | date :\'medium\' }}</span><br>\r\n              <div *ngIf = "isDelayed" style="margin-top: 2px; color : red">\r\n              <span>(running late by</span><span style="margin-left:2px">{{delayedBy}}</span><span>)</span><br>\r\n              </div>\r\n              <div style="margin-top: 2px">\r\n              <span>{{distanceToGo}}</span>\r\n            </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      \x3c!-- ************************** --\x3e\r\n\r\n        \x3c!-- *************** when disconnect *************************** --\x3e\r\n        <div *ngIf="vehicleTripDetails.latestGpsState?.state != \'Disconnected\' && vehicleTripDetails.latestGpsState?.state != null"  class="vehicle-status">\r\n          <span >{{vehicleState}}</span>\r\n          \x3c!----\x3e\r\n        </div>\r\n        <div (click)="openConfirmPointDialog(\'Destination\')"   *ngIf="vehicleTripDetails.latestGpsState?.state == \'Disconnected\' ||  vehicleTripDetails.latestGpsState?.state == null"  class="disconnected">\r\n          <span>{{vehicleState}}<span style="font-size:12px;color:#ffdead;" *ngIf="vehicleTripDetails.latestGpsState?.state == null"> No GPS Found</span></span>\r\n          <i class="fa fa-chevron-right" aria-hidden="true" style="color:white;float:right;margin-top: 2px;" ></i>\r\n        </div>\r\n        \x3c!-- *********************************************************** --\x3e\r\n\r\n        <md-card fxLayout="row" class="current-vehicle-card">\r\n          <div>\r\n            <img style="height:32px;" src="../../../../images/trip-icons/truck_moving.png" alt="location" >\r\n          </div>\r\n          <div style="width: 100%">\r\n            <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n              <span  style="line-height: 1.43">{{(vehicleTripDetails?.latestGpsState?.endLocation?.address)?vehicleTripDetails?.latestGpsState?.endLocation?.address:\'N/A\'}}</span>\r\n              \x3c!--<span  *ngIf="!vehicleTripDetails.currentTrip"  style="line-height: 1.43;font-size: 20px" > N/A !</span>--\x3e\r\n            </div>\r\n            \x3c!-- ************************* vehicle status **************************   --\x3e\r\n            <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right;">\r\n              <span style="font-size:12px">Since {{vehicleTripDetails[\'vts\']?._stateDuration}}</span>\r\n            </div>\r\n          </div>\r\n        </md-card>\r\n\r\n        <div style="overflow: hidden;margin-top: -13px;">\r\n          <section class="DP-timeline" style="padding: 5px;" >\r\n            <div style="padding: 5px;margin-top: 5px;">\r\n              \x3c!-- *************** for expand up-down arrow icon ************  --\x3e\r\n              <div style="overflow: hidden;margin-top: 20px;padding-bottom: 20px" fxLayout="row" >\r\n                \x3c!-- ******** total travling time **************** --\x3e\r\n                <div style="min-width: 43px">\r\n                  <div *ngIf="!isExpand" class="time">\r\n                    <span class="rotate" >&#8676;</span>\r\n                    <span name="totalTravelDistance" style="white-space:nowrap;">{{movementLogs?._totalTravlingDistance | number : \'1.1-1\'}} km</span>\r\n                    <span name="totalTravlingTime" style="border-top: 1px solid;" >{{movementLogs?._totalTravlingTime}}</span>\r\n                    <span class="rotate">&#8677;</span>\r\n                  </div>\r\n                </div>\r\n                \x3c!-- ********************************* --\x3e\r\n\r\n                <div *ngIf="!isExpand" fxLayout="column" (click)="isExpand = true" style="margin-left:65px;    margin-top: 10px;">\r\n                  <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                  <i  class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                </div>\r\n                <div *ngIf="isExpand" fxLayout="column" (click)="isExpand = false" style="margin-left:65px;margin-top: -6px;">\r\n                  <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                </div>\r\n\r\n                <div fxLayout="column" style="margin-bottom: 30px;width:100%">\r\n                  \x3c!-- when not expanded --\x3e\r\n                  <div *ngIf="!isExpand" style="margin-left:8px;display:grid;margin-top: 15px;" >\r\n                    <div style="display: grid">\r\n                      <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;">{{movementLogs?.stopped}} Stops</span>\r\n                      <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;margin-top:4px;">{{movementLogs?.disconnected }} Disconnects</span>\r\n                    </div>\r\n                  </div>\r\n                  \x3c!-- ******** this is show when log value expanded ********* --\x3e\r\n\r\n                  <div [style.height]="isExpand?\'auto\':\'0px\'"  class="data-box" id="expandable-box-legs" [style.margin-top]="!isExpand?upSideHeight:\'8px\'"  [class.hide-up-Slowly]="!isExpand" [class.show-down-Slowly]="isExpand == true"  fxLayout="column"  >\r\n\r\n                    \x3c!-- loop for movement logs / this data show when click to expand movement logs  --\x3e\r\n                    <div  *ngFor="let movementleg of vehicleTripDetails[\'movementLegs\']" style="margin-top:15px;padding:5px;margin-bottom:10px;position:relative" >    \x3c!--loop here--\x3e\r\n                     <div *ngIf="isExpand" >\r\n                      <div *ngIf="movementleg.state == \'Moving\'" class="travling-time" > \x3c!-- left side of time line--\x3e\r\n                        <span  >{{movementleg?._totalDuration }}</span>\r\n                        <span  >{{movementleg?.totalDistance/1000 | number : \'1.1-1\'}} km</span>\r\n                      </div>\r\n                      <i *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'"  style="position: absolute;margin-left: -61px;background-color: white;"\r\n                         [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" class="fa fa-stop-circle" aria-hidden="true"></i>\r\n                      <div *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'" [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" > \x3c!-- right side of time line--\x3e\r\n                        <span style="font-weight: bold;">{{movementleg.endLocation?.address?movementleg.endLocation?.address:\'N/A\'}}</span>\r\n                        <div style="padding-top: 4px;float:right;text-align:right;display:grid;" >\r\n                           <span style="white-space:nowrap;">{{movementleg?._totalDuration }}</span>\r\n                           <span style="white-space:nowrap;">{{movementleg?.startTime | date: \'dd MMM yy hh:mm a\'}}</span>\r\n                        </div>\r\n                        </div>\r\n                     </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \x3c!-- ***************************close for expand up-down arrow icon **************************  --\x3e\r\n              <div style="display:flex;position: relative;" >\r\n                <i  class="fa fa-circle DP_timeline-image" aria-hidden="true"></i>\r\n                <div class="time" style="margin-top: 5px;">\r\n                  <span >{{vehicleTripDetails[\'currentTrip\'].origin[0][\'fromTime\'] | date :\'d MMM\'}}</span>\r\n                  <span style="white-space:nowrap" >{{vehicleTripDetails[\'currentTrip\'].origin[0][\'fromTime\'] | date :\'jm\'}}</span>\r\n                </div>\r\n                <div style="font-size: 13px;font-weight: bold;margin-left: 54px;color:#4a4a4a;display: grid" >\r\n                  <span class="fade-sub-header-text" style="margin-top: -13px;margin-left: -10px;">Pickup</span>\r\n                  <span (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  >{{vehicleTripDetails?.currentTrip?.origin[0]?.freightLocation?.name?vehicleTripDetails?.currentTrip?.origin[0]?.freightLocation?.name:\'N/A\'}}</span>\r\n                </div>\r\n                <div (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  style="cursor: pointer;margin-left: auto;display: grid;text-align: center;">\r\n                  <span style="white-space: nowrap;color: #9b9b9b;font-size: 11px"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                </div>\r\n              </div>\r\n              <div class="sub-header-text" style="margin-left: 104px;margin-top: -5px;font-size: 11px">\r\n                <span>Loading Duration {{vehicleTripDetails[\'currentTrip\'].origin[0][\'_loadingDuration\']}}</span>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n        </div>\r\n      </div>\r\n      \x3c!-- ************ close current trip *****8 --\x3e\r\n      <div style="height: 50px"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf="vehicleState == \'At Delivery Point\'">\r\n    <div *ngIf="view !=\'web\'" style="padding: 15px 15px 10px 25px;">\r\n      <div>\r\n        <i class ="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n        <span class="alert-box">No Impediment</span>\r\n      </div>\r\n      <div>\r\n        <i class="fa fa-bell" aria-hidden="true"></i>\r\n        <span class="alert-box">No Alerts</span>\r\n      </div>\r\n    </div>\r\n\r\n    <hr class="my-hr">\r\n\r\n    <div  [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'" style="overflow: auto;">\r\n       \x3c!-- *********** this is upcoming trip ********************--\x3e\r\n       <div *ngIf="!vehicleTripDetails.nextTrip">\r\n          <div *ngIf="templateObj!=null"  style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n            <span style="font-size: 12px">Suggested Trip</span>\r\n          <md-card style="font-size:13px;height:40px;margin-top:10px" >\r\n              <div fxLayout="row" style="width:100%">\r\n                <span fxFlex>{{templateObj?.origin?.name}}</span>\r\n                <span ><i class="fa fa-minus" style="width:30px"></i></span>\r\n                <span fxFlex>{{templateObj?.destination?.name}}</span>\r\n                <span style="float:right" class="custom-button"><button md-raised-button color="primary" (click)="isCreateTripDialog=true" >+add Trip</button></span>\r\n              </div>\r\n              <div fxLayout="row" style="width:100%">\r\n                    <span fxFlex>{{templateObj?.material}}</span>&nbsp;\r\n                    <span fxFlex>{{templateObj?.distance}}KM</span>&nbsp;\r\n                    <span fxFlex>{{templateObj?.quantity}}MT</span>\r\n              </div>\r\n          </md-card>\r\n        </div>\r\n        </div>\r\n      <div *ngIf="vehicleTripDetails.nextTrip" style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n        <div  >\r\n          <span style="font-size: 12px">Upcoming Trip</span>\r\n        </div>\r\n        <div style="overflow: hidden">\r\n          <div>\r\n            <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n              <span style="margin-left: 64px;">Delivery</span>\r\n            </div>\r\n            <div class="EFP_unvisited-timeline" style="padding-bottom: 31px;">\r\n              <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n              \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n              <div style="display:flex"  >\r\n                <span (click)="goToEditTripPickupView(\'destination\',\'NT\')" class="fade-header" style="margin-left: 75px;" >{{vehicleTripDetails?.nextTrip?.destination[0]?.freightLocation?.name}}</span>\r\n                <span (click)="goToEditTripPickupView(\'destination\',\'NT\')" style="color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n              <span style="margin-left: 64px;">Pickup</span>\r\n            </div>\r\n            <div style="position: relative" >\r\n              <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n              \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n              <div style="display:flex" >\r\n                <span (click)="goToEditTripPickupView(\'pickup\',\'NT\')" class="fade-header" style="margin-left: 75px;" >{{vehicleTripDetails?.nextTrip?.origin[0]?.freightLocation?.name?vehicleTripDetails?.nextTrip?.origin[0]?.freightLocation?.name:\'N/A\'}}</span>\r\n                <span (click)="goToEditTripPickupView(\'pickup\',\'NT\')" style="color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n         \x3c!--  ****************************** --\x3e\r\n\r\n\x3c!-- *****************************     current trip start here *************************** --\x3e\r\n      <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n        <div  style="margin-bottom: 5px">\r\n          <span style="font-size: 12px">Current Trip</span>\r\n        </div>\r\n\r\n        \x3c!--   foor in case of disconnection --\x3e\r\n        <div *ngIf="vehicleTripDetails.latestGpsState?.state != \'Disconnected\' && vehicleTripDetails.latestGpsState?.state != null"  class="vehicle-status">\r\n          <span >{{vehicleState}}</span>\r\n          \x3c!----\x3e\r\n        </div>\r\n        <div (click)="openConfirmPointDialog(\'Destination\')" *ngIf="vehicleTripDetails.latestGpsState?.state == \'Disconnected\' ||  vehicleTripDetails.latestGpsState?.state == null"  class="disconnected">\r\n          <span>{{vehicleState}}<span style="font-size:12px;color:#ffdead;" *ngIf="vehicleTripDetails.latestGpsState?.state == null"> No GPS Found</span></span>\r\n          <i class="fa fa-chevron-right" aria-hidden="true" style="color:white;float:right;margin-top: 2px;" ></i>\r\n        </div>\r\n        \x3c!-- ************************************************* --\x3e\r\n\r\n        <md-card (click)="goToEditTripPickupView(\'destination\',\'CT\')"  fxLayout="row" class="current-vehicle-card">\r\n          <div>\r\n            <img style="height:32px;" src="../../../../images/trip-icons/stop_truck_white.png" alt="location" >\r\n          </div>\r\n          <div style="width: 100%">\r\n          <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n            <span *ngIf="vehicleTripDetails.currentTrip" style="line-height: 1.43">{{vehicleTripDetails?.currentTrip?.destination[0]?.freightLocation?.name}}</span>\r\n            <span *ngIf="vehicleTripDetails.currentTrip" style="line-height: 1.43"><i  class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;float:right;"></i></span>\r\n            <span  *ngIf="!vehicleTripDetails.currentTrip"  style="line-height: 1.43;font-size: 20px" > N/A !</span>\r\n          </div>\r\n          \x3c!-- ************************* vehicle status **************************   --\x3e\r\n          <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right;">\r\n            <span style="font-size:12px">Since {{vehicleTripDetails[\'vts\']?._stateDuration}}</span>\r\n          </div>\r\n          </div>\r\n        </md-card>\r\n\r\n      <div style="overflow: hidden;margin-top: -13px;">\r\n        <section class="DP-timeline" style="padding: 5px;" >\r\n          <div style="padding: 5px;margin-top: 5px;">\r\n            \x3c!-- *************** for expand up-down arrow icon ************  --\x3e\r\n            <div style="overflow: hidden;margin-top: 20px;padding-bottom: 20px" fxLayout="row" >\r\n             \x3c!-- ******** total travling time **************** --\x3e\r\n              <div style="min-width: 43px">\r\n                <div *ngIf="!isExpand" class="time">\r\n                  <span class="rotate" >&#8676;</span>\r\n                  <span name="totalTravelDistance" style="white-space:nowrap;">{{movementLogs?._totalTravlingDistance | number : \'1.1-1\'}} km</span>\r\n                  <span name="totalTravlingTime" style="border-top: 1px solid;" >{{movementLogs?._totalTravlingTime}}</span>\r\n                  <span class="rotate">&#8677;</span>\r\n                </div>\r\n              </div>\r\n              \x3c!-- ********************************* --\x3e\r\n\r\n              <div *ngIf="!isExpand" fxLayout="column" (click)="isExpand = true" style="margin-left:65px;    margin-top: 10px;">\r\n                <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                <i  class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n              </div>\r\n              <div *ngIf="isExpand" fxLayout="column" (click)="isExpand = false" style="margin-left:65px;margin-top: -6px;">\r\n                <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n              </div>\r\n\r\n              <div fxLayout="column" style="margin-bottom: 30px;width:100%">\r\n                \x3c!-- when not expanded --\x3e\r\n                <div *ngIf="!isExpand" style="margin-left:8px;display:grid;margin-top: 15px;" >\r\n                  <div style="display: grid">\r\n                    <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;">{{movementLogs?.stopped}} Stops</span>\r\n                    <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;margin-top:4px;">{{movementLogs?.disconnected }} Disconnects</span>\r\n                  </div>\r\n                </div>\r\n                 \x3c!-- ******** this is show when log value expanded ********* --\x3e\r\n                <div [style.height]="isExpand?\'auto\':\'0px\'"  class="data-box" id="expandable-box" [style.margin-top]="!isExpand?upSideHeight:\'8px\'"  [class.hide-up-Slowly]="!isExpand" [class.show-down-Slowly]="isExpand == true"  fxLayout="column"  >\r\n\r\n                \x3c!-- loop for movement logs / this data show when click to expand movement logs  --\x3e\r\n                  <div *ngFor="let movementleg of vehicleTripDetails[\'movementLegs\']" style="margin-top:15px;padding:5px;margin-bottom:10px;position:relative" >    \x3c!--loop here--\x3e\r\n                    <div *ngIf="isExpand" >\r\n                    <div *ngIf="movementleg.state == \'Moving\'" class="travling-time" > \x3c!-- left side of time line--\x3e\r\n                      <span  >{{movementleg?._totalDuration }}</span>\r\n                      <span  >{{movementleg?.totalDistance/1000 | number : \'1.1-1\'}} km</span>\r\n                    </div>\r\n                    <i *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'"  style="position: absolute;margin-left: -61px;background-color: white;"\r\n                      [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" class="fa fa-stop-circle" aria-hidden="true"></i>\r\n                    <div *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'" [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" > \x3c!-- right side of time line--\x3e\r\n                       <span style="font-weight: bold;">{{movementleg.endLocation?.address?movementleg.endLocation?.address:\'N/A\'}}</span>\r\n\r\n                      <div style="padding-top: 4px;float:right;text-align:right;display:grid;" >\r\n                        <span  style="white-space:nowrap;">{{movementleg?._totalDuration }}</span>\r\n                        <span style="white-space:nowrap;">{{movementleg?.startTime | date: \'dd MMM yy hh:mm a\'}}</span>\r\n                      </div>\r\n                    </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \x3c!-- ***************************close for expand up-down arrow icon **************************  --\x3e\r\n            <div style="display:flex;position: relative;" >\r\n              <i  class="fa fa-circle DP_timeline-image" aria-hidden="true"></i>\r\n              <div class="time" style="margin-top: 5px;">\r\n                <span >{{vehicleTripDetails[\'currentTrip\'].origin[0][\'fromTime\'] | date :\'d MMM\'}}</span>\r\n                <span style="white-space:nowrap" >{{vehicleTripDetails[\'currentTrip\'].origin[0][\'fromTime\'] | date :\'jm\'}}</span>\r\n              </div>\r\n              <div style="font-size: 13px;font-weight: bold;margin-left: 60px;color:#4a4a4a;display: grid" >\r\n                <span class="fade-sub-header-text" style="margin-top: -13px;margin-left: -10px;">Pickup</span>\r\n                <span (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  >{{vehicleTripDetails?.currentTrip?.origin[0]?.freightLocation?.name?vehicleTripDetails?.currentTrip?.origin[0]?.freightLocation?.name:\'N/A\'}}</span>\r\n              </div>\r\n              <div (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  style="margin-left: auto;display: grid;text-align: center;">\r\n                <span style="white-space: nowrap;color: #9b9b9b;font-size: 11px"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n              </div>\r\n            </div>\r\n            <div class="sub-header-text" style="margin-left: 90px;margin-top: -5px;font-size: 11px">\r\n                 <span>Loading Duration {{vehicleTripDetails[\'currentTrip\'].origin[0][\'_loadingDuration\']}}</span>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n      </div>\r\n      </div>\r\n      \x3c!-- ************ close current trip *****8 --\x3e\r\n      <div style="height: 50px"></div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n'},SnkB:function(e,t){e.exports='<div *ngIf="viewType ==\'web\'">\r\n  <div class="profile-container-desktop" >\r\n    <img class="logo" src="../../../../images/fretron_logo.png" alt="Avatar"  >\r\n    <img class="profile-pic" src="../../../../images/default-profile.png" alt="profile"  >\r\n    <div style="display: grid;position: absolute;top:81px;left: 23px;color:white">\r\n      <span style="font-size: 18px;margin-bottom: 3px;">{{customerName}}</span>\r\n      <span style="font-size: 12px">{{customerMobile}}</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div style="margin: 10px 0px 10px 10px;overflow: auto;max-height: 250px;" >\r\n    <div class="org-list-element" *ngFor="let currentOrg of orgList" (click)="switchOrg(currentOrg,false)" >\r\n      <div  style="padding: 5px;" [style.background-color]="(currentOrgId === currentOrg[\'uuid\']? \'lightblue\': \'white\')">\r\n        <span >{{currentOrg[\'organisationName\']}}</span>\r\n      </div>\r\n      \x3c!--<div style="margin-top: 10px" >--\x3e\r\n        \x3c!--<span>Add Organisation <i  style="margin-right: 6px;position: relative;float: right;" class="fa fa-plus" aria-hidden="true"></i></span>--\x3e\r\n      \x3c!--</div>--\x3e\r\n    </div>\r\n  <div *ngIf="isShowGodFeatures">\r\n    <div class="org-list-element" (click)="switchOrg({uuid:\'FRETRON_GOD_TRANSPORTER\',type:\'TRANSPORTER\'},true)" >\r\n      <div  style="padding: 5px;" [style.background-color]="(currentOrgId === \'FRETRON_GOD_TRANSPORTER\'? \'lightblue\': \'white\')">\r\n        <span >SUPER USER TRANSPORTER</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="org-list-element" (click)="switchOrg({uuid:\'FRETRON_GOD_FO\',type:\'FLEET_OWNER\'},true)" >\r\n      <div  style="padding: 5px;" [style.background-color]="(currentOrgId === \'FRETRON_GOD_FO\'? \'lightblue\': \'white\')">\r\n        <span>SUPER USER FLEET OWNER</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n\r\n\r\n  <div style="margin-bottom: -8px;width: 95%;text-align: right;" >\r\n    <button  (click)="goToAddOrganisation()" md-button >Add Organisation</button>\r\n    <button  (click)="logout();" md-button >Logout</button>\r\n  </div>\r\n</div>\r\n\r\n\x3c!--background-color: lightblue;--\x3e\r\n\r\n\r\n\x3c!-- ************************ mobile view code start here *2* ************************************** --\x3e\r\n<div *ngIf="viewType ==\'mobile\'" class="profile-container" >\r\n  <img class="logo" src="../../../../images/fretron_logo.png" alt="Avatar"  >\r\n  <img class="profile-pic" src="../../../../images/default-profile.png" alt="profile"  >\r\n  <div style="display: grid;position: absolute;top:81px;left: 23px;color:white">\r\n    <span style="font-size: 18px;margin-bottom: 3px;">{{customerName}}</span>\r\n    <span style="font-size: 12px">{{customerMobile}}</span>\r\n  </div>\r\n\r\n\r\n  <div class="user-org-details" (click)="isOrgList =!isOrgList">\r\n\r\n    <button md-icon-button style="cursor: pointer;z-index: 1000;font-size:15px;color: #ffffff"   >\r\n      <span *ngIf="isOrgList" >&#9650;</span>\r\n      <span *ngIf="!isOrgList">&#9660;</span>\r\n    </button>\r\n\r\n  </div>\r\n\r\n\r\n</div>\r\n<div *ngIf="viewType ==\'mobile\' && isOrgList" class="org-list">\r\n  <div class="org-list-element" *ngFor="let currentOrg of orgList" (click)="switchOrg(currentOrg,false)" >\r\n    <div  style="padding: 5px;" [style.background-color]="(currentOrgId === currentOrg[\'uuid\']? \'lightblue\': \'white\')"><span>{{currentOrg[\'organisationName\']}}</span></div>\r\n  </div>\r\n\r\n  <div *ngIf="isShowGodFeatures">\r\n  <div  class="org-list-element"  (click)="switchOrg({uuid:\'FRETRON_GOD_FO\',type:\'FLEET_OWNER\'},true)" >\r\n    <div  style="padding: 5px;" [style.background-color]="(currentOrgId === \'FRETRON_GOD_FO\'? \'lightblue\': \'white\')" ><span>SUPER USER FLEET OWNER</span></div>\r\n  </div>\r\n  <div class="org-list-element" (click)="switchOrg({uuid:\'FRETRON_GOD_TRANSPORTER\',type:\'TRANSPORTER\'},true)" >\r\n    <div  style="padding: 5px;" [style.background-color]="(currentOrgId === \'FRETRON_GOD_TRANSPORTER\'? \'lightblue\': \'white\')" ><span>SUPER USER TRANSPORTER</span></div>\r\n  </div>\r\n  </div>\r\n\r\n  <div style="margin-top: 10px" (click)="goToAddOrganisation()" ><span>Add Organisation <i  style="margin-right: 6px;position: relative;float: right;" class="fa fa-plus-square-o" aria-hidden="true"></i></span></div>\r\n</div>\r\n\x3c!-- ************************ end mobile view code start here  ************************************** --\x3e\r\n\r\n\r\n\x3c!--&lt;!&ndash;Invite User Modal  starts here&ndash;&gt;--\x3e\r\n\x3c!--<div  *ngIf="isShowAddOrganisation" id="addOrganisationModal" class="modal">--\x3e\r\n  \x3c!--&lt;!&ndash;Invite User Modal content &ndash;&gt;--\x3e\r\n  \x3c!--<div class="modal-content">--\x3e\r\n    \x3c!--<span class="close" (click)="isShowAddOrganisation=false">&times;</span>--\x3e\r\n    \x3c!--<h3 style="text-align: center">Add Organisation</h3>--\x3e\r\n\r\n    \x3c!--<div style="margin-top: 2%">--\x3e\r\n      \x3c!--<button md-raised-button color="primary" (click)="addOrganisation()">OK</button>--\x3e\r\n      \x3c!--<button md-button (click)="isShowAddOrganisation=false">Cancel</button>--\x3e\r\n    \x3c!--</div>--\x3e\r\n  \x3c!--</div>--\x3e\r\n\x3c!--</div>--\x3e\r\n\x3c!--&lt;!&ndash;Invite user Modal ends here&ndash;&gt;--\x3e\r\n'},T8MQ:function(e,t,i){"use strict";function n(e,t){return T(e,t)}var o=i("WWmu"),r=i("H8ZI"),s=i("pCI3"),a=i("Jt72"),l=i("kmqf"),c=i("E7m/"),d=i("l/Mu"),p=i("tDHq"),u=i("v5bf"),h=i("OsEQ"),g=i("DM0y"),f=i("JvEB"),v=i("jo8u"),m=i("FOB5"),y=i("AFVK"),x=i("TuA5");t.a=n;var b=(new r.a,{token:l.a,title:c.a,isBack:c.b,router:a.a,vehicleListRes:c.c,otpGenaration:l.b,authorization:d.a,customerDetails:l.c,vehRunningReport:c.d,vehStoppageReport:c.e,vehOverspeedReport:c.f,locationHistory:c.g,formattedAddress:c.h,currentVehicle:c.i,signupTokenValidation:p.a,signUpOtpGenaration:p.b,signUpNewUserData:p.c,shareVehicle:c.j,selectedTripSource:c.k,selectedTripDestination:c.l,configAlertFieldLocation:c.m,selectedTripAddressType:c.n,saveDetailsAddTrip:c.o,tripStatusList:u.a,vehicleTripDetails:u.b,addFretTripDetails:u.c,createTripDetails:u.d,createQuickTripDetails:u.e,searchLocationName:u.f,scheduleReportList:h.a,PickedVehicles:c.p,scheduleCreatedAck:h.b,changeScheduleReportState:h.c,selectedFilterVehicleStatus:g.a,selectedVehicleLocationHistory:g.b,vehicleListSearchFliter:g.c,showLocationHistory:g.d,closeDialog:c.q,getTimeline:g.e,etaDistanceStore:c.r,freightStore:c.s,saveDetailsConfigAlert:f.a,configuredAlertsList:f.b,createdPowerDisconnectAlert:f.c,selectedInsideLocation:f.d,selecetdProximityLocation:f.e,alertsCreatedServiceResponse:f.f,alertDeleteServiceResponse:f.g,etaListDistanceStore:c.t,updateTripData:u.g,selectedAlertForEdit:f.h,userInfo:v.a,tripTemplateList:m.a,tripTemplateDetail:m.b,createTripTemplate:m.c,saveEditTripTemplateDetails:m.d,deleteTripTemplate:m.e,addTripTemplateSaveDetails:m.f,updateTripTemplate:m.g,deleteUserResponse:y.a,getAllUserList:y.b,updateUserStatusResponse:y.c,existingUserResponse:y.d,getAllVehiclesGroupList:x.a,selectedVehicleGroupForEdit:x.b,deleteGroupResponse:x.c,getVehiclesByGroup:x.d,selectedVehicleForEdit:x.e,editVehicleResponse:x.f,getVehiclesByOrg:x.g,createGroupResponse:x.h,addVehiclesInGroup:x.i,calledEditVehicleSource:x.j,createOrganisationResponse:y.e,switchOrgResp:y.f,refreshVehicleList:x.k,refreshTripTemplate:u.h,getAllAlertsNotification:f.i,addVehicleResponse:x.l}),T=i.i(s.b)(o.d)(b)},"TAi/":function(e,t){e.exports='\n<div class="back-header" >\n    <span  (click)="back()" style="margin-top: 9px;margin-left: 10px;" >\n      <i class="fa fa-arrow-left" aria-hidden="true" (click)="back()"></i>\n    </span>\n\n  <div style="margin-top: 9px;width: 90%;text-align: center;">\n    <span style="text-align: center;" >\n      <span style="font-size: 19px;">{{\'Vehicle Activity\' | translate }}</span>\n    </span>\n  </div>\n</div>\n<div *ngIf="vehicleState == \'wait for load\'" style="overflow:hidden;margin-top: 11px;" class="slow-down">\n    <md-card class="vehicle-no-header">\n      <span  >{{currentVehicle}}</span>\n    </md-card>\n\n  \x3c!-- ******************* start here pickupPoint Dialog **********************  --\x3e\n  <div *ngIf="isEditPickPointDialog"   class="mycustomDialog" style="padding-top:0px;">\n    <div class="modal-content" style="min-width:250px;overflow: hidden;height: 99.7vh;">\n      <div class="modal-header" style="padding: 16px 10px;">\n        <button md-button  class="save-button" (click)="savePickupPoint()">\n          <i class="fa fa-floppy-o" aria-hidden="true"></i>\n        </button>\n        <span  class="close" (click)="isEditPickPointDialog=false;" >&times;</span>\n        <label  >{{\'Edit Pickup Point\' | translate }}</label>\n      </div>\n      <div class="my-map"  style="padding: 2px;font-size: 13px;">\n        <agm-map  style="height: calc(100vh - 170px);" [latitude]="21.145225" [longitude]="79.081145" [zoom]="4">\n\n          <agm-marker  [iconUrl]=markerUrl (markerClick)="markerUrl=\'../../../../images/red_marker20X20.png\';changePickupLocation(\'delhi new road\')" [latitude]="21.145225" [longitude]="79.081145">\n            <agm-info-window  [isOpen]="true" style="color:blue;" >\n              <div style="color:blue;max-width: 150px;text-align:center" > (stop 15hr 25min , 20 july 2017 , 2:00pm)</div>\n            </agm-info-window>\n          </agm-marker>\n\n          <agm-marker [iconUrl]=markerUrl1 (markerClick)="markerUrl1=\'../../../../images/red_marker20X20.png\';changePickupLocation(\'mc Donald ,noida sec 15\')" [latitude]="25.145225" [longitude]="85.081145">\n            <agm-info-window  [isOpen]="true" style="color:blue;" >\n              <div style="color:blue;max-width: 150px;text-align:center" > (stop 35hr 25min , 20 july 2017 , 3:40pm)</div>\n            </agm-info-window>\n          </agm-marker>\n\n        </agm-map>\n        <div style="padding: 5px">\n          <div style="padding: 5px 8px" class="sub-header-text">(25july 2017, 4:30PM)</div>\n          <md-card class="header-text" ><i class="fa fa-map-marker" aria-hidden="true" style="color: indianred"></i>{{selectedPickupPoint}}</md-card>\n          <div style="padding: 5px 10px" class="sub-header-text">(Duration 2hr)</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- *********************** end dialog pickup point ************************************************ --\x3e\n\n  \x3c!-- ******************* isEditDeliveryPointDialog **********************  --\x3e\n  <div *ngIf="isEditDeliveryPointDialog"   class="mycustomDialog" style="padding-top:0px;">\n    <div class="modal-content" style="min-width:250px;overflow: hidden;height: 99.7vh;">\n      <div class="modal-header" style="padding: 16px 10px;">\n        <button md-button  class="save-button" (click)="saveDeliveryPoint()">\n          <i class="fa fa-floppy-o" aria-hidden="true"></i>\n        </button>\n        <span  class="close" (click)="isEditDeliveryPointDialog=false;" >&times;</span>\n        <label  >{{\'Edit Delivery Point\' | translate }}</label>\n      </div>\n      <div class="my-map"  style="padding: 2px;font-size: 13px;">\n        <agm-map  style="height: calc(100vh - 170px);" [latitude]="21.145225" [longitude]="79.081145" [zoom]="4">\n\n          <agm-marker  [iconUrl]=markerUrl (markerClick)="markerUrl=\'../../../../images/red_marker20X20.png\';changeDeliveryLocation(\'delhi new road\')" [latitude]="21.145225" [longitude]="79.081145">\n            <agm-info-window [isOpen]="true" style="color:blue;" >\n              <div style="color:blue;max-width: 150px;text-align:center" >(stop 15hr 25min , 20 july 2017 , 1:00pm)</div>\n            </agm-info-window>\n          </agm-marker>\n\n          <agm-marker [iconUrl]=markerUrl1 (markerClick)="markerUrl1=\'../../../../images/red_marker20X20.png\';changeDeliveryLocation(\'mc Donald ,noida sec 15\')" [latitude]="25.145225" [longitude]="85.081145">\n            <agm-info-window  [isOpen]="true" >\n              <div style="color:blue;max-width: 150px;text-align:center" >(stop 35hr 25min , 20 july 2017 , 3:40pm)</div>\n            </agm-info-window>\n          </agm-marker>\n\n          <agm-marker [iconUrl]=markerUrl2 (markerClick)="markerUrl2=\'../../../../images/red_marker20X20.png\';changeDeliveryLocation(\'IOCL refinary , panipath haryana\')" [latitude]="23.145225" [longitude]="82.081145">\n            <agm-info-window   [isOpen]="true" style="color:blue;" >\n              <div style="color:blue;max-width: 150px;text-align:center" > (stop 5hr 5min , 20 july 2017 , 12:00pm)</div>\n            </agm-info-window>\n          </agm-marker>\n        </agm-map>\n        <div style="padding: 5px">\n          <div style="padding: 5px 8px" class="sub-header-text">(3 july 2017, 4:30PM)</div>\n          <md-card class="header-text" ><i class="fa fa-map-marker" aria-hidden="true" style="color: indianred"></i>{{selectedDeliveryPoint}}</md-card>\n          <div style="padding: 5px 10px" class="sub-header-text">(Duration 8hr)</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- *********************** end dialog edit delivery point ************************************************ --\x3e\n\n<md-card style="margin:4px 4px;overflow:auto;height:calc(100vh - 114px);">\n  <div>\n    <div style="overflow: auto;height: 98%;" >\n      <section class="cd-timeline" >\n        <div fxLayout="row" style="padding-bottom: 3px" >\n          <div fxFlex="20%">\n            <button  md-icon-button class="timeline-icon"></button>\n          </div>\n          <div fxFlex="65%" #parentEle style="overflow: hidden;margin-top: 20px;" >\n             <span #childEle style="font-size: 12px;color: black;" >\n               now\n             </span>\n          </div>\n        </div>\n        <div style="margin-left: 21%">\n          <div >\n            <span style="font-size: 20px">(waiting for load)</span>\n          </div>\n\n          <div style="overflow: hidden;text-overflow: ellipsis">\n            <span (click)="isMoreText =true" [style.white-space]="isMoreText?\'\':\'nowrap\'" style="font-size: 13px;color:#959595">(new transport ,NH 1 panipath gujrat india pin 152415,) </span>\n          </div>\n\n          <div style="text-align:right;margin-top:12px;color:black;" >\n            <span style="font-size: 12px;color:#252525">(Waiting since 8 hrs)</span>\n          </div>\n        </div>\n        \x3c!-- cd-timeline-img --\x3e\n      </section>\n      \x3c!--<div style="height:50px"></div>--\x3e\n    </div>\n\n    <div style="overflow: auto;height: 98%;" >\n      <section class="cd-timeline"  style="padding-bottom: 25px;">\n        <div fxLayout="row" style="padding-bottom: 3px" >\n          <div fxFlex="20%">\n            <button  md-icon-button class="timeline-icon" style="background-color: hotpink;"></button>\n          </div>\n        </div>\n        <div style="padding:5px;margin-left: 18%;margin-right: 5%;box-shadow: 0px 8px 28px #555555;max-width:500px;" >\n          <div >\n            <span style="font-size: 11px">(12 july 2017, 4:30PM)</span>\n          </div>\n\n          <div style="margin-top: 5px">\n            <span style="font-size: 18px">(Vehicle at delivery point.)</span>\n          </div>\n          <div style="overflow: hidden;text-overflow: ellipsis;padding-left: 5px;padding-right: 5px">\n            <span (click)="isMoreText =true" [style.white-space]="isMoreText?\'\':\'nowrap\'" style="font-size: 13px;color:#959595">(new haryana transporter ,rohtak haryana)</span>\n          </div>\n\n          <div style="color:black;" >\n            <button md-button (click)="isEditDeliveryPointDialog = true;" style="color:#3AC7BC;min-width: 20px;padding:0px 10px;" >EDIT</button>\n            <button md-button style="color:#3AC7BC;min-width: 20px;padding:0px 10px;" >DISCARD</button>\n          </div>\n\n          <div style="text-align: right;margin-top: -10px;">\n            <span style="font-size: 12px;color:#252525;">(Detained for 8 hrs)</span>\n          </div>\n        </div>\n        \x3c!-- cd-timeline-img --\x3e\n      </section>\n      \x3c!--<div style="height:50px"></div>--\x3e\n    </div>\n  </div>\n\n\n  <div >\n    <div style="overflow: auto;height: 98%;" >\n      <section class="cd-timeline"  >\n        <div fxLayout="row" style="padding-bottom: 3px" >\n          <div fxFlex="20%">\n            <button  md-icon-button class="timeline-icon"></button>\n          </div>\n          <div fxFlex="65%" #parentEle style="overflow: hidden;margin-top: 20px;" >\n             <span #childEle style="font-size: 12px;color: black;" >\n               \x3c!--now--\x3e\n             </span>\n          </div>\n        </div>\n        <div style="margin-left: 21%">\n          <div >\n            <span style="font-size: 20px">(Enroute for Delivery)</span>\n          </div>\n\n          <div  style="overflow: hidden;text-overflow: ellipsis">\n            <span  (click)="isMoreText =true" [style.white-space]="isMoreText?\'\':\'nowrap\'" style="font-size: 12px;color:#959595">(NH 2 noida india pin 12241) </span>\n            <span  style="font-size: 11px;float: right;margin-top:4px;" >(3 days, 2h)</span>\n          </div>\n\n          <div style="text-align: right">\n            <span  style="font-size: 11px;">(350 km)</span>\n          </div>\n        </div>\n        \x3c!-- cd-timeline-img --\x3e\n      </section>\n    </div>\n\n    <div style="overflow: auto;height: 98%;" >\n      <section class="cd-timeline"  style="padding-bottom: 25px;">\n        <div fxLayout="row" style="padding-bottom: 3px" >\n          <div fxFlex="20%">\n            <button  md-icon-button class="timeline-icon" style="background-color: hotpink;"></button>\n          </div>\n        </div>\n        <div style="padding:5px;margin-left: 18%;margin-right: 5%;box-shadow: 0px 8px 28px #555555;max-width:500px;" >\n          <div >\n            <span style="font-size: 11px">12 july 2017, 4:30PM</span>\n          </div>\n\n          <div style="margin-top: 5px">\n            <span style="font-size: 18px">Vehicle at pickup point.</span>\n          </div>\n          <div style="overflow: hidden;text-overflow: ellipsis;padding-left: 5px;padding-right: 5px">\n            <span (click)="isMoreText =true" [style.white-space]="isMoreText?\'\':\'nowrap\'" style="font-size: 12px;color:#959595">(NH 3 noida ,up)</span>\n          </div>\n\n          <div style="color:black;" >\n            <button md-button (click)="isEditPickPointDialog = true;" style="color:#3AC7BC;min-width: 20px;padding:0px 10px;" >EDIT</button>\n            <button md-button style="color:#3AC7BC;min-width: 20px;padding:0px 10px;" >DISCARD</button>\n          </div>\n\n          <div style="text-align: right;margin-top: -10px;">\n            <span style="font-size: 12px;color:#252525;">(Detained for 3 hrs)</span>\n          </div>\n        </div>\n        \x3c!-- cd-timeline-img --\x3e\n      </section>\n    </div>\n  </div>\n  <div style="height:50px"></div>\n</md-card>\n</div>\n\n\x3c!--******************************************************************************--\x3e\n\n<div *ngIf="vehicleState == \'At destination point\'" style="padding: 5px;overflow:auto;height: calc(100vh - 56px);margin-top: 11px;" class="slow-down">\n  <md-card>\n    <md-card  class="vehicle-no-header" style="padding: 7px;margin: -8px;" >\n      <span>(Reported at delivery point.)</span>\n    </md-card>\n\n    <div style="margin-top: 15px;font-size: 14px">\n      <span>(national highway 2 , haryana sec 44)</span>\n    </div>\n    <div style="margin-top: 10px;font-size: 13px;color: #828282;" >\n      <span>(22 july 2017 3:30 pm)</span>\n      <span style="float: right">(since 30 min)</span>\n    </div>\n  </md-card>\n<div style="margin-top: 3px;">\n  <agm-map  [latitude]="latitude" [longitude]="longitude"  [zoom]="10">\n    <agm-marker  [markerDraggable]="true" (dragEnd)="markerDragPosition($event);"\n                 [latitude]="latitude" [longitude]="longitude" >\n      <agm-info-window [isOpen]="true" style="color:blue;" >\n        {{formated_Address}}<span *ngIf="formated_Address == \'\' ">Fetching...</span>\n      </agm-info-window>\n    </agm-marker>\n  </agm-map>\n</div>\n  <md-card style="margin-top: 2px;">\n    <div style="text-align: center;overflow: hidden;margin-top: 10px;margin-bottom: 10px">\n      <span style="float: left;visibility: visible;margin-top: 1px;color: blueviolet;padding:5px;cursor: pointer" (click)="previousActivity()" >\n        <i class="fa fa-chevron-left" aria-hidden="true" style="font-size: 23px"></i>\n        <span style="font-size: 11px;display: inline-block;width: 40px;">{{\'Previous Activity\' | translate}}</span>\n      </span>\n      <button md-raised-button style="color:#ffffff;background-color:#1E88E5;">{{\'Discard Delivery\' | translate}}</button>\n      <span (click)="nextActivity()" style="float: right;visibility:visible;margin-top: 1px;color: blueviolet;padding:5px;cursor: pointer" >\n        <span style="font-size: 11px;display: inline-block;width: 35px;">{{\'Next Activity\' | translate }}</span>\n        <i class="fa fa-chevron-right" aria-hidden="true" style="font-size: 23px"></i>\n      </span>\n    </div>\n  </md-card>\n</div>\n\n\n'},TMFf:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".align-center{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.modal{position:fixed;z-index:6;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;top:20%}.close{color:#aaa;float:right;font-size:28px;font-weight:700}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}",""]),e.exports=e.exports.toString()},TWAt:function(e,t){e.exports='\x3c!--******************************  mobile view code here *1* ********************--\x3e\r\n<md-sidenav-container  *ngIf="view !=\'web\'" class="example-container" style="overflow: hidden;" (panleft)="sidenav.close()" >\r\n  <md-sidenav #sidenav style="max-width: 235px;overflow-x: hidden;" >\r\n    <ul class="sidenav-menu">\r\n      <app-user-profile [view]="view"></app-user-profile>\r\n      \x3c!--<div class="profile-container" >--\x3e\r\n        \x3c!--<img class="logo" src="../../../../images/fretron_logo.png" alt="Avatar"  >--\x3e\r\n        \x3c!--<img class="profile-pic" src="../../../../images/default-profile.png" alt="profile"  >--\x3e\r\n        \x3c!--<div style="display: grid;position: absolute;top:81px;left: 23px;color:white">--\x3e\r\n          \x3c!--<span style="font-size: 18px;margin-bottom: 3px;">{{customerName}}</span>--\x3e\r\n          \x3c!--<span style="font-size: 12px">{{customerMobile}}</span>--\x3e\r\n        \x3c!--</div>--\x3e\r\n      \x3c!--</div>--\x3e\r\n\r\n      <li style="box-shadow: none" (click)="sidenav.close();gotoDashboardView();selectedView=\'Vehicle Dashboard\'" [class.selected-view]="selectedView===\'Vehicle Dashboard\'">{{\'Dashboard\' | translate }}</li>\r\n\r\n      \x3c!--<li class="hide-back" (click)="gotoStatisticsView();sidenav.close();selectedView=\'statistics\'"><span [class.selected-view]="selectedView===\'statistics\'">{{\'Statistics\' | translate }}</span></li>--\x3e\r\n\r\n      \x3c!--<li class="hide-back" (click)="gotoLocationHisView();sidenav.close();selectedView=\'Location History\'" [class.selected-view]="selectedView===\'Location History\'">{{\'Location History\' | translate }}</li>--\x3e\r\n\r\n      <li class="hide-back" (click)="goToVehicleStatusView();sidenav.close();selectedView=\'Vehicle Trip Status\'" [class.selected-view]="selectedView===\'Vehicle Trip Status\'">{{\'Trip Status Dashboard\' | translate }}</li>\r\n      <li class="hide-back" (click)="isReport=!isReport" >{{\'Reports\' | translate}}\r\n        <span *ngIf="!isReport" [class.selected-view]="selectedView===\'Running Report\' || selectedView ===\'Stoppage Report\' || selectedView===\'Overspeed Report\'" style="padding-left: 25px;font-size:11px;" >&#9660;</span>\r\n        <span *ngIf="isReport"  [class.selected-view]="selectedView===\'Running Report\' || selectedView ===\'Stoppage Report\' || selectedView===\'Overspeed Report\'" style="padding-left: 25px;font-size:11px;" >&#9650;</span>\r\n      </li>\r\n      <div [class.slide-down]="isReport" [class.slide-up]="!isReport">\r\n        <ul *ngIf="isReport" class="sidenave-leftspace">\r\n          <li (click)="gotoRunningReportView();sidenav.close();selectedView=\'Running Report\'"><span [class.selected-view]="selectedView===\'Running Report\'">{{\'Vehicle Running\' | translate }}</span></li>\r\n          \x3c!--<li  (click)="gotoOverspeedReportView();sidenav.close();selectedView=\'Overspeed Report\'"><span [class.selected-view]="selectedView===\'Overspeed Report\'">{{\'Vehicle Overspeed\' | translate }}</span></li>--\x3e\r\n          <li  (click)="gotoStoppagesReportView();sidenav.close();selectedView=\'Stoppage Report\'"><span [class.selected-view]="selectedView===\'Stoppage Report\'">{{\'Vehicle Stop\' | translate }}</span></li>\r\n          \x3c!--<li (click)="selectedView=\'veh_night_drive\'" ><span [class.selected-view]="selectedView===\'veh_night_drive\'">{{\'Vehicle Night Drive\' | translate }}</span></li>--\x3e\r\n          <li (click)="goToselectVehicleTimeline();sidenav.close();selectedView=\'Vehicle Timeline\'" ><span [class.selected-view]="selectedView===\'Vehicle Sharing\'" >{{\'Vehicle Timeline\' | translate}}</span></li>\r\n\r\n        </ul>\r\n      </div>\r\n      \x3c!--<li class="hide-back" (click)="selectedView=\'alert\'" [class.selected-view]="selectedView===\'alert\'">{{\'Alerts\' | translate }}</li>--\x3e\r\n      <li class="hide-back" (click)="goToScheduleReportView();sidenav.close();selectedView =\'Schedule Report\'" [class.selected-view]="selectedView===\'Schedule Report\'">{{\'Schedule Report\' | translate }}</li>\r\n      <li class="hide-back" (click)="goToAddTripView();sidenav.close();selectedView=\'Add Trip\'" [class.selected-view]="selectedView===\'Add Trip\'">{{\'Add Trip\' | translate }}</li>\r\n      \x3c!--<li class="hide-back" (click)="goToselectVehicleTimeline();sidenav.close();selectedView=\'Vehicle Timeline\'" [class.selected-view]="selectedView===\'Vehicle Timeline\'">{{\'Vehicle Timeline\' | translate}}</li>--\x3e\r\n      \x3c!--<li class="hide-back" (click)="goToVehicleSharingView();sidenav.close();selectedView=\'Vehicle Sharing\'" [class.selected-view]="selectedView===\'Vehicle Sharing\'">{{\'Share Vehicle\' | translate }}</li>--\x3e\r\n      <li class="hide-back" (click)="goTosettingView();sidenav.close();selectedView=\'Settings\'" [class.selected-view]="selectedView===\'Settings\'">{{\'Settings\' | translate}}</li>\r\n      <li class="hide-back" (click)="goToConfigureAlertsView();sidenav.close();selectedView=\'Alerts\'" [class.selected-view]="selectedView===\'Alerts\'">{{\'Alerts\' | translate}}</li>\r\n      <li class="hide-back" (click)="goToManageOrganisationView();sidenav.close();selectedView=\'Manage Organisation\'" [class.selected-view]="selectedView===\'Manage Organisation\'">{{\'Manage Organisation\' | translate}}</li>\r\n      \x3c!--<li class="hide-back" (click)="logout();sidenav.close();selectedView=\'signout\'" [class.selected-view]="selectedView===\'signout\'" >{{\'LOGOUT\' | translate }}</li>--\x3e\r\n      <li class="hide-back" (click)="logout();sidenav.close();selectedView=\'logout\'" [class.selected-view]="selectedView===\'logout\'" >{{\'Logout\' | translate }}</li>\r\n      \x3c!--<li class="hide-back" (click)="AddShipper();sidenav.close();" >{{\'Add shipper\' | translate }}</li>--\x3e\r\n      <div class="hide-back" style="height:50px;"></div>\r\n    </ul>\r\n  </md-sidenav>\r\n  \x3c!-- ****************** menu button *************--\x3e\r\n<div style="height: 100%;overflow: hidden;" >\r\n  <div *ngIf="!showBack.isBack" class="menu-button" fxLayout="row" style="justify-content: center;align-items: center;" >\r\n    <span fxFlex="26px" class="menu" (click)="sidenav.open()"  mdTooltip="Menu" >\r\n      <i style="font-size: 22px;margin-top: 2px" class="fa fa-bars" aria-hidden="true"></i>\r\n    </span>\r\n  <span fxFlex style="margin-left: 1px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">\r\n    \x3c!--{{\'Dashboard\' | translate }}--\x3e\r\n    \x3c!--<i class="fa fa-angle-right" aria-hidden="true" style="font-size: 19px"></i>--\x3e\r\n    {{title | translate }}\r\n  </span>\r\n  </div>\r\n\r\n\x3c!-- ****************************** for show back button *********************************  --\x3e\r\n  <div *ngIf="showBack.isBack"  class="menu-button" fxLayout="row" style="justify-content: center;align-items: center;" >\r\n    <span fxFlex="26px" class="menu"  mdTooltip="Menu" (click)="goBack()" >\r\n      <i style="font-size: 19px;margin-top: 2px" class="fa fa-arrow-left" aria-hidden="true"></i>\r\n    </span>\r\n  <span fxFlex style="margin-left: 1px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">\r\n    {{title | translate }}\r\n  </span>\r\n  </div>\r\n\x3c!-- ******************************** close for show back button *********************************  --\x3e\r\n\r\n <router-outlet></router-outlet>\r\n</div>\r\n</md-sidenav-container>\r\n\x3c!--****************************** close mobile view code here *1* ********************--\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\x3c!--######################################################################################################################--\x3e\r\n\x3c!-- ************************ desktop view code start here *2* ************************************** --\x3e\r\n\r\n<div *ngIf="view ==\'web\'" style="height: 100vh;overflow: hidden;" >\r\n  <div class="header" fxLayout="row" >\r\n    <img style="width:140px;padding:0px 7px 14px 8px;" src="../../../../images/fretron_logo.png" alt="Fretron Logo"  >\r\n    <span class="service-name" >Fretron Tracking Platform</span>\r\n    <div style="margin-left: 20px" >\r\n      <button [style.color]="selectedViewDesktop == \'vehicles\' ? \'#FFFFFF\':\'\'" md-button class="menu-button-desktop" (click)="gotoDashboardView();selectedViewDesktop = \'vehicles\'" >\r\n        Vehicles\r\n      </button>\r\n\r\n      <button [style.color]="selectedViewDesktop == \'Trip Status\' ? \'#FFFFFF\':\'\'"   md-button class="menu-button-desktop" (click)="goToVehicleStatusView();selectedViewDesktop = \'Trip Status\'"  >\r\n        Trip Status\r\n      </button>\r\n\r\n      <button [mdMenuTriggerFor]="menu" [style.color]="selectedViewDesktop == \'Reports\' ? \'#FFFFFF\':\'\'"   md-button class="menu-button-desktop"   >\r\n        Reports\r\n      </button>\r\n      <md-menu #menu="mdMenu">\r\n        <button (click)="gotoRunningReportView();selectedViewDesktop = \'Reports\'" md-menu-item>\r\n          \x3c!--<mat-icon>dialpad</mat-icon>--\x3e\r\n          <span>Vehicle Running</span>\r\n        </button>\r\n        <button (click)="gotoStoppagesReportView();selectedViewDesktop = \'Reports\'" md-menu-item>\r\n          \x3c!--<mat-icon>voicemail</mat-icon>--\x3e\r\n          <span>Vehicle Stop</span>\r\n        </button>\r\n        <button (click)="goToselectVehicleTimeline();selectedViewDesktop = \'Reports\'" md-menu-item>\r\n          \x3c!--<mat-icon>notifications_off</mat-icon>--\x3e\r\n          <span>Vehicle Timeline</span>\r\n        </button>\r\n      </md-menu>\r\n\r\n      <button [style.color]="selectedViewDesktop == \'Alert\' ? \'#FFFFFF\':\'\'"   md-button class="menu-button-desktop" (click)="goToConfigureAlertsView();selectedViewDesktop = \'Alert\'"  >\r\n        Alert\r\n      </button>\r\n\r\n      <button [style.color]="selectedViewDesktop == \'Schedule\' ? \'#FFFFFF\':\'\'"   md-button class="menu-button-desktop" (click)="goToScheduleReportView();selectedViewDesktop = \'Schedule\'"  >\r\n        Schedule\r\n      </button>\r\n\r\n      \x3c!--<button [style.color]="selectedViewDesktop == \'Manage Organisation\' ? \'#FFFFFF\':\'\'"   md-button class="menu-button-desktop" (click)="goToManageOrganisationView();selectedViewDesktop = \'Manage Organisation\'"  >--\x3e\r\n        \x3c!--Manage Organisation--\x3e\r\n      \x3c!--</button>--\x3e\r\n    </div>\r\n\r\n    <div class="setting-button">\r\n      <button  md-icon-button style="cursor: pointer;margin-top: -3px;z-index: 1000;" placeholder="Setting" (click)="goTosettingView();selectedViewDesktop = \'Setting\'" >\r\n        <i [style.color]="selectedViewDesktop == \'Setting\' ? \'#FFFFFF\':\'rgb(206, 203, 203)\'"  class="fa fa-cog" aria-hidden="true" ></i>\r\n      </button>\r\n\r\n      <button [mdMenuTriggerFor]="notificationMenu" md-icon-button style="cursor: pointer;margin-top: -3px;z-index: 1000;" placeholder="Notification" (click)="isShowNotificationBadge=false" >\r\n        \x3c!--<i [style.color]="selectedViewDesktop == \'Setting\' ? \'#FFFFFF\':\'rgb(206, 203, 203)\'"  class="fa fa-cog" aria-hidden="true" ></i>--\x3e\r\n        <span *ngIf="isShowNotificationBadge" style="margin-left: 11px;" class="badge-icon-alerts" >*</span><i class="fa fa-bell" aria-hidden="true"></i>\r\n      </button>\r\n\r\n      <md-menu #notificationMenu="mdMenu">\r\n        <div style="text-align: center;padding-bottom: 10px"><span style="font-family: Arial; font-size: medium;font-weight: bold">Notifications</span></div>\r\n        <md-card (click)="goToAlertsNotification()" *ngFor="let notifications of allAlertsNotificationList">\r\n          <div *ngIf="notifications?.eventTopic== \'hourMovTopic\'" style="background-color:blue;color: white;font-size: small;text-align: center">\r\n            <span>Periodic Alert Notification</span>\r\n          </div>\r\n          <div *ngIf="notifications?.eventTopic== \'vehiclegpsstatetopic\'" style="background-color:darkorange;color: white;font-size: small;text-align: center">\r\n            <span>Stop Alert Notification</span>\r\n          </div>\r\n          <div *ngIf="notifications?.eventTopic == \'deviceEvent\'"  style="background-color:red;color: white;font-size: small;text-align: center">\r\n            <span>Power Disconnect Notification</span>\r\n          </div>\r\n          <div *ngFor="let notifics of notifications?.actions">\r\n            <span>{{notifics[\'value\']}}</span>\r\n          </div>\r\n        </md-card>\r\n\r\n        \x3c!--<md-card>--\x3e\r\n          \x3c!--<div style="background-color:blue;color: white;font-size: small;text-align: center">--\x3e\r\n            \x3c!--<span>Periodic Alert Notification</span>--\x3e\r\n          \x3c!--</div>--\x3e\r\n          \x3c!--<div><span>Running: Periodic Alert received for 15 hrs running more than 12hrs in 20 hrs for Vehicle HR 78A 8945 at 02.30pm</span></div>--\x3e\r\n        \x3c!--</md-card>--\x3e\r\n\r\n        \x3c!--<md-card  (click)="goToAlertsNotification()">--\x3e\r\n          \x3c!--<div style="background-color:red;color: white;font-size: small;text-align: center">--\x3e\r\n            \x3c!--<span>Power Disconnect Notification</span>--\x3e\r\n          \x3c!--</div>--\x3e\r\n          \x3c!--<div><span>DEVICE POWER DISCONNECTED for vehicle HR 34A 4245 at 2.45 pm</span></div>--\x3e\r\n        \x3c!--</md-card>--\x3e\r\n\r\n\r\n        \x3c!--<md-card>--\x3e\r\n          \x3c!--<div style="background-color:blue;color: white;font-size: small;text-align: center">--\x3e\r\n            \x3c!--<span>Periodic Alert Notification</span>--\x3e\r\n          \x3c!--</div>--\x3e\r\n          \x3c!--<div><span>Running: Periodic Alert received for 15 hrs running more than 12hrs in 20 hrs for Vehicle HR 78A 8945 at 02.30pm</span></div>--\x3e\r\n        \x3c!--</md-card>--\x3e\r\n\r\n        \x3c!--<md-card (click)="goToAlertsNotification()">--\x3e\r\n          \x3c!--<div style="background-color:darkorange;color: white;font-size: small;text-align: center">--\x3e\r\n            \x3c!--<span>Stop Alert Notification</span>--\x3e\r\n          \x3c!--</div>--\x3e\r\n          \x3c!--<div><span>VEHICLE STOP ALERT received for Vehicle RJ 67D 8978 at 12:45 pm 11/12/2017</span></div>--\x3e\r\n\r\n        \x3c!--</md-card>--\x3e\r\n\r\n\r\n\r\n        <div style="width: 100%;padding-top:10px;color: #0000cc;text-align: center" (click)="goToAlertsNotification()">\r\n          <span>See All</span>\r\n        </div>\r\n      </md-menu>\r\n\r\n\r\n\r\n\r\n      <button [mdMenuTriggerFor]="logoutMenu"  md-icon-button style="cursor: pointer;margin-top: -3px;z-index: 1000;"   >\r\n        <i  class="fa fa-user-o" aria-hidden="true" >&#9662;</i>\r\n      </button>\r\n      <md-menu #logoutMenu="mdMenu" >\r\n        <app-user-profile [view]="view" ></app-user-profile>\r\n      </md-menu>\r\n    </div>\r\n  </div>\r\n  <router-outlet></router-outlet>\r\n</div>\r\n\r\n\x3c!--********************** close desktop view code start here *2* ************************--\x3e\r\n\r\n\r\n'},TuA5:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"GET_ALL_VEHICLE_GRP_LIST":return v.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"SELECTED_VEH_GROUP_FOR_EDIT":return v.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"DELETE_GROUP_RESPONSE":return v.addAction(t),t.payload;default:return e}}function s(e,t){switch(void 0===e&&(e=null),t.type){case"GET_ALL_VEHICLES_BY_GROUP":return v.addAction(t),t.payload;default:return e}}function a(e,t){switch(void 0===e&&(e=null),t.type){case"GET_ALL_VEHICLES_BY_ORG":return v.addAction(t),t.payload;default:return e}}function l(e,t){switch(void 0===e&&(e=null),t.type){case"SELECTED_VEHICLE_FOR_EDIT":return v.addAction(t),t.payload;default:return e}}function c(e,t){switch(void 0===e&&(e=null),t.type){case"EDIT_VEHICLE_RESPONSE":return v.addAction(t),t.payload;default:return e}}function d(e,t){switch(void 0===e&&(e=null),t.type){case"ADD_VEHICLE_RESPONSE":return v.addAction(t),t.payload;default:return e}}function p(e,t){switch(void 0===e&&(e=null),t.type){case"CREATE_GROUP_RESPONSE":return v.addAction(t),t.payload;default:return e}}function u(e,t){switch(void 0===e&&(e=null),t.type){case"ADD_VEHICLES_IN_GROUP":return v.addAction(t),t.payload;default:return e}}function h(e,t){switch(void 0===e&&(e=null),t.type){case"CALLED_EDIT_VEHICLE_SOURCE":return v.addAction(t),t.payload;default:return e}}function g(e,t){switch(void 0===e&&(e=null),t.type){case"REFRESH_LIST":return v.addAction(t),t.payload;default:return e}}var f=i("H8ZI");t.a=n,t.b=o,t.c=r,t.d=s,t.g=a,t.e=l,t.f=c,t.l=d,t.h=p,t.i=u,t.j=h,t.k=g;var v=new f.a},TvUs:function(e,t){e.exports='\x3c!--Top Header to be shown in mobile view only --\x3e\r\n\r\n<div class="top-header" id="top-head" *ngIf="view!=\'web\'" >\r\n  <div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">\r\n      <span >\r\n        <i style="color:white;" (click)="goToManageOrganisationView()" class="fa fa-arrow-left" aria-hidden="true" ></i>\r\n      </span>\r\n    <span>\r\n        <label style="color:white;margin-left: 10px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">User Management</label>\r\n      </span>\r\n\r\n    \x3c!--<span style="margin-left: auto;margin-right:45px;" >--\x3e\r\n    \x3c!--</span>--\x3e\r\n  </div>\r\n</div>\r\n\r\n\x3c!--Top header ends here--\x3e\r\n\r\n\r\n\r\n<app-usermanagement-mobile-view  *ngIf="view !=\'web\'"></app-usermanagement-mobile-view>\r\n\r\n<app-usermanagement-web-view  *ngIf="view ==\'web\'" ></app-usermanagement-web-view>\r\n'},U4oe:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},UIho:function(e,t,i){"use strict";var n=i("3j3K");i.d(t,"a",function(){return r}),i.d(t,"b",function(){return s}),i.d(t,"e",function(){return a}),i.d(t,"c",function(){return l}),i.d(t,"d",function(){return c});var o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=function(){function e(){}return e.prototype.transform=function(e,t){return void 0===t||void 0===t[2]||void 0==t[1]||void 0==t[0]?[]:Array.isArray(e)?""==t[2]?e:e.filter(function(e){return-1!=e[t[1]].toUpperCase().indexOf(t[2].toUpperCase())||-1!=e[t[0]].toUpperCase().indexOf(t[2].toUpperCase())}):e},e}();r=o([i.i(n.Pipe)({name:"locHisVehListfilter",pure:!0})],r);var s=function(){function e(){}return e.prototype.transform=function(e,t){return void 0===t||void 0==t[1]||void 0==t[0]?[]:Array.isArray(e)?""==t[1]?e:e.filter(function(e){return-1!=e[t[0]].toUpperCase().indexOf(t[1].toUpperCase())}):e},e}();s=o([i.i(n.Pipe)({name:"vehicleFilter",pure:!0})],s);var a=function(){function e(){}return e.prototype.transform=function(e,t){return void 0===t||void 0==t[1]||void 0==t[0]?[]:Array.isArray(e)?""==t[1]?e:e.filter(function(e){return""+e[t[0]]==""+t[1]}):e},e}();a=o([i.i(n.Pipe)({name:"vehicleFilterByStatus",pure:!0})],a);var l=function(){function e(){}return e.prototype.transform=function(e,t){if(void 0===t||void 0==t[1]||void 0==t[0])return[];if(!Array.isArray(e))return e;if(""==t[1])return e;if("EnrouteForPickUp"==t[1]){return e.filter(function(e){return""+e[t[0]]==""+t[1]||""+e[t[0]]=="AtPickUpPoint"})}return e.filter(function(e){return""+e[t[0]]==""+t[1]})},e}();l=o([i.i(n.Pipe)({name:"tripFilter",pure:!0})],l);var c=function(){function e(){}return e.prototype.transform=function(e,t){return void 0===t||void 0==t[1]||void 0==t[0]?[]:Array.isArray(e)?""==t[1]?e:e.filter(function(e){return""+e[t[0]]==""+t[1]}):e},e}();c=o([i.i(n.Pipe)({name:"tripFilterDesktop",pure:!0})],c)},V88l:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".trip-container{padding:4px}.trip-container div{font-family:Gotham-Rounded-Medium,Sans-Serif!important;color:#46465f}agm-map{height:calc(100vh - 230px)}button{color:#fff;background-color:#1e88e5}.searchbox:focus{width:100%}.top-header{width:100%;padding-bottom:3px}.searchBox{position:absolute;z-index:10;width:100%;text-align:center}.searchBox input{padding-left:5px;padding-right:24px;width:calc(93% - 24px);height:30px;margin-top:7px;border:2px solid #5f9ea0;border-radius:10px;font-size:15px;outline:none}.clear_search_box{font-size:26px;border-radius:13%;position:absolute;right:4%;top:10px;cursor:pointer}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}.design{min-width:50px;height:21px;border:none;border-bottom:1px solid #d3d3d3;font-size:15px}.vehicle-hover:hover{background-color:beige}.select-vehicle{padding:10px;color:#fff;border-radius:21px;font-size:18px}.vehicle-list{list-style:none;margin-top:-3px;padding-left:10px;margin-bottom:5px;display:block}.vehicle-list li{border-radius:3px;padding:7px;background-color:beige;margin-bottom:7px;float:left;margin-right:10px}.remove-vehicle{padding:4px;line-height:12px;color:#6495ed;float:right;font-size:18px;margin-right:-14px;background-color:#fffacd;margin-top:-16px;border-radius:13px}.remove-vehicle:focus,.remove-vehicle:hover{color:#fff;text-decoration:none;cursor:pointer;background-color:#6495ed}.slow-expand{padding-bottom:6px;position:absolute;top:2px;right:0;width:calc(100% - 50px)}",""]),e.exports=e.exports.toString()},"VZ/w":function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("cikh"),s=i("RXVW"),a=i("yvhv"),l=i("nJr4"),c=i("+rVk"),d=i("lhiL"),p=i("7T94"),u=i("j/qF"),h=i("pqfg"),g=i("uvar"),f=i("zD8p"),v=i("8/GY"),m=i("6Zjg"),y=i("9RF9"),x=i("9SVR"),b=i("DwWQ"),T=i("FEPL"),S=i("Dkvd"),w=i("BTfJ"),D=i("W8x/"),_=i("aJch"),L=i("qdP6"),k=i("qazM"),O=i("2iJx"),E=i("2HuV"),A=i("yJmJ"),R=i("arFf"),P=i("pjGp"),I=i("BTQI"),N=i("FbGK"),j=i("Cl9l"),F=i("+FUQ"),M=i("96eg"),C=i("JYKk"),V=i("YevT"),z=i("+Y5r"),H=i("WjdW"),U=i("7gsn"),G=i("VgH2"),B=i("3h9r"),W=i("gGQI"),q=i("v7U5"),J=i("qas2"),K=i("43U1"),Y=i("RC3W"),X=i("tMY/"),Z=i("eWfs"),Q=i("Xvbe"),$=i("/hOk");i.d(t,"a",function(){return oe});var ee=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},te=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ie=[{path:"sendOTP",component:d.a},{path:"userLogin",component:g.a},{path:"userSignup",component:b.a}],ne=[{path:"",redirectTo:"vtsdashboard",pathMatch:"full"},{path:"vtsdashboard",component:r.a,children:[{path:"vehicleList",component:j.a},{path:"trip/status",component:A.a},{path:"pieChart",component:s.a},{path:"mapsComponents",component:I.a},{path:"openStreetsMaps",component:a.a},{path:"statisticsWeb",component:l.a},{path:"statisticsMobile",component:c.a},{path:"stoppageReport",component:p.a},{path:"overspeedReport",component:u.a},{path:"runningReport",component:h.a},{path:"locationHistory",component:N.a},{path:"locHisVehicleList",component:f.a},{path:"settingComponent",component:v.a},{path:"addTrip",component:m.a},{path:"addTripTemplate",component:K.a},{path:"tripTemplateStatus",component:Y.a},{path:"editTripTemplate",component:X.a},{path:"selectedVehicle",component:y.a},{path:"vehicleActivity",component:x.a},{path:"vehicleSharing",component:T.a},{path:"trip/status/details",component:R.a},{path:"gpsDisconnected",component:w.a},{path:"addShipperLocation",component:D.a},{path:"trip/status/details/editTripLocation",component:P.a},{path:"addTripLocation",component:_.a},{path:"selectVehicleTimelineReport",component:k.a},{path:"vehicleTimelineReport",component:L.a},{path:"scheduleList",component:O.a},{path:"createSchedule",component:E.a},{path:"configureAlerts",component:V.a},{path:"addAlerts",component:z.a},{path:"vehicleDashboard",component:F.a},{path:"vehicleDashboardMobile",component:C.a},{path:"vehicleDashboardWeb",component:M.a},{path:"userManagementConsole",component:H.a},{path:"userManagementConsoleWeb",component:U.a},{path:"userManagementConsoleMobile",component:G.a},{path:"manageOrganisation",component:B.a},{path:"manageVehicles",component:W.a},{path:"editVehicles",component:q.a},{path:"groupedVehiclesList",component:J.a},{path:"addNewOrganisation",component:Z.a},{path:"freightLocationPicker",component:Q.a},{path:"alertsNotification",component:$.a}]}],oe=function(){function e(e){this.angularitics=e}return e}();oe=ee([i.i(n.NgModule)({imports:[o.e.forRoot(ie),o.e.forChild(ne),S.b.forRoot([S.a])],exports:[o.e]}),te("design:paramtypes",["function"==typeof(re=void 0!==S.b&&S.b)&&re||Object])],oe);var re},VcMs:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"div,md-card{font-family:Gotham-Rounded-Medium,Sans-Serif!important}md-card{margin-top:10px;padding:5px;color:#252525;font-size:13px}button{color:#fff;background-color:#1e88e5;padding:0;min-width:0}.vehicle-list{list-style:none;margin-top:-3px;padding-left:10px;margin-bottom:5px;display:block}.vehicle-list li{border-radius:3px;padding:7px;background-color:beige;margin-bottom:7px;float:left;margin-right:10px}.remove-vehicle{padding:4px;line-height:12px;color:#6495ed;float:right;font-size:18px;margin-right:-14px;background-color:#fffacd;margin-top:-16px;border-radius:13px}.remove-vehicle:focus,.remove-vehicle:hover{color:#fff;text-decoration:none;cursor:pointer;background-color:#6495ed}.share-download i{font-size:16px;padding:5px;margin-right:15px}.share-download i span{font-size:8px;vertical-align:8px;margin-left:-4px}.share-download:focus,.share-download i:hover{color:#6495ed;text-decoration:none;cursor:pointer}.vehicle-hover:hover{background-color:beige}.select-vehicle{padding:10px;color:#fff;border-radius:21px;font-size:18px}.img-container{margin-top:-8px;height:32px}.view-details{padding:5px;margin-left:20px;display:flow-root}.view-details div{margin-bottom:5px;max-width:300px;float:left;margin-right:35px;width:100%}.edited-datepicker>>>div.picker-control.footer{font-size:18px!important;line-height:35px!important;height:70px!important}.edited-datepicker>>>div.picker-popup{height:auto}.schudle-icon{position:absolute;top:11px;right:25px;color:#fff;font-size:23px}",""]),e.exports=e.exports.toString()},VgH2:function(e,t,i){"use strict";var n=i("3j3K");i.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();s=o([i.i(n.Component)({selector:"app-usermanagement-mobile-view",template:i("PC5+"),styles:[i("x3AG")]}),r("design:paramtypes",[])],s)},Vi7G:function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100">\r\n    \x3c!--<div class="top-header" id="top-head" >--\x3e\r\n      \x3c!--<div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">--\x3e\r\n        \x3c!--<span  (click)="back()" >--\x3e\r\n          \x3c!--<i style="color:white;" class="fa fa-arrow-left" aria-hidden="true" ></i>--\x3e\r\n        \x3c!--</span>--\x3e\r\n        \x3c!--<span>--\x3e\r\n          \x3c!--<label style="color:white;margin-left: 17px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">Add Trip</label>--\x3e\r\n        \x3c!--</span>--\x3e\r\n      \x3c!--</div>--\x3e\r\n\r\n    \x3c!--</div>--\x3e\r\n\r\n  <div class="main-container" style="padding-bottom:10px;height: calc(100vh - 61px)" >\r\n\r\n    <div class="trip-container">\r\n\r\n      \x3c!--<div style="padding: 6px 6px;display:flex">--\x3e\r\n          \x3c!--<input class="design" placeholder="{{\'Pickup Time\' | translate }}" [autoClose] = "false" style="min-width: 100%;" [ngModel]="pickupTime | date: \'dd/MM/yyyy ,hh:mm  a\'" [(dateTimePicker)]="pickupTime" [pickerType]="\'both\'"--\x3e\r\n                 \x3c!--[hourTime]="\'12\'" readonly />--\x3e\r\n        \x3c!--</div>--\x3e\r\n\r\n      <div style="padding: 12px 6px 6px 6px;">\r\n        <div>\r\n            <md-chip-list style="margin-bottom:-10px">\r\n                <md-chip style="margin: 3px" *ngFor="let vehicle of selectedVehicleList; let i = index;"\r\n                         color="accent">\r\n                  {{vehicle}}\r\n                  <i class="fa fa-close" (click)="remove(i)"></i>\r\n                </md-chip>\r\n              </md-chip-list>\r\n        </div>\r\n        <md-input-container style="width: 100%;margin-top: -10px">\r\n              <input mdInput\r\n              placeholder="Vehicle Numbers"\r\n\r\n              (focus)="showVehicleListDialogue()"\r\n              #chip  readonly >\r\n              \x3c!-- (keydown.enter)="add(chip.value)"      --\x3e\r\n        </md-input-container>\r\n      </div>\r\n\r\n      \x3c!--&lt;!&ndash;   *************  choose location box **************** &ndash;&gt;--\x3e\r\n      \x3c!--<div *ngIf="isShowLocationDialog"   class="mycustomDialog" style="padding-top: 70px;">--\x3e\r\n        \x3c!--<div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">--\x3e\r\n\r\n        \x3c!--<div class="modal-header">--\x3e\r\n          \x3c!--<span class="close" (click)="isShowLocationDialog=false;" >&times;</span>--\x3e\r\n          \x3c!--<label style="color: white; font-weight: bold">{{\'Select Location\' | translate }}</label>--\x3e\r\n        \x3c!--</div>--\x3e\r\n\r\n        \x3c!--<app-freight-location-picker  (onLocationPick)=\'setLocation($event)\'></app-freight-location-picker>--\x3e\r\n        \x3c!--</div>--\x3e\r\n      \x3c!--</div>--\x3e\r\n     \x3c!--&lt;!&ndash;choose location dialog ends here&ndash;&gt;--\x3e\r\n\r\n      \x3c!--   *************  add new vehicle box **************** --\x3e\r\n      <div *ngIf="isAddVehicleDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n        <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n          <div class="modal-header">\r\n            <span class="close" (click)="isAddVehicleDialog=false;" >&times;</span>\r\n            <label style="color: white; font-weight: bold">{{\'Select Vehicle\' | translate }}</label>\r\n          </div>\r\n          \x3c!--<div style="padding: 5px;margin-top:5px;text-align: right">--\x3e\r\n            \x3c!--<md-input-container style="width: 100%;margin-bottom: -16px"  >--\x3e\r\n              \x3c!--<input mdTooltip="{{\'Search\' | translate }}" mdInput  placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" >--\x3e\r\n            \x3c!--</md-input-container>--\x3e\r\n          \x3c!--</div>--\x3e\r\n          <div  style="padding: 5px;font-size: 13px;">\r\n\r\n            <div style="padding: 5px;display: flex">\r\n                <div style="width: 100%;">\r\n                  <md-input-container style="width: 96%;" >\r\n                    <input mdTooltip="{{\'Search\' | translate }}" mdInput  placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" >\r\n                  </md-input-container>\r\n                </div>\r\n                <div style="padding-top: 6px;">\r\n                  <button md-raised-button style="width:47px;line-height: 27px;" (click)="isAddVehicleDialog=false;">{{\'OK\' | translate }}</button>\r\n                </div>\r\n              </div>\r\n\r\n            <div style="height: 250px;overflow: auto;padding-bottom: 3px;" >\r\n\r\n              <div *ngFor="let vehicle of vehicleList | vehicleFilter: [\'vehicleRegistrationNumber\', search]; let ind=index" >\r\n                <md-card  style="margin-top: 2px;cursor: pointer;padding:16px;display: flex;" class="vehicle-hover"\r\n                          (click)="vehicle[\'select\']=!vehicle[\'select\'];checkValid(ind,vehicle[\'vehicleRegistrationNumber\'])" >\r\n                  <div style="min-width: 40px">\r\n                 <span *ngIf="vehicle[\'select\']" class="select-vehicle" style="background-color: deepskyblue;">\r\n                   <i class="fa fa-check" aria-hidden="true"></i>\r\n                 </span>\r\n\r\n                 <span *ngIf="!vehicle[\'select\']" class="select-vehicle" style="background-color: grey;">\r\n                   <i class="fa fa-slack" aria-hidden="true"></i>\r\n                 </span>\r\n\r\n                  </div>\r\n                  <span style="margin-left: 18px;font-size: 16px;color: #000;">{{vehicle[\'vehicleRegistrationNumber\']}}</span>\r\n                </md-card>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \x3c!--Add new vehicle dialog ends here--\x3e\r\n\r\n      \x3c!--<div style="padding: 6px 6px;margin-top: -13px;">--\x3e\r\n        \x3c!--<md-input-container style="width: 100%;" >--\x3e\r\n          \x3c!--<input  placeholder="Trip Origin" (focus)="setLocationType(\'origin\');"   mdInput [ngModel]="originTripAddress" name="tripOrigin" id="tripOrigin"--\x3e\r\n                 \x3c!--onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;" required>--\x3e\r\n        \x3c!--</md-input-container>--\x3e\r\n      \x3c!--</div>--\x3e\r\n\r\n\r\n      <div>\r\n        <app-freight-location-picker [inputType]="\'origin\'" [locationFromTemplate]="selectedTemplateLocation"  [pickerLocationType]="typeOfLocationCreator" (onLocationPick)=\'setOriginLocation($event)\'></app-freight-location-picker>\r\n      </div>\r\n\r\n\r\n\r\n    \x3c!--<div style="z-index: 5;overflow: visible; position: fixed;background-color: rgba(245,245,245,1);width: 97%;margin-top: -21px;" *ngIf="showAddressList">--\x3e\r\n      \x3c!--<span *ngFor="let location of locationNameList">--\x3e\r\n        \x3c!--<ul style="list-style: none;margin-left: -32px;">--\x3e\r\n          \x3c!--<li (click)="setOrigin(location)">{{location?.name}}<hr></li>--\x3e\r\n        \x3c!--</ul>--\x3e\r\n      \x3c!--</span>--\x3e\r\n      \x3c!--<span>--\x3e\r\n        \x3c!--<ul>--\x3e\r\n          \x3c!--<li (click)="tripOriginDialog(\'origin\')">ADD NEW ADDRESS</li>--\x3e\r\n        \x3c!--</ul>--\x3e\r\n      \x3c!--</span>--\x3e\r\n    \x3c!--</div>--\x3e\r\n\r\n      \x3c!--<div style="padding: 6px 6px;margin-top: -13px;">--\x3e\r\n        \x3c!--<md-input-container style="width: 100%;" >--\x3e\r\n          \x3c!--<input  placeholder="Trip Destination" (focus)="setLocationType(\'destination\')"  mdInput [ngModel]="destinationTripAddress" name="tripDestination" id="tripDestination"--\x3e\r\n                 \x3c!--onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;"  required>--\x3e\r\n        \x3c!--</md-input-container>--\x3e\r\n      \x3c!--</div>--\x3e\r\n\r\n\r\n      <div>\r\n        <app-freight-location-picker [inputType]="\'destination\'"  [locationFromTemplate]="selectedTemplateLocation" [pickerLocationType]="typeOfLocationCreator" (onLocationPick)=\'setDestinationLocation($event)\'></app-freight-location-picker>\r\n      </div>\r\n\r\n\r\n\r\n      <div style="padding: 6px 6px;display:flex">\r\n        <input class="design" placeholder="{{\'Pickup Time\' | translate }}" [autoClose] = "false" style="min-width: 100%;" [ngModel]="pickupTime | date: \'dd/MM/yyyy ,hh:mm  a\'" [(dateTimePicker)]="pickupTime" [pickerType]="\'both\'"\r\n               [hourTime]="\'12\'" readonly />\r\n      </div>\r\n\r\n      <div style="padding: 6px 6px;display:flex">\r\n\r\n        <div style="width: 50%">\r\n          <md-input-container style="width: 90%" >\r\n          <input type="number" placeholder="Transit Days"  mdInput [(ngModel)]="transitDays" required>\r\n          </md-input-container>\r\n        </div>\r\n\r\n        <md-input-container style="width: 50%" >\r\n          <input type="number" placeholder="Distance in km"  mdInput [(ngModel)]="distance">\r\n        </md-input-container>\r\n      </div>\r\n\r\n      <div style="padding: 0px 6px;display:flex;margin-top: -10px;">\r\n\r\n        <div style="width: 50%;">\r\n          <md-input-container style="width: 90%" >\r\n            <input placeholder="Material"  mdInput [(ngModel)]="material" >\r\n          </md-input-container>\r\n        </div>\r\n\r\n        <div style="width: 50%;">\r\n          <md-input-container style="width: 90%" >\r\n            <input type="number" placeholder="Quantity"  mdInput [(ngModel)]="quantity" >\r\n          </md-input-container>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      <div style="padding: 0px 6px;display:flex">\r\n\r\n        <div style="width: 50%">\r\n          <md-input-container style="width: 90%" >\r\n            <input placeholder="Driver\'s Name"  mdInput [(ngModel)]="driverName" >\r\n          </md-input-container>\r\n        </div>\r\n\r\n        <div style="width: 50%">\r\n          <md-input-container style="width: 90%" >\r\n            <input type="number"  onkeydown="if(event.target.value.length>=10 && event.keyCode!=8 && event.keyCode!=13 )return false;"\r\n                   placeholder="Driver Mob"  mdInput [(ngModel)]="driverMob" >\r\n          </md-input-container>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n      <div style="padding: 0px 6px;display: flex">\r\n        <md-input-container style="width: 100%" >\r\n          <input placeholder="Remarks"  mdInput [(ngModel)]="remarks" >\r\n        </md-input-container>\r\n      </div>\r\n\r\n      <div style="margin-top:-10px;text-align:right;" >\r\n        <button md-raised-button  (click)="cancelAddTrip()" style="margin-right: 15px">{{\'Cancel\' | translate}}</button>\r\n        <button md-raised-button [disabled]="isClicked" (click)="addQuickTripData()"  >{{\'Add Trip\' | translate}}</button>\r\n      </div>\r\n      <div *ngIf="commandType==\'skip\'" style="overflow-x:auto;">\r\n        <table>\r\n         <tr>\r\n           <td  *ngFor="let template of tripTemplateList" >\r\n             <md-card style="font-size:13px;height:40px"  (click)="goselectedTemplate(template)">\r\n                <div fxLayout="row" style="width:100%">\r\n                    <span fxFlex>{{template?.origin?.name}}</span>\r\n                    <span><i class="fa fa-minus" style="width:20px"></i></span>\r\n                    <span fxFlex>{{template?.destination?.name}}</span>\r\n                </div>\r\n                <div fxLayout="row" style="width:100%">\r\n                      <span fxFlex>{{template.material}}</span>&nbsp;\r\n                      <span fxFlex>{{template.distance}}KM</span>&nbsp;\r\n                      <span fxFlex>{{template.quantity}}MT</span>\r\n                </div>\r\n              </md-card>\r\n        </td>\r\n        </tr>\r\n        </table>\r\n      </div>\r\n  </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'},"W8x/":function(e,t,i){"use strict";var n=i("3j3K"),o=i("tGq5");i.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.mapApiWrapper=e}return e.prototype.ngAfterViewInit=function(){var e=this;this.agmMap.mapReady.subscribe(function(t){e.map=t})},e.prototype.ngOnInit=function(){this.latitudeOrigin=21.149633,this.longitudeOrigin=79.081145,this.latitudeDestination=21.149633,this.longitudeDestination=79.081145,this.oZoom=4,this.dZoom=4},e.prototype.markerDragPosition=function(e){console.log(e),console.log("drag end");var t=e.coords.lat,i=e.coords.lng;console.log(this.map);var n=this.getNPointsCircularPolygone({lat:t,lng:i},.5,5);this.addPolygone(this.map,n)},e.prototype.addPolygone=function(e,t){var i=new google.maps.Polygon({paths:t,draggable:!0,editable:!0,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35});return i.setMap(e),i},e.prototype.getNPointsCircularPolygone=function(e,t,i){function n(e){return e*Math.PI/180}function o(e){return 180*e/Math.PI}function r(e,t,i){i/=6371,t=n(t);var r=n(e.lat),s=n(e.lng),a=Math.asin(Math.sin(r)*Math.cos(i)+Math.cos(r)*Math.sin(i)*Math.cos(t)),l=s+Math.atan2(Math.sin(t)*Math.sin(i)*Math.cos(r),Math.cos(i)-Math.sin(r)*Math.sin(a));return isNaN(a)||isNaN(l)?null:new google.maps.LatLng(o(a),o(l))}var s=0,a=[];for(s=1;s<=i;s++)a.push(r(e,360/i*s,t));return a},e}();r([i.i(n.ViewChild)(o.c),s("design:type",Object)],a.prototype,"agmMap",void 0),a=r([i.i(n.Component)({selector:"app-add-shipper-location",template:i("4AaW"),styles:[i("nVN6")]}),s("design:paramtypes",["function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],a);var l},WjdW:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v");i.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e){this._store=e,this.view="",this.view=document.view,this._store.dispatch({type:"TITLE",payload:"User Management"})}return e.prototype.ngOnInit=function(){},e.prototype.goToManageOrganisationView=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/manageOrganisation"]))},e}();l=s([i.i(n.Component)({selector:"app-user-management-console",template:i("TvUs"),styles:[i("Wq3/")]}),a("design:paramtypes",["function"==typeof(c=void 0!==o.b&&o.b)&&c||Object])],l);var c},"Wq3/":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".top-header{width:100%;padding-bottom:3px;top:0;z-index:100;position:absolute}",""]),e.exports=e.exports.toString()},WqDc:function(e,t){e.exports='<div *ngIf="!isRecordAvailable" class="align-center" >\r\n  <div style="text-align: center">\r\n    <label style="font-family: Arial">No Alert Created</label>\r\n  </div>\r\n  <div style="text-align: center; padding: 5%">\r\n <button md-fab color="primary" (click)="goToAddAlerts()">\r\n  <i class="fa fa-plus" aria-hidden="true" style="font-size: 20px;color: white "></i>\r\n</button>\r\n  </div>\r\n    <label style="font-family: Arial; font-size: small">(Click to create new alert)</label>\r\n </div>\r\n\r\n\x3c!--<script>--\x3e\r\n  \x3c!--function myFunction(str1, str2) {--\x3e\r\n    \x3c!--console.log(str1, str2);--\x3e\r\n    \x3c!--// var head= str1.replace(\\\\([.*?)\\\\])*/g, srt2);--\x3e\r\n    \x3c!--// document.getElementById("alertName").innerHTML = head;--\x3e\r\n    \x3c!--// return head;--\x3e\r\n  \x3c!--}--\x3e\r\n\x3c!--<\/script>--\x3e\r\n\r\n<div  *ngIf="isShowConfirmDialogue" id="myParameterModal" class="modal">\r\n  \x3c!-- Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowConfirmDialogue=false">&times;</span>\r\n    <h4> Are you sure to delete alert?</h4>\r\n    <div>\r\n      <button md-button (click)="deleteSelecetedAlert(alert)">YES</button>\r\n      <button md-button (click)="isShowConfirmDialogue=false">NO</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf="isRecordAvailable" style="overflow: auto;height: calc(100vh - 45px);">\r\n\r\n <div *ngFor="let alert of alertsList; let ind=index">\r\n\r\n<script>myFunction(alert[\'actions\'][0][\'valueTemplate\'],alert[\'vehicles\'].length+" vehicles")<\/script>\r\n\r\n      <div style="width: 100%">\r\n        <button md-icon-button style="float: right;z-index: 5" (click)="showConfirmDialogue(alert)" >\r\n            \x3c!--<i class="fa fa-times-circle-o" aria-hidden="true" style="font-size: large"></i>--\x3e\r\n            <i class="fa fa-times" aria-hidden="true" style="font-size: large; color: #9b9b9b"></i>\r\n        </button>\r\n      </div>\r\n\r\n  <md-card style="margin:5px;padding: 10px;" (click)="editSelectedAlert(alert)">\r\n    \x3c!--<h6 id="alertName"></h6>--\x3e\r\n\r\n    \x3c!--<div fxLayout="row">--\x3e\r\n      \x3c!--<div fxFlex="90">--\x3e\r\n        \x3c!--{{alert[\'actions\'][0][\'valueTemplate\'].replace(\'Vehicle No [$valueOf( $join( vehicle $valueOf( event$ vehicleId)) vehicleRegistrationNumber)]\', alert[\'vehicles\'].length+" vehicles")}}--\x3e\r\n      \x3c!--</div>--\x3e\r\n      \x3c!--<div fxFlex="10">--\x3e\r\n        \x3c!--<button md-icon-button >--\x3e\r\n          \x3c!--<i class="fa fa-times-circle-o" aria-hidden="true"></i>--\x3e\r\n        \x3c!--</button>--\x3e\r\n      \x3c!--</div>--\x3e\r\n    \x3c!--</div>--\x3e\r\n    <md-card-header>\r\n     \x3c!--{{alert[\'actions\'][0][\'valueTemplate\']}}--\x3e\r\n     {{alert[\'actions\'][0][\'valueTemplate\'].replace(\'Vehicle No [$valueOf( $join( vehicle $valueOf( event$ vehicleId)) vehicleRegistrationNumber)]\', "Alert if vehicle")}}\r\n     \x3c!--{{alert[\'actions\'][0][\'valueTemplate\'].replace(/ *\\[[^\\]]*]/, alert[\'vehicles\'].length)}}--\x3e\r\n    </md-card-header>\r\n  <md-card-content>\r\n\r\n    <div fxLayout="row" style="margin-top:2%;">\r\n          <div fxFlex="60" >\r\n            <span> Assigned to {{alert[\'vehicles\'].length}} vehicles</span>\r\n          </div>\r\n          <div fxFlex="35">\r\n            <b>Action:</b>{{alert[\'actions\'][0][\'type\']}}\r\n          </div>\r\n      </div>\r\n\r\n\r\n  <div fxLayout="row">\r\n    <div fxFlex="80" style="padding-top: 10px">\r\n      <span *ngIf="alert[\'alertEventTopic\']== \'hourMovTopic\'"  ><label style="background-color: blue; color: white; padding-left: 7px;padding-right: 7px;border-radius: 10px;">Periodic Alert</label></span>\r\n      <span *ngIf="alert[\'alertEventTopic\']== \'vehiclegpsstatetopic\'" ><label style="background-color: darkorange; color: white;padding-left: 7px;padding-right: 7px;border-radius: 10px;">Stop Alert</label></span>\r\n      <span *ngIf="alert[\'alertEventTopic\']== \'deviceEvent\'" ><label style="background-color: red; color: white; padding-left: 7px;padding-right: 7px;">Power Disconnnect Alert</label></span>\r\n    </div>\r\n    <div fxFlex="10">\r\n      \x3c!--<button md-icon-button (click)="editSelectedAlert(alert)">--\x3e\r\n        \x3c!--<i class="fa fa-pencil" aria-hidden="true"></i>--\x3e\r\n      \x3c!--</button>--\x3e\r\n    </div>\r\n    <div fxFlex="10">\r\n      \x3c!--<button md-icon-button (click)="deleteSelecetedAlert(alert)">--\x3e\r\n        \x3c!--<i class="fa fa-trash" aria-hidden="true" ></i>--\x3e\r\n      \x3c!--</button>--\x3e\r\n\r\n    </div>\r\n  </div>\r\n</md-card-content>\r\n\r\n</md-card>\r\n\r\n</div>\r\n  <div style="height: 50px; width: 100%"></div>\r\n\r\n<button md-fab color="primary" style="position: absolute; top: 90%" [style.left]="(view ==\'web\')?\'90%\':\'80%\'" (click)="addNewAlert()">\r\n  <i class="fa fa-plus" aria-hidden="true" style="font-size: 20px;color: white "></i>\r\n</button>\r\n</div>\r\n'},X1G1:function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100"[style.position]="view !=\'web\'?\'absolute\':\'\'" >\r\n  <div *ngIf="view !=\'web\'" class="top-header" id="top-head" >\r\n    <div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">\r\n      <span fxFlex="3%" (click)="back()" >\r\n        <i style="color:white;" class="fa fa-arrow-left" aria-hidden="true" ></i>\r\n      </span>\r\n      <span fxFlex="82%">\r\n        <label style="color:white;margin-left: 17px;margin-top: 4px;font-weight:bold;font-size:larger;font-family: Gotham-Rounded-Medium, Sans-Serif">{{selectedVehicle[\'vehicleRegistrationNumber\']}}</label>\r\n      </span>\r\n      <i *ngIf="isDownload" (click)="download()" class="fa fa-download my-download" aria-hidden="true"  mdTooltip="{{\'Download pdf\' | translate }}">\r\n        <span class="download-csv">CSV</span>\r\n      </i>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div fxLayout="row" *ngIf="view ==\'web\'" style="padding: 10px;font-weight: bold;" >\r\n    <div style="display: grid" >\r\n      <span style="color: #858585;font-size:15px;">Vehicle Timeline Report</span>\r\n      <label style="margin-top: 4px;font-size:14px;color: #959595;">\r\n        <i class="fa fa-truck" aria-hidden="true"></i>\r\n        {{selectedVehicle[\'vehicleRegistrationNumber\']}}</label>\r\n    </div>\r\n    <div style="margin-left:auto;padding-right: 10px;" >\r\n      <button *ngIf="isDownload"  style="color:#372cca" (click)="download()" md-raised-button >\r\n      <i style="color:#372cca" class="fa fa-download" aria-hidden="true"  mdTooltip="{{\'Download pdf\' | translate }}">\r\n        <span class="download-csv">CSV</span>\r\n      </i> Download\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n  <div  fxLayout="row" fxLayout.xs="column"  style="overflow: hidden;" [style.height]="view ==\'web\'?\'calc(100vh - 103px)\':\'calc(100vh - 51px)\'" >\r\n    <section style="position:absolute;z-index:10;margin-top: 3px;left:4px;" >\r\n      <md-button-toggle-group class="my-toggle" #group="mdButtonToggleGroup" [(ngModel)]="mapType">\r\n        <md-button-toggle value="hybrid" >\r\n          <span>{{\'Satellite\'| translate}}</span>\r\n        </md-button-toggle>\r\n        <md-button-toggle value="roadmap" style="background-color:floralwhite;opacity: .6;">\r\n          <span>{{\'Map\' | translate}}</span>\r\n        </md-button-toggle>\r\n      </md-button-toggle-group>\r\n    </section>\r\n\r\n    <div   fxFlex.xs="50" fxFlex="60" fxFlex.gt-md="70" id="map" style="position: relative">\r\n      <agm-map [mapTypeId]="mapType" [zoom]="zoom" [latitude]="lat" [longitude]="long"  style="height: 100%">\r\n        <agm-marker *ngFor="let stopPos of polyLineStoppedArray"  [latitude]="stopPos.lat" [longitude]="stopPos.long" [iconUrl]="stopPos.isInfoWindowOpen?\'\':\'../../images/dot1.png\'">\r\n          <agm-info-window [isOpen] = "stopPos.isInfoWindowOpen" >\r\n            <div style="max-width: 150px;text-align:center">\r\n              {{stopPos.address}}\r\n            </div>\r\n          </agm-info-window>\r\n        </agm-marker>\r\n\r\n        <agm-polyline geodesic=true strokeColor="#098e02"  *ngFor="let poly of polyLineMovingArray">\r\n          <agm-polyline-point *ngFor="let point of poly" [latitude]="point[0]"  [longitude]="point[1]"  ></agm-polyline-point>\r\n        </agm-polyline>\r\n\r\n        <agm-polyline geodesic=true strokeColor="#87d80d"  *ngFor="let poly of stoppedPolyLineArray">\r\n          <agm-polyline-point *ngFor="let point of poly" [latitude]="point[0]"  [longitude]="point[1]"  ></agm-polyline-point>\r\n        </agm-polyline>\r\n        \x3c!--87d80d--\x3e\r\n      </agm-map>\r\n\r\n    </div>\r\n\r\n    <md-card   fxFlex.xs="100"  fxFlex="40" fxFlex.gt-md="30" id="timeline_card"  [style.margin-top]="isFullScreen?mapHeight:\'0px\'" class="show-fullscreen"\r\n               name="aa" style="overflow: hidden;z-index:11" >\r\n\r\n      <div (panup)="fullScreen()"  (pandown)="hideScreen()"   class="timeline-header" style="margin-top: -8px;display: flex;color: rgba(0, 0, 0, 0.87);">\r\n        \x3c!--<span  style="font-size: 13px;margin-right:auto;" >{{startTime | date : \'dd MMM yy hh:mm a\' }}</span>--\x3e\r\n        \x3c!--<span style="font-size: 14px;margin: 0px 2px;font-weight: bold">To</span>--\x3e\r\n        \x3c!--<span  style="font-size: 13px;margin-left:auto;" >{{endTime | date : \'dd MMM yy hh:mm a\' }}</span>--\x3e\r\n        <my-date-range-picker  name="mydaterange" [options]="myDateRangePickerOptions" (dateRangeChanged)="onDateRangeChanged($event)"\r\n                               [ngModel]="dateRange"  required></my-date-range-picker>\r\n      </div>\r\n\r\n      <div *ngIf="errorMsg != \'\'" style="width: 100%;text-align: center;padding-top: 6px;">\r\n        <span style="font-size: 15px;color: red" >{{errorMsg}}!!!</span>\r\n      </div>\r\n\r\n      <div style="height: 98%;overflow: auto;" >\r\n      <div style="color: rgba(0, 0, 0, 0.54);font-size: 13px;">\r\n        <div style="display: flex;padding: 3px">\r\n          <span style="margin-right:auto;" >{{\'Total Stop Duration\' | translate }}</span>\r\n          <span style="margin-left: 5px;" >{{totalStopDuration}}</span>\r\n        </div>\r\n        <div style="display: flex;padding: 3px" >\r\n          <span  style="margin-right:auto;" >Total Drive Duration</span>\r\n          <span  style="margin-left: 5px;" >{{this.totalMovingDuration}}</span>\r\n        </div>\r\n        <div style="display: flex;padding: 3px">\r\n          <span  style="margin-right:auto;" >Total Distance</span>\r\n          <span  style="margin-left: 5px;" >{{totalDistance/1000  | number : \'1.2-2\' }} km</span>\r\n        </div>\r\n      </div>\r\n      <hr style="border-style:ridge;border-width:1px;margin-top: 2px;margin-bottom: 2px;" >\r\n\r\n      <div style="overflow:auto;padding-top: 10px;" >\r\n        <section class="cd-timeline" *ngFor="let location of locationHislist;" style="padding-bottom: 30px;"> \x3c!--  loop here --\x3e\r\n\r\n          <div style="color: rgba(0, 0, 0, 0.54);"  *ngIf="location[\'state\']==\'0\' || location[\'state\']==\'Stopped\'" >\r\n              <button style="position: absolute"  md-icon-button class="timeline-icon">\r\n                <i class="fa fa-circle" aria-hidden="true"></i>\r\n              </button>\r\n            <div style="margin-left:45px;padding-top: 5px;">\r\n              <div style="font-size: 10px;">\r\n                   <span > {{location[\'startTime\'] | date:\'dd MMM yy hh:mm a\' }}</span>\r\n              </div>\r\n              <div style="margin-top: 7px">\r\n                   <span style="border-radius: 3px;padding: 1px;font-size: 14px;" >{{\'Stop\' | translate }}</span>\r\n                   <span style="float: right;margin-right: 5px;font-size: 10px;" >{{location[\'_duration\']}}</span>\r\n              </div>\r\n              <div (click)="location.isMore=true;goToMapLocation(location)" style="cursor: pointer;overflow:hidden;text-overflow:ellipsis;margin-top:4px">\r\n                  <span (click)="location.isMore=true"  #childEle style="font-size: 16px;font-weight: bold" [style.white-space]="location.isMore?\'normal\':\'nowrap\'" >\r\n                     {{(location.endPosition?.address)?(location.endPosition?.address):(location.startPosition.address)}}\r\n                  </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div style="color: rgba(0, 0, 0, 0.54);"  *ngIf="location[\'state\']==\'-1\' || location[\'state\']==\'Disconnected\'" >\r\n            <button style="position: absolute"  md-icon-button class="timeline-icon"><i style="color: #F44336" class="fa fa-stop" aria-hidden="true"></i></button>\r\n            <div style="margin-left:45px;padding-top: 5px;">\r\n              <div style="font-size: 10px;">\r\n                <span > {{location[\'startTime\'] | date:\'dd MMM yy hh:mm a\' }}</span>\r\n              </div>\r\n              <div style="margin-top: 7px">\r\n                <span style="color: #F44336;border-radius: 3px;padding: 3px;font-size: 14px;" >{{\'Disconnected\' | translate }}</span>\r\n                <span style="float: right;margin-right: 5px;font-size: 10px;" >{{location[\'_duration\']}}</span>\r\n              </div>\r\n              <div  (click)="location.isMore=true;" style="color:#F44336;overflow:hidden;text-overflow:ellipsis;margin-top:4px" >\r\n                  <span (click)="location.isMore=true" style="font-size: 16px;font-weight: bold"   #childEle class="header-text" [style.white-space]="location.isMore?\'normal\':\'nowrap\'" >\r\n                     {{(location.endPosition?.address)?(location.endPosition?.address):(location.startPosition.address)}}\r\n                  </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div *ngIf="location[\'state\']==\'1\'||location[\'state\']==\'Moving\'"  style="margin-left:45px;color: rgba(0, 0, 0, 0.54);padding-bottom: 8px;">\r\n            <div style="display: flex" >\r\n              \x3c!--<span > {{location[\'startTime\'] | date:\'dd MMM yy hh:mm a\' }}</span>--\x3e\r\n              <span style="margin-left:auto;margin-right: 5px;font-size: 10px" >{{location[\'_formattedDistance\']/1000  | number : \'1.2-2\' }} km</span>\r\n            </div>\r\n            <div style="padding-top: 4px;" >\r\n              <img style="height: 14px;" src="../../../../images/Truck_logo.png" alt="image" >\r\n              <span style="border-radius: 3px;padding: 3px;font-size: 14px;" >{{\'Moving\' | translate }}</span>\r\n              <span style="float: right;margin-right: 5px;font-size: 10px;margin-top: 5px;" >{{location[\'_duration\']}}</span>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <div style="height:50px"></div>\r\n      </div>\r\n      </div>\r\n    </md-card>\r\n\r\n  </div>\r\n</div>\r\n'},XRrY:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql")),c=i("Dkvd");i.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,i,r){var s=this;this.http=e,this._store=t,this.localStorageService=i,this.angularitics=r,this.defaultHeaders=new o.c,this.token="",this.unSub_token=null,this.tokenAuthorization=new n.EventEmitter,this.defaultHeaders.append("Access-Control-Allow-Origin","*"),this.defaultHeaders.append("Access-Control-Allow-Methods","GET,POST, OPTIONS, PUT, PATCH, DELETE"),this.tokenAuthorization.subscribe(function(e){var t=l.d.IP+"/user/authorize";s.checkTokenAuthorization(t,e).subscribe(function(t){if(console.log(t),"X"==t.error)return s.localStorageService.remove("TOKEN"),s.localStorageService.remove("AUTH_TOKEN"),void s._store.dispatch({type:"AUTHORIZATION",payload:{valid:!1,error:"X",msg:"error occur"}});if(200==t.status){s.localStorageService.set("TOKEN",e),s._store.dispatch({type:"AUTHORIZATION",payload:{valid:!0,error:"",msg:"User authorized"}});var i=s.customerDetail(e);console.log("this is token in after valid authorization"),console.log(i),s._store.dispatch({type:"CUSTOMER_DETAILS",payload:{error:"",customer:i}})}else s.localStorageService.remove("TOKEN"),s.localStorageService.remove("AUTH_TOKEN"),s._store.dispatch({type:"AUTHORIZATION",payload:{valid:!1,error:"X",msg:"Unauthorised user in response"}})},function(e){s.localStorageService.remove("TOKEN"),s.localStorageService.remove("AUTH_TOKEN"),s._store.dispatch({type:"AUTHORIZATION",payload:{valid:!1,error:"X",msg:e.json()}}),console.log(e),console.log(e.json())})})}return e.prototype.ngOnDestroy=function(){},e.prototype.checkTokenAuthorization=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n="Bearer "+t;i.set("authorization",n),console.log(e);var r=new o.d({method:o.e.Get,headers:i});return this.http.request(e,r).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e.prototype.customerDetail=function(e){var t=e.split(".")[1],i=t.replace("-","+").replace("_","/");return JSON.parse(window.atob(i))},e}();u=d([i.i(n.Injectable)(),p("design:paramtypes",["function"==typeof(h=void 0!==o.f&&o.f)&&h||Object,"function"==typeof(g=void 0!==s.b&&s.b)&&g||Object,"function"==typeof(f=void 0!==a.LocalStorageService&&a.LocalStorageService)&&f||Object,"function"==typeof(v=void 0!==c.a&&c.a)&&v||Object])],u);var h,g,f,v},Xvbe:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("Ths4"),s=(i.n(r),i("kZql")),a=i("WWmu");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i){var r=this;this.http=e,this.localStorageService=t,this._store=i,this.PATH="http://tracknet.fretron.com",this.FREIGHT="http://tracknet.fretron.com",this.defaultHeaders=new o.c,this.unSub_searchName=null,this.waitForLastResp=!1,this.locationNameList=[],this.recentLocationList=[],this.isRecentAvailable=!1,this.locationAvailable=!1,this.isPrivateLocationAvailable=!1,this.isSearchClicked=!1,this.isFavouriteLocationAvailable=!1,this.isHideList=!0,this.clickFilter="PUBLIC",this.addTripFreightLocation=new n.EventEmitter,this.publicFreightLocation=new n.EventEmitter,this.recentFreightLocation=new n.EventEmitter,this.privateFreightLocation=new n.EventEmitter,this.favouriteFreightLocation=new n.EventEmitter,this.addFavouriteLocation=new n.EventEmitter,this.removeFavouriteFLocation=new n.EventEmitter,this.isDialogOpen=!1,this.unSub_customerDetails=null,this.onLocationPick=new n.EventEmitter,this.searchLocation=new n.EventEmitter,this.locationFromTemplate=new n.EventEmitter,this.token=this.localStorageService.get("AUTH_TOKEN"),this.unSub_customerDetails=i.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&(r.orgId=e.customer.orgId)}),this.searchLocation.subscribe(function(e){var t=s.e.FERIGHT_LOCATION+"/search?type="+e.type+"&name="+e.name+"&geofenceType="+r.selected_value.type;r.searchLocationByName(t,name).subscribe(function(e){console.log(e),r.setLocationList(e)},function(e){console.log(e)})}),this.addTripFreightLocation.subscribe(function(e){console.log(e);var t=s.e.FERIGHT_LOCATION+"/locations/add";console.log(t),r.addFretLocation(e,t).subscribe(function(e){console.log(e),e.status},function(e){console.log(e)})}),this.publicFreightLocation.subscribe(function(e){r.publicFreight().subscribe(function(e){if(r.locationNameList=e.value,console.log(r.locationNameList),null!=r.locationNameList){console.log(r.locationNameList.length);for(var t=0;t<r.locationNameList.length;t++)r.locationNameList[t].isStared=!1}r.locationAvailable=!0,r.isPrivateLocationAvailable=!1,r.isFavouriteLocationAvailable=!1,console.log(r.locationNameList)},function(e){console.log(e)})}),this.recentFreightLocation.subscribe(function(e){r.recentFreight().subscribe(function(e){r.recentLocationList=e.value,r.recentLocationList.length>0&&(r.isRecentAvailable=!0,r.isPrivateLocationAvailable=!1,r.isFavouriteLocationAvailable=!1),console.log(r.recentLocationList)},function(e){console.log(e)})}),this.privateFreightLocation.subscribe(function(e){r.privateFreight().subscribe(function(e){if(console.log(e.value),r.locationNameList=e.value,r.locationNameList.length>0)for(var t=0;t<r.locationNameList.length;t++)r.locationNameList[t].isStared=!1;r.locationAvailable=!1,r.isRecentAvailable=!1,r.isPrivateLocationAvailable=!0,r.isFavouriteLocationAvailable=!1},function(e){console.log(e)})}),this.favouriteFreightLocation.subscribe(function(e){r.getFavouriteFreight().subscribe(function(e){console.log(e.value),r.locationNameList=e.value,r.isFavouriteLocationAvailable=!0,r.locationAvailable=!1,r.isRecentAvailable=!1,r.isPrivateLocationAvailable=!1},function(e){console.log(e)})}),this.addFavouriteLocation.subscribe(function(e){r.setFavouriteFreightLocation(e).subscribe(function(e){console.log(e)},function(e){console.log(e)})}),this.removeFavouriteFLocation.subscribe(function(e){r.removeFavouriteFreightLocation(e).subscribe(function(e){console.log(e)},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.ngOnInit=function(){var e=this;console.log(this.pickerLocationType),this.selected_value=this.pickerLocationType;this.inputType;this.locationFromTemplate.subscribe(function(t){console.log(t.source),console.log(t.destination),console.log(e.inputType),"origin"==e.inputType&&(e.locationName=t.source),"destination"==e.inputType&&(e.locationName=t.destination)})},e.prototype.searchLocationByName=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n="Bearer "+this.token;i.set("authorization",n);var r=new o.d({method:o.e.Get,headers:i});return this.http.request(e,r).map(function(e){if(console.log(e.status),console.log(e),200==e.status){return{status:e.status,data:e.json()}}})},e.prototype.setLocationList=function(e){if(console.log("setLocation"),console.log(e),null!=e&&200==e.status&&(console.log(e),this.waitForLastResp=!1,e.data.length>0)){for(var t=[],i=0;i<e.data.length;i++){var n={name:e.data[i].freightLocation.name,locObj:e.data[i]};t.push(n)}this.locationNameList=t,console.log(this.locationNameList)}},e.prototype.setFavouriteFreightLocation=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i="Bearer "+this.token;t.set("authorization",i);var n=new o.d({method:o.e.Post,headers:t,body:e}),r=s.e.FERIGHT_LOCATION+"/favourite/add";return console.log(r),this.http.request(r,n).map(function(e){if(console.log(e.status),console.log(e.json()),200==e.status)return e.json()})},e.prototype.removeFavouriteFreightLocation=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i="Bearer "+this.token;t.set("authorization",i);var n=new o.d({method:o.e.Get,headers:t}),r=s.e.FERIGHT_LOCATION+"/favourite/remove?uuid="+e.favFreightLocation.uuid;return console.log(r),this.http.request(r,n).map(function(e){if(console.log(e.status),console.log(e.json()),200==e.status)return e.json()})},e.prototype.getFavouriteFreight=function(){var e=new o.c(this.defaultHeaders.toJSON());e.set("Content-Type","application/json");var t="Bearer "+this.token;e.set("authorization",t);var i=new o.d({method:o.e.Get,headers:e}),n=s.e.FERIGHT_LOCATION+"/get/favourite?geofenceType="+this.selected_value.type;return console.log(n),this.http.request(n,i).map(function(e){if(console.log(e.status),console.log(e.json()),200==e.status)return e.json()})},e.prototype.privateFreight=function(){var e=new o.c(this.defaultHeaders.toJSON());e.set("Content-Type","application/json");var t="Bearer "+this.token;e.set("authorization",t),console.log(e);var i=new o.d({method:o.e.Get,headers:e}),n=s.e.FERIGHT_LOCATION+"/get/private?geofenceType="+this.selected_value.type;return console.log(n),this.http.request(n,i).map(function(e){if(console.log(e.status),console.log(e),200==e.status)return e.json()})},e.prototype.recentFreight=function(){var e=new o.c(this.defaultHeaders.toJSON());e.set("Content-Type","application/json");var t="Bearer "+this.token;e.set("authorization",t);var i=new o.d({method:o.e.Get,headers:e}),n=s.e.FERIGHT_LOCATION+"/get/recent?geofenceType="+this.selected_value.type;return console.log(n),this.http.request(n,i).map(function(e){if(console.log(e.status),console.log(e),200==e.status)return e.json()})},e.prototype.publicFreight=function(){var e=new o.c(this.defaultHeaders.toJSON()),t="Bearer "+this.token;e.set("Content-Type","application/json"),e.set("authorization",t);var i=new o.d({method:o.e.Get,headers:e}),n=s.e.FERIGHT_LOCATION+"/get/public?geofenceType="+this.selected_value.type;return console.log(n),this.http.request(n,i).map(function(e){if(console.log(e.status),console.log(e.json()),200==e.status)return e.json()})},e.prototype.onFilterClick=function(e){this.isSearchClicked=!0,console.log(e);var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i="Bearer "+this.token;t.set("authorization",i),t.set("orgUuid",this.orgId);new o.d({method:o.e.Get,headers:t});"PUBLIC"===e&&(this.clickFilter="PUBLIC",this.recentFreightLocation.emit(),this.publicFreightLocation.emit()),"MYLOCATIONS"==e&&(this.clickFilter="MYLOCATIONS",this.privateFreightLocation.emit()),"FAVOURITES"==e&&(this.clickFilter="FAVOURITES",this.favouriteFreightLocation.emit())},e.prototype.searchName=function(e){this.waitForLastResp=!0,0==e.toString().length&&(this.waitForLastResp=!1),this.locationAvailable=!0;var t="public";this.isPrivateLocationAvailable&&(t="private"),this.isFavouriteLocationAvailable&&(t="fav"),this.searchLocation.emit({name:e,type:t})},e.prototype.getFreightLocationObject=function(e){var t="Public";this.isPrivateLocationAvailable&&(t="Private"),console.log(e),this.freightObject=JSON.parse(JSON.stringify(e)),this.locationName=this.freightObject.name;var i={type:t,address:this.freightObject.address,geofence:this.freightObject.geofence,material:[""],name:this.freightObject.name};console.log(i),this.setLocation(i),this.addTripFreightLocation.emit(i),this.isDialogOpen=!1,this.locationAvailable=!1},e.prototype.onAddLocation=function(){this.selected_value,this.isDialogOpen=!0,this.isPrivateLocationAvailable=!1,this.isSearchClicked=!1,this.isFavouriteLocationAvailable=!1},e.prototype.setLocation=function(e){var t={};console.log(e),null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj source"),t=e.freightLocation):(console.log("contains No freight location Obj source"),t=e),console.log(t.name),this.locationName=t.name;this.onLocationPick.emit(e);this.locationAvailable=!1,this.isSearchClicked=!1,this.isPrivateLocationAvailable=!1,this.isFavouriteLocationAvailable=!1,console.log(e)},e.prototype.onSelection=function(){console.log(this.selected_value),this.isDialogOpen=!0},e.prototype.hideList=function(e){this.isHideList=e},e.prototype.hideDropdownMenu=function(){var e=this;setTimeout(function(){e.isHideList&&(e.isSearchClicked=!1,e.locationAvailable=!1)},200)},e.prototype.addFretLocation=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n="Bearer "+this.token;i.set("authorization",n),console.log(e);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(200==e.status)return e.json()})},e.prototype.setFavouriteLocation=function(e){e.isStared=!0,this.addFavouriteLocation.emit(e),console.log(e)},e.prototype.removeFavouriteLocation=function(e){this.removeFavouriteFLocation.emit(e),this.favouriteFreightLocation.emit(),console.log(e)},e}();l([i.i(n.Output)(),c("design:type",Object)],d.prototype,"onLocationPick",void 0),l([i.i(n.ViewChild)("searchOrigin"),c("design:type","function"==typeof(p=void 0!==n.ElementRef&&n.ElementRef)&&p||Object)],d.prototype,"searchOrigineElementRef",void 0),l([i.i(n.ViewChild)("searchDestination"),c("design:type","function"==typeof(u=void 0!==n.ElementRef&&n.ElementRef)&&u||Object)],d.prototype,"searchDestElementRef",void 0),l([i.i(n.Input)(),c("design:type",Object)],d.prototype,"pickerLocationType",void 0),l([i.i(n.Input)(),c("design:type",Object)],d.prototype,"inputType",void 0),l([i.i(n.Input)(),c("design:type",Object)],d.prototype,"locationFromTemplate",void 0),d=l([i.i(n.Component)({selector:"app-freight-location-picker",template:i("ZMFb"),styles:[i("zQPx")]}),c("design:paramtypes",["function"==typeof(h=void 0!==o.f&&o.f)&&h||Object,"function"==typeof(g=void 0!==r.LocalStorageService&&r.LocalStorageService)&&g||Object,"function"==typeof(f=void 0!==a.b&&a.b)&&f||Object])],d);var p,u,h,g,f},YWx4:function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("WWmu"),s=i("H8ZI");i.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,i){this.router=e,this._store=t,this.actionService=i}return e}();c=a([i.i(n.Component)({selector:"app-root",template:"<router-outlet></router-outlet>"}),l("design:paramtypes",["function"==typeof(d=void 0!==o.b&&o.b)&&d||Object,"function"==typeof(p=void 0!==r.b&&r.b)&&p||Object,"function"==typeof(u=void 0!==s.a&&s.a)&&u||Object])],c);var d,p,u},YevT:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("Pgz3"),s=i("OCFR"),a=i("fYnu"),l=i("5J2v"),c=i("Dkvd");i.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,i,n,o){var r=this;this._store=e,this._services=t,this.alertsService=i,this.snackBar=n,this._angularitics=o,this.isRecordAvailable=!1,this.alertsList=[],this.view="",this.isShowConfirmDialogue=!1,this.alertObjForDelete={},this.unSub_AlertsList=null,this.unSub_deleteAlertsResponse=null,this.unSub_customerDetails=null,this._store.dispatch({type:"TITLE",payload:"Configure Alerts"}),this.view=document.view,this.unSub_customerDetails=this._store.select("customerDetails").subscribe(function(e){console.log("customer datails in alerts"),console.log(e),null!=e&&(r.customerId=e.customer.id,r.customerOrgId=e.customer.orgId,r.alertsService.getAllAlertsList.emit(r.customerOrgId))}),this.unSub_AlertsList=e.select("configuredAlertsList").subscribe(function(e){if(null!=e){console.log("all Alerts list in component"),console.log(e),r.alerts=e,r.alertsList=[];for(var t=0;t<r.alerts.length;t++)r.alertsList.push(r.alerts[t]);console.log("ALL ALERTS********************************"),console.log(r.alertsList),r.alerts.length>0&&(r.isRecordAvailable=!0)}}),this.unSub_deleteAlertsResponse=e.select("alertDeleteServiceResponse").subscribe(function(e){null!=e&&(console.log("Delete Alert Response"),console.log(e),200==e.status&&(r.alertsService.getAllAlertsList.emit(r.customerOrgId),r.openSnackBar("Alert Deleted Successfully!")),r.alertsService.getAllAlertsList.emit(r.customerOrgId))})}return e.prototype.ngOnInit=function(){this._angularitics.eventTrack("AlertsList_Opened",{category:"AlertsConfiguration"})},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_AlertsList&&null!=this.unSub_AlertsList&&void 0!=this.unSub_AlertsList&&this.unSub_AlertsList.unsubscribe(),void 0!==this.unSub_deleteAlertsResponse&&null!=this.unSub_deleteAlertsResponse&&void 0!=this.unSub_deleteAlertsResponse&&this.unSub_deleteAlertsResponse.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.goToAddAlerts=function(){this._store.dispatch(i.i(l.c)(["/vtsdashboard/addAlerts"]))},e.prototype.addNewAlert=function(){this._store.dispatch({type:"SELECTED_ALERT_FOR_EDIT",payload:null}),this.goToAddAlerts()},e.prototype.deleteSelecetedAlert=function(){console.log(this.alertObjForDelete),this.alertObjForDelete!=={}&&(this.isShowConfirmDialogue=!1),this.alertsService.deleteSelectedAlert.emit(this.alertObjForDelete),this._angularitics.eventTrack("Alert_Item_Deleted",{category:"AlertsConfiguration"})},e.prototype.editSelectedAlert=function(e){this._angularitics.eventTrack("Alert_Item_Clicked",{category:"AlertsConfiguration"}),console.log(e),this._store.dispatch({type:"SELECTED_ALERT_FOR_EDIT",payload:e}),this.goToAddAlerts()},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e.prototype.showConfirmDialogue=function(e){console.log(e),this.alertObjForDelete=e,this.isShowConfirmDialogue=!0},e}();u=d([i.i(n.Component)({selector:"app-configure-alerts",template:i("WqDc"),styles:[i("KPnt")]}),p("design:paramtypes",["function"==typeof(h=void 0!==o.b&&o.b)&&h||Object,"function"==typeof(g=void 0!==r.a&&r.a)&&g||Object,"function"==typeof(f=void 0!==s.a&&s.a)&&f||Object,"function"==typeof(v=void 0!==a.A&&a.A)&&v||Object,"function"==typeof(m=void 0!==c.a&&c.a)&&m||Object])],u);var h,g,f,v,m},ZAU6:function(e,t,i){"use strict";var n=i("DmT9"),o=(i.n(n),i("3j3K")),r=i("Ths4"),s=(i.n(r),i("WWmu")),a=i("CihD"),l=i("kZql");i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var n=this;this.tripServices=e,this._store=t,this.localStorageService=i,this.url=l.b.TRIP_DASH_SOCKET_PATH,this.tripURL=l.b.TRIP_LIST_SOCKET_PATH,this.tripStatusList=[],this.customer=null,this.unSub_customerDetails=null,this.unSub_customerDetails=t.select("customerDetails").subscribe(function(e){null!=e&&""==e.error&&(n.customer=e.customer,n.token=n.localStorageService.get("TOKEN"))})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.joinUpdates=function(e){var t=this;if(this.socket=n(this.url),null==this.customer||null==this.token)return void console.log("Customer info not valid please login again!");this.tripServices.getTripDetails.emit({vehicleID:e});var i={vehicleId:e,token:this.token};this.socket.emit("joinTripDetail",i),this.socket.on("update",function(e){"string"==typeof e&&(e=JSON.parse(e)),t._store.dispatch({type:"VEHICLE_TRIP_DETAILS",payload:e})})},e.prototype.disconnectTripSocket=function(){console.log("disconnected"),null==this.socket&&void 0==this.socket||this.socket.disconnect()},e.prototype.getTripList=function(){var e=this;console.log("get TripList"),this.tripSocket=n(this.tripURL),null!=this.customer&&null!=this.token&&(this.tripSocket.on("connection",function(){console.log("Hurreey , Connected")}),console.log("get TripList token"),this.tripServices.getTripStatus.emit(),this.tripSocket.emit("joinTripDashboard",this.token),this.tripSocket.on("update",function(t){"string"==typeof t&&(t=JSON.parse(t)),e._store.dispatch({type:"UPDATE_TRIP_DATA",payload:t})}))},e.prototype.disconnectTripListSocket=function(){console.log("disconnected list"),null==this.tripSocket&&void 0==this.tripSocket||this.tripSocket.disconnect()},e}();p=c([i.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==r.LocalStorageService&&r.LocalStorageService)&&g||Object])],p);var u,h,g},ZMFb:function(e,t){e.exports='\r\n<md-input-container style="width: 100%">\r\n  <input #tripLocation placeholder="Pick Freight Location" mdInput [(ngModel)]="locationName" (keyup)="searchName(tripLocation.value)" (click)="isSearchClicked=true; onFilterClick(\'PUBLIC\')"\r\n    onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;" required (blur)="hideList(true);hideDropdownMenu()" >\r\n  \x3c!--(blur)="hideDropdownMenu()"--\x3e\r\n</md-input-container>\r\n<br>\r\n\r\n\r\n<div *ngIf="isSearchClicked" style="z-index: 11; position:absolute; width: 100%;">\r\n  <div fxLayout="row" style = "margin: 0px 0px;background-color: whitesmoke;padding-top: 1%; padding-bottom: 1%;margin-top: -2%;">\r\n    \x3c!--style="border-right: solid; border-right-color:#aaaaaa;padding: 0px 5px"--\x3e\r\n    <div fxFlex="25" style="padding-left: 7%" >\r\n           <span [style.color]="clickFilter===\'PUBLIC\'?\'blue\':\'gray\'" (click)="hideList(false);onFilterClick(\'PUBLIC\')"><label style="font-size: smaller">Public</label></span>\r\n    </div>\r\n    <div fxFlex="50" style="padding-left: 11%">\r\n      <span [style.color]="clickFilter===\'MYLOCATIONS\'?\'blue\':\'gray\'" (click)="hideList(false);isHideList=false;onFilterClick(\'MYLOCATIONS\')"><label style="font-size: smaller">My Locations</label></span>\r\n    </div>\r\n    <div fxFlex="25">\r\n      <span [style.color]="clickFilter===\'FAVOURITES\'?\'blue\':\'gray\'" (click)="hideList(false);isHideList=false;onFilterClick(\'FAVOURITES\')"><label style="font-size: smaller">Favourite</label></span>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\x3c!--<md-select placeholder="Proximity/Boundary Selector" [(ngModel)]="selected_value" (change)="onSelection()" style="width:100%; margin-top: 18px;">--\x3e\r\n  \x3c!--<md-option value="add_boundary">Add Boundary</md-option>--\x3e\r\n  \x3c!--<md-option value="add_proximity">Add Proximity</md-option>--\x3e\r\n  \x3c!--<md-option value="both">Both</md-option>--\x3e\r\n\x3c!--</md-select>--\x3e\r\n<div style=" z-index: 9; overflow: hidden; position: relative; background-color: white; min-width: 100%; margin-top: 20px; margin-left: 0px;"\r\n  *ngIf="locationAvailable">\r\n  <div style="height: 250px; overflow-y: scroll;width: 100%">\r\n\r\n  <div *ngIf="isRecentAvailable">\r\n      <h4 style="height:0px">Recently Used</h4>\r\n    <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of recentLocationList">\r\n      <li (click)="setLocation(location)"><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i>{{location[\'name\']}}</li>\r\n    </ul>\r\n  </div>\r\n  \x3c!--location[\'freightLocation\'][\'name\']--\x3e\r\n  <h4 style="height:0px">Public</h4>\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let publiclocation of locationNameList;let ind=index">\r\n    <li>\r\n      <i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i>\r\n      <span (click)="setLocation(publiclocation)" >{{publiclocation[\'freightLocation\'][\'name\']}}</span>\r\n      <span style="float: right" (click)="setFavouriteLocation(publiclocation.freightLocation)">\r\n        <i  [style.color]="(publiclocation.freightLocation.isStared)?\'blue\':\'black\'" class="fa fa-star-o" aria-hidden="true" ></i>\r\n      </span>\r\n    </li>\r\n  </ul>\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;">\r\n    <li (click)="onAddLocation()">+add new location</li>\r\n  </ul>\r\n  </div>\r\n\r\n </div>\r\n\r\n<div style=" z-index: 9; overflow: visible; position: absolute; background-color: white; min-width: 100%; margin-top: 20px; margin-left: 0px;"\r\n  *ngIf="isPrivateLocationAvailable">\r\n\x3c!--\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of locationNameList">\r\n    <li (click)="setLocation(location)"><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i>{{location.freightLocation.name}}<span (click)="setLocation(location)"><i class="fa fa-star-o" aria-hidden="true" style="float: right"></i></span></li>\r\n  </ul> --\x3e\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of locationNameList">\r\n      <li><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i><span (click)="setLocation(location)">{{location.freightLocation.name}}</span><span style="float: right" (click)="setFavouriteLocation(location.freightLocation)"><i [style.color]="(location.freightLocation.isStared)?\'blue\':\'black\'" class="fa fa-star-o" aria-hidden="true" ></i></span></li>\r\n    </ul>\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;">\r\n    <li (click)="onAddLocation()">+add new location</li>\r\n  </ul>\r\n</div>\r\n\r\n<div style=" z-index: 9; overflow: visible; position: absolute; background-color: white; min-width: 100%; margin-top: 20px; margin-left: 0px;"\r\n  *ngIf="isFavouriteLocationAvailable">\r\n\r\n  \x3c!-- <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of locationNameList">\r\n    <li (click)="setLocation(location)"><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i>{{location.favFreightLocation.name}}</li>\r\n  </ul> --\x3e\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of locationNameList">\r\n      <li><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i><span (click)="setLocation(location)">{{location.favFreightLocation.name}}</span><span style="float: right" ><i [style.color]="(location.favFreightLocation.isStared)?\'blue\':\'black\'" class="fa fa-star-o" aria-hidden="true" (click)="removeFavouriteLocation(location)"></i></span></li>\r\n    </ul>\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;">\r\n    <li (click)="onAddLocation()">+add new location</li>\r\n  </ul>\r\n</div>\r\n\r\n\r\n<div *ngIf="isDialogOpen" class="mycustomDialog-Location" style="padding-top: 70px;">\r\n  <div class="modal-content" style="width: 60%;min-width: 250px;overflow: hidden;max-width: 560px;height: calc(100vh - 140px);">\r\n    <div class="modal-header">\r\n      <span class="close" (click)="isDialogOpen=false; locationAvailable=false">&times;</span>\r\n      <div>\r\n        <label>Location</label>\r\n      </div>\r\n    </div>\r\n\r\n    <div style="padding: 5px;font-size: 13px;overflow: auto;width: calc(99vw - 16px);height: auto;">\r\n      <app-freight-location-creater [selectedValueFromParent]="selected_value" (onLocationCreation)="getFreightLocationObject($event)"></app-freight-location-creater>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},ZMaF:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"button{color:#fff;background-color:#1e88e5}button:hover{opacity:.7}md-card{padding:9px;margin-top:8px;min-width:250px}md-card div label{font-size:13px}.slow-expand{padding-bottom:6px;position:absolute;top:2px;right:0;width:calc(100% - 50px)}.expand-search{border:1.5px solid #03a9f4;width:100%;font-size:14px;padding:5px 26px 6px 12px;display:inline-block;border-radius:17px;box-sizing:border-box;outline:none}div{font-family:Gotham-Rounded-Medium,Sans-Serif!important;color:#46465f}\r\n\r\n\r\n/*!* search box*!*/.my-select{margin-top:8px;margin-right:8px;margin-left:8px;width:80%}.my-select>>>.mat-select-trigger{min-width:60px!important;font-size:15px;height:28px}.wrap-address label{margin-top:7px;overflow:hidden;white-space:nowrap;color:#616161}.wrap-address span{color:#858585;margin-left:4px;margin-top:13px;font-size:11px}.vehicle-status label{padding:4px;color:#fff;border-radius:4px;background-color:blue}.img-container{height:37px}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}.menu-button-align{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:20%;overflow:hidden;border-left:1px solid #d3d3d3;height:33px}.badge-icon{background-color:#1976d2;color:#fff;padding:0 4px;border-radius:10px;line-height:1.4;font-size:11px;margin-top:-10px;position:absolute}",""]),e.exports=e.exports.toString()},Zfls:function(e,t){e.exports='<div style="box-shadow: 0px 4px 19px darkgrey;">\n<div style="max-height: 500px;max-width: 500px;width: 50%;">\n<div style="display: block;">\n  <canvas  style=" margin-left: 36%" baseChart\n          [data]="doughnutChartData"\n          [labels]="doughnutChartLabels"\n          [chartType]="doughnutChartType"\n          (chartHover)="chartHovered($event)"\n          (chartClick)="chartClicked($event)">\n\n  </canvas>\n</div>\n  </div>\n  </div>\n\n\n'},aJch:function(e,t,i){"use strict";var n=i("3j3K"),o=i("tGq5"),r=i("WWmu"),s=i("5J2v"),a=i("2MOS"),l=i("fYnu"),c=i("CihD");i.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,o,r){var a=this;this.mapApiWrapper=e,this.snackBar=t,this._store=n,this._geoServices=o,this.tripServices=r,this.latitude=null,this.longitude=null,this.zoom=5,this.radius=5,this.isMarkerDragable=!1,this.isPolygonEditable=!1,this.mapType="roadmap",this.markers=[],this.locationAddress="",this.unSub_formattedAddress=null,this.unSub_freightDetailsLocation=null,this.unSub_selectedTripAddressType=null,this.isAddressSelected=!1,this.showSpinner=!1,this.uuid=null,this.name="",this.freightObj={},this.latitude=21.15083373,this.longitude=79.081145,this.zoom=14,n.dispatch({type:"IS_BACK",payload:{isBack:!0,backToComponent:"addTrip"}}),this.unSub_selectedTripAddressType=this._store.select("selectedTripAddressType").subscribe(function(e){if(console.log(e),null==e)return void a._store.dispatch(i.i(s.c)(["/vtsdashboard/addTrip"]));a._calledFrom=e.caller,console.log(a._calledFrom),"origin"==a._calledFrom?a._store.dispatch({type:"TITLE",payload:"Pickup point"}):"destination"==a._calledFrom&&a._store.dispatch({type:"TITLE",payload:"Destination point"})})}return e.prototype.ngOnDestroy=function(){this._store.dispatch({type:"IS_BACK",payload:{isBack:!1,backToComponent:""}}),void 0!==this.unSub_selectedTripAddressType&&null!=this.unSub_selectedTripAddressType&&void 0!=this.unSub_selectedTripAddressType&&this.unSub_selectedTripAddressType.unsubscribe()},e.prototype.ngOnInit=function(){var e=this;null!=this._calledFrom&&(console.log("oninit"),this.agmMap.mapReady.subscribe(function(t){e.map=t;var i=[];console.log(i),e.polygon=e.addPolygone(e.map,i,!1,"#858585","#353535"),e.editLocation()}))},e.prototype.addPolygone=function(e,t,i,n,o){var r=new google.maps.Polygon({paths:t,editable:i,strokeColor:o,strokeOpacity:.8,strokeWeight:2,fillColor:n,fillOpacity:.35});return r.setMap(e),r},e.prototype.getNPointsCircularPolygone=function(e,t,i){function n(e){return e*Math.PI/180}function o(e){return 180*e/Math.PI}function r(e,t,i){i/=6371,t=n(t);var r=n(e.latitude),s=n(e.longitude),a=Math.asin(Math.sin(r)*Math.cos(i)+Math.cos(r)*Math.sin(i)*Math.cos(t)),l=s+Math.atan2(Math.sin(t)*Math.sin(i)*Math.cos(r),Math.cos(i)-Math.sin(r)*Math.sin(a));return isNaN(a)||isNaN(l)?null:new google.maps.LatLng(o(a),o(l))}var s=0,a=[];for(s=1;s<=i;s++)a.push(r(e,360/i*s,t));return a},e.prototype.editLocation=function(){this.isPolygonEditable=!0,this.polygon.setEditable(!0),this.polygon.setOptions({fillColor:"#FF0000",strokeColor:"#FF0000"}),this.placesServices()},e.prototype.back=function(){if("alertsProximityLocation"==this._calledFrom||"alertsInsideLocation"==this._calledFrom){var e={name:"",address:"",detailsObj:"",uuid:""};this._store.dispatch({type:"ALERT_FIELD_LOCATION",payload:e})}else this._store.dispatch(i.i(s.d)())},e.prototype.save=function(e){var t=this;if(this.name=e.toString(),console.log(this.name),0==this.isAddressSelected||""==e)return void this.openSnackBar("Unable to save location.Please Try Again!");var n=this.polygon.getPath();console.log(n);for(var o=[],r=0;r<n.getLength();r++){var a=n.getAt(r);o.push({latitude:a.lat(),longitude:a.lng()}),console.log(a.lat()+"     "+a.lng())}for(var l=0,c=0,r=0;r<o.length;r++)l+=o[r].latitude,c+=o[r].longitude;var d={latitude:l/o.length,longitude:c/o.length},p={freightLocation:{address:this.locationAddress,geofence:{boundry:o,center:d},material:[""],name:e},accessibilityLevel:null,type:null,addedByCustomer:"A001"};console.log("*************FRET OBJ****************"),console.log(p),this.freightObj=p,this.tripServices.addTripFreightLocation.emit(p),this._store.select("addFretTripDetails").subscribe(function(e){if(console.log("addFretTripDetails"),t.fretDetails=e,console.log(t.fretDetails),null!=t.fretDetails&&""!=t.fretDetails){console.log("uuid is here"),console.log(t.fretDetails.uuid),console.log(t.fretDetails),t.uuid=t.fretDetails.uuid,t.showSpinner=!1;var n={name:t.name,address:t.locationAddress,detailsObj:t.freightObj,uuid:t.uuid};"origin"==t._calledFrom&&(t._store.dispatch({type:"TRIP_SOURCE",payload:n}),t._store.dispatch(i.i(s.c)(["/vtsdashboard/addTrip"]))),"destination"==t._calledFrom&&(t._store.dispatch({type:"TRIP_DESTINATION",payload:n}),t._store.dispatch(i.i(s.c)(["/vtsdashboard/addTrip"]))),"alertsInsideLocation"==t._calledFrom&&(t._store.dispatch({type:"ALERT_FIELD_LOCATION",payload:n}),t._store.dispatch({type:"SELECTED_INSIDE_LOCATION",payload:n})),"alertsProximityLocation"==t._calledFrom&&(t._store.dispatch({type:"ALERT_FIELD_LOCATION",payload:n}),t._store.dispatch({type:"SELECTED_PROXIMITY_LOCATION",payload:n}))}})},e.prototype.placesServices=function(){var e=this,t=document.getElementById("pac-input");console.log(t);var i=new google.maps.places.SearchBox(t);this.map.addListener("bounds_changed",function(){i.setBounds(e.map.getBounds())}),this.markers=[],i.addListener("places_changed",function(){var t=i.getPlaces();if(0!=t.length){e.markers.forEach(function(e){e.setMap(null)}),e.markers=[];var n=new google.maps.LatLngBounds;t.forEach(function(t){if(!t.geometry)return void console.log("Returned place contains no geometry");var i=(t.icon,new google.maps.Size(71,71),new google.maps.Point(0,0),new google.maps.Point(17,34),new google.maps.Size(25,25),new google.maps.Marker({title:t.formatted_address,position:t.geometry.location}));console.log(t.formatted_address),e.markers.push(i),t.geometry.viewport?n.union(t.geometry.viewport):n.extend(t.geometry.location)}),e.map.fitBounds(n)}})},e.prototype.setNewLocation=function(e){console.log(e),this.latitude=e.position.lat(),this.longitude=e.position.lng();var t={latitude:this.latitude,longitude:this.longitude};console.log("Set New Location Obj"),console.log(t);var i=this.getNPointsCircularPolygone({latitude:this.latitude,longitude:this.longitude},.5,5);this.polygon.setPath(i),this.map.setZoom(14),this.map.setCenter(e.getPosition());for(var n=0;n<this.markers.length;n++)this.markers[n].setMap(null);this.markers=[],this.locationAddress=e.title,this.isAddressSelected=!0,console.log(this.fretDetails)},e.prototype.drawCircle=function(e){this.radius=e,null!=this.circle&&this.circle.setMap(null),null!=this.polygon&&this.polygon.setMap(null),this.circle=new google.maps.Circle({radius:e,center:new google.maps.LatLng(this.latitude,this.longitude)}),this.circle.setMap(this.map)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:4e3})},e}();d([i.i(n.ViewChild)(o.c),p("design:type",Object)],u.prototype,"agmMap",void 0),u=d([i.i(n.Component)({selector:"app-add-trip-location",template:i("9Qk/"),styles:[i("cXcy")]}),p("design:paramtypes",["function"==typeof(h=void 0!==o.b&&o.b)&&h||Object,"function"==typeof(g=void 0!==l.A&&l.A)&&g||Object,"function"==typeof(f=void 0!==r.b&&r.b)&&f||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(m=void 0!==c.a&&c.a)&&m||Object])],u);var h,g,f,v,m},aToU:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={"(Enter your Mobile number)":"(अपना मोबाइल नंबर दर्ज करें)",Help:"मदद","Mobile Number":"मोबाइल नंबर","Enter OTP":"ओटीपी दर्ज करें","(Enter OTP Below)":"(नीचे ओटीपी दर्ज करें)",Login:"लॉग इन करें","This field is required":"यह फ़ील्ड आवश्यक है","send OTP":"ओटीपी भेजें","Resend OTP":"ओटीपी पुनः भेजें","Click here to Login":"लॉग इन करने के लिए यहां क्लिक करें",Dashboard:"डैशबोर्ड","Trip Status Dashboard":"यात्रा स्थिति डैशबोर्ड",Statistics:"आंकड़े","Location History":"स्थान इतिहास",Reports:"रिपोर्ट","Vehicle Running":"चल रहा वाहन","Vehicle Overspeed":"ओव्हस्पीड वाहन ","Vehicle Stop":"रुकें वाहन","Vehicle Night Drive":"वाहन नाइट ड्राइव",Alerts:"ख़तरे की सूचना",Settings:"सेटिंग्स",LOGOUT:"लोग आउट",Logout:"लोगआउट","All vehicle":"सभी वाहन",Search:"खोजें","search Here":"यहाँ ढूँढे",Status:"स्थिति",Disconnected:"जुड़े नहीं हैं",Overspeed:"गति से अधिक",Stop:"रुकें हुये!",Moving:"चलते हुए!",List:"सूची",Map:"नक्शा","Stoppage Report":"स्टॉपपेज रिपोर्ट","you are currently logout, please login first":"आप वर्तमान में लॉगआउट हैं, कृपया पहले लॉग इन करें","Overspeed Report":"ओव्हस्पीड रिपोर्ट","Select Vehicle":"वाहन का चयन करें",OK:"ठीक",Stopped:"रुका हुआ","Vehicle Dashboard":"वाहन डैशबोर्ड","Date:":"तारीख:","Start Date":"आरंभ करने की तिथि","End Date":"अंतिम तिथि",Vehicle:"वाहन",Add:"जोड़ना","Download pdf":"पीडीएफ़ डाउनलोड करें","Download XL":"excel फ़ाइल डाउनलोड करें",Records:"रिकॉर्ड","No Record":"कोई रिकॉर्ड नहीं","Running Report":"रनिंग रिपोर्ट","View details":"विवरण देखें","Average Speed":"औसत गति","Total stoppage":"कुल रुकावट","Total drive time":"कुल ड्राइव का समय","Total drivetime":"कुल ड्राइवटाइम","Overspeed duration":"ओवरस्पेड अवधि","Disconnect duration":"डिस्कनेक्ट अवधि","vehicle active":"वाहन सक्रिय","No record found":"कोई रिकॉर्ड नहीं मिला",hour:"घंटे",All:"सब",Language:"भाषा","Add Trip":"यात्रा जोड़ें","Vehicle Status":"वाहन स्थिति","Vehicle State":"वाहन स्थिति","Share Vehicle":"साझा वाहन","Vehicle Activity":"वाहन गतिविधि","Discard Delivery":"डिलीवरी छोड़ें","Next Activity":"अगला गतिविधि","Previous Activity":"पिछला गतिविधि","View Vehicle Activity":"वाहन गतिविधि देखें","Preferred Source":"पसंदीदा स्रोत","Vehicle Sharing":"वाहन शेयरिंग","Last Trip:":"पिछली यात्रा:","Vehicle Trip Status":"वाहन यात्रा स्थिति",Unassigned:"प्रतीक्षा में","Under Unloading":"अनलोडिंग हो रहा है","Under Loading":"अंडर लोडिंग","In Transit":"रास्ते में","Vehicle Timeline":"वाहन टाइम लाइन","Vehicle Timeline Report":"वाहन टाइमलाइन रिपोर्ट","Select Start and End date":"प्रारंभ और समाप्ति तिथि चुनें","Select vehicle here":"यहां वाहन चुनें",Go:"ठीक",Satellite:"उपग्रह","Total Stop Duration":"टोटल स्टॉप समय"}},anOT:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"agm-map{height:65%}",""]),e.exports=e.exports.toString()},arFf:function(e,t,i){"use strict";var n=i("3j3K"),o=i("fYnu"),r=i("WWmu"),s=i("5oXY"),a=i("5J2v"),l=i("Ths4"),c=(i.n(l),i("ZAU6")),d=i("Pgz3"),p=i("CihD"),u=i("Dkvd"),h=i("0Xiv");i.d(t,"a",function(){return v});var g=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function e(e,t,n,o,r,s,l,c,d,p){var u=this;if(this._router=e,this.tripDetailSocketService=t,this.localStorageService=n,this.snackBar=o,this._store=r,this._services=s,this.route=l,this.tripServices=c,this.templateService=d,this._angularitics=p,this.view="",this.isSpinner=!1,this.isExpand=!1,this.isDisconnectDialog=!1,this.isStartTimeDisable=!1,this.isEditTripLocationDialog=!1,this.movementLogs={},this.tripView="list",this.forConfirmPlace="",this.validationErrorMgs="",this.upSideHeight="0px",this.unSub_vehicleTripDetails=null,this.vehicleTripDetails={},this.vehicleTripDetailsClone={},this.selectedConfirmLocation={},this.startTime=null,this.tillTime=null,this.forEditPlace="",this.unSub_customerDetails=null,this.unSub_templateDetails=null,this.unSub_templateList=null,this.unSub_closeDialog=null,this.isDelayed=!1,this.isCreateTripDialog=!1,this.templateObj={},this.latLngObj=null,this.view=document.view,this.orgId=n.get("ORGID"),console.log(this.orgId),"/vtsdashboard/trip/status/details"==this._router.url&&"web"==this.view)return void this._store.dispatch(i.i(a.c)(["vtsdashboard/trip/status"]));this._store.dispatch({type:"TITLE",payload:""}),r.dispatch({type:"IS_BACK",payload:{isBack:!0,backToComponent:"trip/status"}});var h=this.localStorageService.get("CURRENT_TRIP_VEHICLE");if(void 0==h||null==h)return void this._store.dispatch(i.i(a.c)([""]));this.unSub_customerDetails=r.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&(t.joinUpdates(h.uuid),console.log(h),u.isSpinner=!0)}),this.vehicleNo=""+h.vehicleRegistrationNumber,null!=h.distanceToGo&&(this.distanceToGo=h.distanceToGo+" remaining"),this.eta=h.eta,this.timeValue=1e3*h.timeValue,this.unSub_templateList=this._store.select("tripTemplateList").subscribe(function(e){if(console.log(e),null!=e){var t=[];t=e.data,""==e.error&&200==t.status&&(u.templateObj=t.list[0],console.log(u.templateObj))}}),this.unSub_templateDetails=r.select("tripTemplateDetail").subscribe(function(e){console.log(e),null!=e&&""==e.error&&(u.templateObj=JSON.parse(e.data.data))}),this.unSub_vehicleTripDetails=r.select("vehicleTripDetails").subscribe(function(e){if(null!=e){if(u.isSpinner=!1,u.vehicleTripDetails=JSON.parse(JSON.stringify(e)),u.vehicleTripDetailsClone=JSON.parse(JSON.stringify(e)),null!=u.vehicleTripDetails.latestGpsState){var t=u.vehicleTripDetails.latestGpsState.endTime;if(null!=u.vehicleTripDetails.currentTrip&&null!=u.vehicleTripDetails.currentTrip.plannedEndTime&&null!=u.timeValue){var i=u.vehicleTripDetails.currentTrip.plannedEndTime-t;if(i<0)u.isDelayed=!0,console.log(i),console.log(u.timeValue),u.delayedBy=u.msToTime(u.timeValue+Math.abs(i)),console.log(u.msToTime(u.timeValue+Math.abs(i)));else if(i>0){var n=u.timeValue-i;n>0?(u.isDelayed=!0,u.delayedBy=u.msToTime(u.timeValue-Math.abs(i))):u.isDelayed=!1}else 0==i&&(u.isDelayed=!1)}}else u.delayedBy="(N/A)";if(null!=u.vehicleTripDetails.vts){if(u.vehicleTripDetails.vts._stateDuration=u.msToTime(u.vehicleTripDetails.vts.endTime-u.vehicleTripDetails.vts.startTime),null!=u.vehicleTripDetails.lastTrip&&(u.vehicleTripDetails.lastTrip.destination[0]._unloadingDuration=u.msToTime(u.vehicleTripDetails.lastTrip.destination[0].tillTime-u.vehicleTripDetails.lastTrip.destination[0].fromTime),u.vehicleTripDetails.lastTrip.origin[0]._loadingDuration=u.msToTime(u.vehicleTripDetails.lastTrip.origin[0].tillTime-u.vehicleTripDetails.lastTrip.origin[0].fromTime),u.vehicleTripDetails.lastTrip._tripCompletionDuration=u.msToTime(u.vehicleTripDetails.lastTrip.actualEndTime-u.vehicleTripDetails.lastTrip.actualStartTime)),null!=u.vehicleTripDetails.currentTrip&&(u.vehicleTripDetails.currentTrip._transiteTime=u.msToTime(u.vehicleTripDetails.currentTrip.plannedEndTime-u.vehicleTripDetails.currentTrip.plannedStartTime)),"WaitingForLoad"==u.vehicleTripDetails.vts.state){u.vehicleState="Waiting For Load";var o=void 0,r=void 0;null==u.vehicleTripDetails.lastTrip?null!=u.vehicleTripDetails.latestGpsState?(o=u.vehicleTripDetails.latestGpsState.endLocation.latitude,r=u.vehicleTripDetails.latestGpsState.endLocation.longitude,u.latLngObj={latitude:o,longitude:r},u.templateObj=null,u.templateService.tripTemplateDetails.emit(u.latLngObj),console.log("WFL "+u.latLngObj)):(u.templateService.tripTemplateStatus.emit(u.orgId),console.log("WFL: LGS=null")):(o=u.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.center.latitude,r=u.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.center.longitude,u.latLngObj={latitude:o,longitude:r},u.templateObj=null,u.templateService.tripTemplateDetails.emit(u.latLngObj)),console.log(u.latLngObj)}else if("EnrouteForDestination"==u.vehicleTripDetails.vts.state){u.vehicleState="Enroute for Delivery";var o=void 0,r=void 0;if(null==u.vehicleTripDetails.nextTrip&&(o=u.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.latitude,r=u.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.longitude,u.latLngObj={latitude:o,longitude:r},u.templateObj=null,u.templateService.tripTemplateDetails.emit(u.latLngObj),console.log("EFD "+u.latLngObj)),console.log(u.latLngObj),null!=u.vehicleTripDetails.currentTrip&&(u.vehicleTripDetails.currentTrip.origin[0]._loadingDuration=u.msToTime(u.vehicleTripDetails.currentTrip.origin[0].tillTime-u.vehicleTripDetails.currentTrip.origin[0].fromTime)),console.log(u.vehicleTripDetails.movementLegs),null!=u.vehicleTripDetails.movementLegs){for(var s=0,a=0,l=0,c=0,d=0;d<u.vehicleTripDetails.movementLegs.length;d++)s+=u.vehicleTripDetails.movementLegs[d].totalDistance,a+=u.vehicleTripDetails.movementLegs[d].totalTime,u.vehicleTripDetails.movementLegs[d]._totalDuration=u.msToTime(u.vehicleTripDetails.movementLegs[d].totalTime),"Stopped"==u.vehicleTripDetails.movementLegs[d].state&&l++,"Disconnected"==u.vehicleTripDetails.movementLegs[d].state&&c++;u.movementLogs.totalTravlingDistance=s,u.movementLogs._totalTravlingDistance=s/1e3,u.movementLogs.totalTravlingTime=a,u.movementLogs._totalTravlingTime=u.msToTime(a),u.movementLogs.disconnected=c,u.movementLogs.stopped=l,console.log(u.movementLogs)}}else if("EnrouteForPickUp"==u.vehicleTripDetails.vts.state)u.vehicleState="Enroute for Pickup";else if("AtPickUpPoint"==u.vehicleTripDetails.vts.state)u.vehicleState="At Pickup Point";else if("AtDestination"==u.vehicleTripDetails.vts.state){u.vehicleState="At Delivery Point";var o=void 0,r=void 0;if(null==u.vehicleTripDetails.nextTrip&&(o=u.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.latitude,r=u.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.longitude,u.latLngObj={latitude:o,longitude:r},u.templateObj=null,u.templateService.tripTemplateDetails.emit(u.latLngObj),console.log("ADP "+u.latLngObj)),console.log(u.latLngObj),null!=u.vehicleTripDetails.currentTrip&&(u.vehicleTripDetails.currentTrip.origin[0]._loadingDuration=u.msToTime(u.vehicleTripDetails.currentTrip.origin[0].tillTime-u.vehicleTripDetails.currentTrip.origin[0].fromTime)),null!=u.vehicleTripDetails.movementLegs){for(var s=0,a=0,l=0,c=0,d=0;d<u.vehicleTripDetails.movementLegs.length;d++)s+=u.vehicleTripDetails.movementLegs[d].totalDistance,a+=u.vehicleTripDetails.movementLegs[d].totalTime,u.vehicleTripDetails.movementLegs[d]._totalDuration=u.msToTime(u.vehicleTripDetails.movementLegs[d].totalTime),"Stopped"==u.vehicleTripDetails.movementLegs[d].state&&l++,"Disconnected"==u.vehicleTripDetails.movementLegs[d].state&&c++;u.movementLogs.totalTravlingDistance=s,u.movementLogs._totalTravlingDistance=s/1e3,u.movementLogs.totalTravlingTime=a,u.movementLogs._totalTravlingTime=u.msToTime(a),u.movementLogs.disconnected=c,u.movementLogs.stopped=l,console.log(u.movementLogs)}}console.log(u.vehicleTripDetails)}}}),this.unSub_closeDialog=r.select("closeDialog").subscribe(function(e){console.log(e),u.isEditTripLocationDialog=e.isClose})}return e.prototype.ngAfterViewChecked=function(){var e=document.getElementById("expandable-box");if(null!=e){var t=e.getBoundingClientRect();this.upSideHeight=0-(t.height+150)+"px"}},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.tripDetailSocketService.disconnectTripSocket(),this._store.dispatch({type:"IS_BACK",payload:{isBack:!1,backToComponent:""}}),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_vehicleTripDetails&&null!=this.unSub_vehicleTripDetails&&void 0!=this.unSub_vehicleTripDetails&&this.unSub_vehicleTripDetails.unsubscribe(),void 0!==this.unSub_closeDialog&&null!=this.unSub_closeDialog&&void 0!=this.unSub_closeDialog&&this.unSub_closeDialog.unsubscribe(),void 0!==this.unSub_templateDetails&&null!=this.unSub_templateDetails&&void 0!=this.unSub_templateDetails&&this.unSub_templateDetails.unsubscribe(),void 0!==this.unSub_templateList&&null!=this.unSub_templateList&&void 0!=this.unSub_templateList&&this.unSub_templateList.unsubscribe()},e.prototype.goToEditTripPickupView=function(e,t){var n={vehicleTripDetails:this.vehicleTripDetailsClone,forEditPlace:e,tripName:t};this.localStorageService.set("VEHICLE-TRIP-DETAIL-OBJ",n),this._angularitics.eventTrack("Edit_Trip_Location",n),"web"==this.view?(this.forEditPlace=e,this.isEditTripLocationDialog=!0):this._store.dispatch(i.i(a.c)(["/vtsdashboard/trip/status/details/editTripLocation"]))},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.openConfirmPointDialog=function(e){this.forConfirmPlace=e,this.validationErrorMgs="",console.log(e),this.isDisconnectDialog=!0,console.log(this.vehicleTripDetails),"EnrouteForDestination"==this.vehicleTripDetails.vts.state||"AtDestination"==this.vehicleTripDetails.vts.state?(this.startTime=this.vehicleTripDetails.currentTrip.destination[0].fromTime,this.tillTime=this.vehicleTripDetails.currentTrip.destination[0].tillTime):"EnrouteForPickUp"!=this.vehicleTripDetails.vts.state&&"AtPickUpPoint"!=this.vehicleTripDetails.vts.state||(this.startTime=this.vehicleTripDetails.currentTrip.origin[0].fromTime,this.tillTime=this.vehicleTripDetails.currentTrip.origin[0].tillTime),"EnrouteForDestination"==this.vehicleTripDetails.vts.state||"EnrouteForPickUp"==this.vehicleTripDetails.vts.state?(this.isStartTimeDisable=!1,this.startTime=null,this.tillTime=null):"AtDestination"!=this.vehicleTripDetails.vts.state&&"AtPickUpPoint"!=this.vehicleTripDetails.vts.state||(this.isStartTimeDisable=!0)},e.prototype.confirmPlace=function(){if(this.checkValid()){var e=null;if(null!=this.tillTime){if((e=new Date(this.tillTime).getTime())<new Date(this.startTime).getTime())return void(this.validationErrorMgs="start Time should not be greater then end Time");if(e>(new Date).getTime())return void(this.validationErrorMgs="End time should not be greater then current date")}this.isDisconnectDialog=!1;var t={forConfirmPlace:this.forConfirmPlace,conObj:{vehicleId:this.vehicleTripDetails.vts.vehicleId,tripId:this.vehicleTripDetails.vts.tripId,startTime:new Date(this.startTime).getTime(),endTime:e}};console.log(t),this.tripServices.confirmLocation.emit(t)}},e.prototype.confirmCreateTripFromTemplate=function(){var e;"WaitingForLoad"==this.vehicleTripDetails.vts.state&&(e=null==this.vehicleTripDetails.lastTrip?(new Date).getTime():this.vehicleTripDetails.lastTrip.actualEndTime),"AtDestination"==this.vehicleTripDetails.vts.state&&(e=this.vehicleTripDetails.currentTrip.plannedEndTime),"EnrouteForDestination"==this.vehicleTripDetails.vts.state&&(e=this.vehicleTripDetails.currentTrip.plannedEndTime);var t=[],i={freightLocation:{name:this.templateObj.origin.name,address:this.templateObj.origin.address,geofence:{boundry:this.templateObj.origin.geofence.boundry,center:this.templateObj.origin.geofence.center,type:this.templateObj.origin.geofence.type},material:[""]},fromTime:null,tillTime:null};t.push(i);var n=[],o={freightLocation:{name:this.templateObj.destination.name,address:this.templateObj.destination.address,geofence:{boundry:this.templateObj.destination.geofence.boundry,center:this.templateObj.destination.geofence.center,type:this.templateObj.destination.geofence.type},material:[""]},fromTime:null,tillTime:null};n.push(o);var r={vehicleId:this.vehicleTripDetails.vts.vehicleId,origin:t,destination:n,material:this.templateObj.material,tripId:null,actualStartTime:null,actualEndTime:null,plannedStartTime:e,plannedEndTime:e+864e5*this.templateObj.transitDays,lane:null,tripState:"Created",driverMobNumber:987654321,driverName:"xyz"};console.log(r),this.tripServices.createTrip.emit(r),this.isCreateTripDialog=!1},e.prototype.checkValid=function(){if(this.isStartTimeDisable){if(null==this.startTime)return this.validationErrorMgs="Start Time should not be blank",!1;if(null==this.tillTime)return this.validationErrorMgs="End Time should not be blank",!1;var e=(new Date).getTime();if(new Date(this.startTime).getTime()>e)return this.validationErrorMgs="start time should not be greater then current date",!1}else{if(null==this.startTime)return this.validationErrorMgs="start time should not be blank",!1;var e=(new Date).getTime();if(new Date(this.startTime).getTime()>e)return this.validationErrorMgs="start time should not be greater then current date",!1}return!0},e}();v=g([i.i(n.Component)({selector:"app-vehicle-trip-status-details",template:i("SNbz"),styles:[i("QLPV")]}),f("design:paramtypes",["function"==typeof(m=void 0!==s.b&&s.b)&&m||Object,"function"==typeof(y=void 0!==c.a&&c.a)&&y||Object,"function"==typeof(x=void 0!==l.LocalStorageService&&l.LocalStorageService)&&x||Object,"function"==typeof(b=void 0!==o.A&&o.A)&&b||Object,"function"==typeof(T=void 0!==r.b&&r.b)&&T||Object,"function"==typeof(S=void 0!==d.a&&d.a)&&S||Object,"function"==typeof(w=void 0!==s.f&&s.f)&&w||Object,"function"==typeof(D=void 0!==p.a&&p.a)&&D||Object,"function"==typeof(_=void 0!==h.a&&h.a)&&_||Object,"function"==typeof(L=void 0!==u.a&&u.a)&&L||Object])],v);var m,y,x,b,T,S,w,D,_,L},b7d8:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".map{height:400px;width:100%}",""]),e.exports=e.exports.toString()},bHp8:function(e,t){e.exports='<md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\n<div style="min-width: 500px;width:100%;padding: 5px;margin-top: 10px">\n  <div class="button-align" style="padding: 0px 20px 8px 20px;text-align: center;min-width: 680px">\n    <span style="float: left">Vehicle Active</span>\n    <button md-raised-button  >0-4 Hour</button>\n    <button md-raised-button >4-8 Hour(s)</button>\n    <button md-raised-button >8-12 Hour(s)</button>\n    <button md-raised-button >Above 12 Hour(s)</button>\n  </div>\n  <div style="padding: 0px 20px 0px 20px;min-width: 680px">\n    <div style="box-shadow: 0px 4px 19px darkgrey;">\n      <table style="border: 1px solid #e1e6ef;">\n        <tr style="height: 50px">\n          <td colspan="7" style="float: right;">\n            <button [disabled]="startPageNo<=1" class="pagination-button" md-raised-button (click)="prevPage()">\n              <i class="fa fa-chevron-left" aria-hidden="true"></i>\n            </button>\n            <span class="pagination-text"><span st>{{startPageNo}}</span>-<span>{{endPageNo}}</span>of<span>{{totalPage}}</span></span>\n            <button [disabled]="endPageNo>=totalPage" class="pagination-button" md-raised-button (click)="nextPage()">\n              <i class="fa fa-chevron-right" aria-hidden="true"></i>\n            </button>\n            <md-select class="my-select" (change)="selectTableHeight()" [(ngModel)]="selectedTableHeight">\n              <md-option value=\'10\' >10 Per Pages</md-option>\n              <md-option value=\'25\'>25 Per Pages</md-option>\n              <md-option value=\'50\'>50 Per pages</md-option>\n              <md-option value=\'100\'>100 Per Pages</md-option>\n              <md-option value=\'200\'>200 Per Pages</md-option>\n              <md-option value=\'500\'>500 Per Pages</md-option>\n            </md-select>\n          </td>\n        </tr>\n      </table>\n      <div style="overflow:auto;max-height: 500px;">\n        <table style="border: 1px solid #e1e6ef;">\n          <tr>\n            <th>S.No</th>\n            <th>Vehicle No</th>\n            <th>Start Location</th>\n            <th>Start Time</th>\n            <th>Status</th>\n            <th>Current Location</th>\n            <th>Last Update</th>\n          </tr>\n          <tr *ngFor="let device of deviceStatistics" class="select-row">\n            <td>{{device[\'S.No\']}}</td>\n            <td></td>\n            <td></td>\n            <td></td>\n            <td></td>\n            <td></td>\n            <td></td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n'},bc0b:function(e,t){e.exports="<app-vehicle-dashboard-mobile  *ngIf=\"view !='web'\"></app-vehicle-dashboard-mobile>\r\n\r\n<app-vehicle-dashboard-web  *ngIf=\"view =='web'\" ></app-vehicle-dashboard-web>\r\n"},cCTx:function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100">\r\n    <div class="main-container" style="padding-bottom:10px;height: calc(100vh - 61px)" >\r\n    <div style="float:right"><span style="margin-right: 20px"><i style="font-size:30px" class="fa fa-trash" (click)="deleteTemplate()"></i></span></div>\r\n      <div class="trip-container">\r\n\r\n      \x3c!--<div style="padding: 6px 6px;margin-top: 0px;">--\x3e\r\n          \x3c!--<md-input-container style="width: 100%;" >--\x3e\r\n            \x3c!--<input  placeholder="Trip Origin" (focus)="setLocationType(\'origin\');"   mdInput [ngModel]="originName" name="tripOrigin" id="tripOrigin"--\x3e\r\n                  \x3c!--onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;" required>--\x3e\r\n          \x3c!--</md-input-container>--\x3e\r\n        \x3c!--</div>--\x3e\r\n\r\n        <div>\r\n          <app-freight-location-picker [inputType]="\'origin\'" [locationFromTemplate]="selectedTemplateLoc" [pickerLocationType]="typeOfLocationCreator" (onLocationPick)=\'setOriginLocation($event)\'></app-freight-location-picker>\r\n        </div>\r\n\r\n        <div>\r\n          <app-freight-location-picker [inputType]="\'destination\'"  [locationFromTemplate]="selectedTemplateLoc" [pickerLocationType]="typeOfLocationCreator" (onLocationPick)=\'setDestinationLocation($event)\'></app-freight-location-picker>\r\n        </div>\r\n\r\n        \x3c!--<div style="padding: 6px 6px;margin-top: -13px;">--\x3e\r\n            \x3c!--<md-input-container style="width: 100%;" >--\x3e\r\n              \x3c!--<input  placeholder="Trip Destination" (focus)="setLocationType(\'destination\');"   mdInput [ngModel]="destinationName" name="tripDestination" id="tripDestination"--\x3e\r\n                    \x3c!--onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;" required>--\x3e\r\n            \x3c!--</md-input-container>--\x3e\r\n          \x3c!--</div>--\x3e\r\n          <div style="width: 100%">\r\n            <md-input-container style="width: 100%" >\r\n            <input type="number" placeholder="Transit Days"  mdInput [(ngModel)]="transitDays" >\r\n            </md-input-container>\r\n          </div>\r\n        <div style="width: 100%">\r\n          <md-input-container style="width: 100%" >\r\n            <input type="number" placeholder="Distance in km"  mdInput [(ngModel)]="distance">\r\n          </md-input-container>\r\n        </div>\r\n\r\n\r\n          <div style="width: 100%">\r\n            <md-input-container style="width: 100%" >\r\n              <input placeholder="Material"  mdInput [(ngModel)]="material" required>\r\n            </md-input-container>\r\n          </div>\r\n\r\n          <div style="width: 100%">\r\n            <md-input-container style="width: 100%" >\r\n              <input type="number" placeholder="Quantity"  mdInput [(ngModel)]="quantity" >\r\n            </md-input-container>\r\n          </div>\r\n\r\n        <div style="margin-top:0px;text-align:right;" >\r\n          <button md-raised-button  (click)="cancelEdit()" style="margin-right: 15px">{{\'Cancel\' | translate}}</button>\r\n          <button md-raised-button [disabled]="isClicked" (click)="confirmEdit()"  >{{\'Confirm\' | translate}}</button>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    </div>\r\n\r\n'},cXcy:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"body{background-color:#fff}.trip-header{background-color:#3f51b5;width:100%;padding:8px;height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff}md-card{padding:9px;min-width:250px}div{font-family:Helvetica!important}.my-hr{border-style:ridge;border-width:1px;margin-top:6px;min-width:250px;margin-bottom:3px}.my-map-search{left:5%;width:90%;position:absolute;z-index:10;margin-top:10px}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}",""]),e.exports=e.exports.toString()},ci1K:function(e,t,i){"use strict";var n=i("3j3K"),o=i("+pb+"),r=(i.n(o),i("WWmu")),s=i("Pgz3");i.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){var i=this;this._store=e,this._services=t,this.unSub_customerDetails=null,this.clearVehInterval=null,this.customer=null,this.vehicleListTimer=new n.EventEmitter,this.stopTimerService=new n.EventEmitter,this.unSub_customerDetails=e.select("customerDetails").subscribe(function(e){if(console.log(e),null==e)return void(null==i.clearVehInterval&&void 0==i.clearVehInterval||clearInterval(i.clearVehInterval));""==e.error&&(i.customer=e.customer,console.log("user valid "),console.log(i.customer),console.log("call start timer methods"),i.startTimer())}),this.vehicleListTimer.subscribe(function(){""==i.customer||null==i.customer||void 0==i.customer?(console.log("received emitting vehicleListTimer"),console.log(i.customer)):(console.log("timer service start"),i.stopTimer(),i.startTimer())}),this.stopTimerService.subscribe(function(){console.log("timer service stop"),i.stopTimer()})}return e.prototype.ngOnDestroy=function(){console.log("stop timer"),clearInterval(this.clearVehInterval),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.startTimer=function(){var e=this;console.log("starttimer"),this._services.getVehicleList.emit(this.customer.id),this.clearVehInterval=setInterval(function(){null!=e.customer&&null!=e.customer.id&&void 0!=e.customer.id&&e._services.getVehicleList.emit(e.customer.id)},15e3)},e.prototype.stopTimer=function(){console.log("timer stop"),null==this.clearVehInterval&&void 0==this.clearVehInterval||clearInterval(this.clearVehInterval)},e}();c=a([i.i(n.Injectable)(),l("design:paramtypes",["function"==typeof(d=void 0!==r.b&&r.b)&&d||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object])],c);var d,p},cikh:function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("WWmu"),s=i("5J2v"),a=i("XRrY"),l=i("Ths4"),c=(i.n(l),i("fYnu")),d=i("uDr9"),p=i("Dkvd"),u=i("cXjt"),h=i("DOYL"),g=i("OCFR");i.d(t,"a",function(){return m});var f=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function e(e,t,n,o,r,a,l,c,d,p){var u=this;this.logoutService=e,this.media=t,this._translate=n,this.snackBar=o,this._store=r,this.authorization=a,this.localStorageService=l,this._router=c,this._angularitics=d,this.alertServices=p,this.selectedViewDesktop="vehicles",this.isSpinner=!1,this.view="mobile",this.isReport=!1,this.showBack={isBack:!1,backToComponent:"vehicleList"},this.selectedView="dashboard",this.title="",this.isAddDeviceDialog=!1,this.isShowNotificationBadge=!0,this.allDeviceStatistics=[],this.deviceStatistics=[],this.allAlertsNotificationList=[],this.startPageNo=1,this.endPageNo=10,this.totalPage=0,this.customerName="",this.customerMobile="",this.customerEmail="",this.selectedTableHeight="10",this.isActivities=!1,this.unsub_token=null,this.unsub_authorization=null,this.unSub_customerDetails=null,this.unsub_title=null,this.unsub_isBack=null,this.unsub_getAlertsNotification=null,t.isActive("gt-xs")?(document.view="web",this.view=document.view):(document.view="mobile",this.view=document.view),this.setMenuButtonValue(),this.unsub_title=this._store.select("title").subscribe(function(e){u.title=e,u.selectedView=u.title}),this.unsub_token=this._store.select("token").subscribe(function(e){var t=u.localStorageService.get("AUTH_TOKEN");if(console.log(t),null==e&&null==t)return u.openSnackBar("you are currently logout, please login first"),void u.logoutService.logout();null!=e?""==e.error&&(t=e.token,console.log(t),u.authorization.tokenAuthorization.emit(t),console.log(t)):(console.log(t),console.log(u._router.url),u.authorization.tokenAuthorization.emit(t))}),this.unsub_authorization=this._store.select("authorization").subscribe(function(e){if(console.log(e),null!=e){if("X"==e.error)return u.openSnackBar("you are not a valid user"),console.log("Error in authorisation store ; error == 'X'"),void u.logoutService.logout();if(""==e.error||1==e.valid){"/vtsdashboard"===u._router.url&&(u._angularitics.eventTrack("Vehicles_Dashboard_Opened",{category:"VehicleList"}),u._store.dispatch(i.i(s.c)(["/vtsdashboard/vehicleDashboard"])))}}}),this.unsub_isBack=this._store.select("isBack").subscribe(function(e){null!=e&&(u.showBack.isBack=e.isBack,u.showBack.backToComponent=e.backToComponent)}),this.unsub_getAlertsNotification=this._store.select("getAllAlertsNotification").subscribe(function(e){if(console.log("Alerts in Notification :"),console.log(e),null!=e){var t=[];if(null!==(t=e.data)&&void 0!=t&&t.length>0){t=t.reverse();var i=t.length>4?4:t.length;u.allAlertsNotificationList=[];for(var n=0;n<i;n++)u.allAlertsNotificationList.push(t[n])}}}),this.alertServices.getAlertsNotification.emit()}return e.prototype.ngOnDestroy=function(){void 0!==this.unsub_token&&null!=this.unsub_token&&void 0!=this.unsub_token&&this.unsub_token.unsubscribe(),void 0!==this.unsub_authorization&&null!=this.unsub_authorization&&void 0!=this.unsub_authorization&&this.unsub_authorization.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unsub_title&&null!=this.unsub_title&&void 0!=this.unsub_title&&this.unsub_title.unsubscribe(),void 0!==this.unsub_isBack&&null!=this.unsub_isBack&&void 0!=this.unsub_isBack&&this.unsub_isBack.unsubscribe(),void 0!==this.unsub_getAlertsNotification&&null!=this.unsub_getAlertsNotification&&void 0!=this.unsub_getAlertsNotification&&this.unsub_getAlertsNotification.unsubscribe()},e.prototype.ngOnInit=function(){var e=this,t=""+this.localStorageService.get("LANGUAGE");this._translate.use(t),this.unSub_customerDetails=this._store.select("customerDetails").subscribe(function(t){if(console.log("customer datails in dashboard"),console.log(t),null!=t){e.customerName=t.customer.name,e.customerMobile=t.customer.mobileNumber,e.customerEmail=t.customer.email;var i=e.customerEmail+"("+e.customerMobile+")";e._angularitics.setUserPropertiesOnce({customer:i}),e._angularitics.setAlias({customer:i}),e._angularitics.setUsername(i)}})},e.prototype.goBack=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/"+this.showBack.backToComponent]))},e.prototype.gotoDashboardView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/vehicleDashboard"]))},e.prototype.gotoStatisticsView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/statisticsMobile"]))},e.prototype.gotoStoppagesReportView=function(){this._angularitics.eventTrack("Stoppage_Report_Selected",{category:"Reports"}),this._store.dispatch(i.i(s.c)(["/vtsdashboard/stoppageReport"]))},e.prototype.gotoOverspeedReportView=function(){this._angularitics.eventTrack("OverSpeed_Report_Selected",{category:"Reports"}),this._store.dispatch(i.i(s.c)(["/vtsdashboard/overspeedReport"]))},e.prototype.gotoRunningReportView=function(){this._angularitics.eventTrack("Running_Report_Selected",{category:"Reports"}),this._store.dispatch(i.i(s.c)(["/vtsdashboard/runningReport"]))},e.prototype.gotoLocationHisView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/locHisVehicleList"]))},e.prototype.logout=function(){this.logoutService.logout()},e.prototype.goToAddTripView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/addTrip"]))},e.prototype.goToVehicleStatusView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/trip/status"]))},e.prototype.goToselectVehicleTimeline=function(){this._angularitics.eventTrack("Vehicle_Timeline_View",{category:"Reports"}),this._store.dispatch(i.i(s.c)(["/vtsdashboard/selectVehicleTimelineReport"]))},e.prototype.goTosettingView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/settingComponent"]))},e.prototype.goToConfigureAlertsView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/configureAlerts"]))},e.prototype.goToVehicleSharingView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/vehicleSharing"]))},e.prototype.goToScheduleReportView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/scheduleList"]))},e.prototype.goToUserManagementView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/userManagementConsole"]))},e.prototype.goToManageOrganisationView=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/manageOrganisation"]))},e.prototype.goToAlertsNotification=function(){this._store.dispatch(i.i(s.c)(["/vtsdashboard/alertsNotification"]))},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e.prototype.setMenuButtonValue=function(){"/vtsdashboard/trip/status"==this._router.url?this.selectedViewDesktop="Trip Status":"/vtsdashboard/stoppageReport"==this._router.url||"/vtsdashboard/runningReport"==this._router.url||"/vtsdashboard/selectVehicleTimelineReport"==this._router.url||"/vtsdashboard/vehicleTimelineReport"==this._router.url?this.selectedViewDesktop="Reports":"/vtsdashboard/scheduleList"==this._router.url?this.selectedViewDesktop="Schedule":"/vtsdashboard/settingComponent"==this._router.url&&(this.selectedViewDesktop="Setting")},e}();m=f([i.i(n.Component)({selector:"app-dashboard",template:i("TWAt"),styles:[i("Bkuo")]}),v("design:paramtypes",["function"==typeof(y=void 0!==h.a&&h.a)&&y||Object,"function"==typeof(x=void 0!==u.b&&u.b)&&x||Object,"function"==typeof(b=void 0!==d.a&&d.a)&&b||Object,"function"==typeof(T=void 0!==c.A&&c.A)&&T||Object,"function"==typeof(S=void 0!==r.b&&r.b)&&S||Object,"function"==typeof(w=void 0!==a.a&&a.a)&&w||Object,"function"==typeof(D=void 0!==l.LocalStorageService&&l.LocalStorageService)&&D||Object,"function"==typeof(_=void 0!==o.b&&o.b)&&_||Object,"function"==typeof(L=void 0!==p.a&&p.a)&&L||Object,"function"==typeof(k=void 0!==g.a&&g.a)&&k||Object])],m);var y,x,b,T,S,w,D,_,L,k},"d/DD":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".back-header{padding:5px 0;background-color:#fbf9ff;height:35px;box-shadow:0 0 8px #a9a9a9;overflow:hidden;position:absolute;top:0;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex}div{font-family:Gotham-Rounded-Medium,Sans-Serif!important;color:#46465f}.my-hr{border-style:ridge;border-width:1px;margin-top:6px;min-width:250px;margin-bottom:3px}button{color:#fff;background-color:#1e88e5}",""]),e.exports=e.exports.toString()},d6Ns:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={"(Enter your Mobile number)":"(Ingrese su numero celular)",Help:"ayuda","Mobile Number":"Número de teléfono móvil","Enter OTP":"Introduzca OTP","(Enter OTP Below)":"(Introduzca la OTP a continuación)",Login:"Iniciar sesión","This field is required":"este campo es requerido","send OTP":"Enviar OTP","Resend OTP":"Reenviar OTP",Dashboard:"Tablero",Statistics:"Estadística","Location History":"Historial de ubicaciones",Reports:"Informes","Vehicle Running":"Funcionamiento del vehículo","Vehicle Overspeed":"Sobrevelocidad del vehículo","Vehicle Stop":"Parada del vehículo","Vehicle Night Drive":"Noche de vehículo",Alerts:"Alertas",Settings:"Ajustes",LOGOUT:"CERRAR SESIÓN","All vehicle":"Todo el vehículo",Search:"Buscar","search Here":"busca aquí",Status:"Estado",Disconnected:"Desconectado",Overspeed:"Sobre velocidad",Stop:"Detener",Moving:"emocionante",List:"Lista"}},dAUx:function(e,t){e.exports='<md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n<div class ="edited-datepicker" style="padding: 8px;overflow:auto;height: calc(100vh - 50px);">\r\n  <div *ngIf="view ==\'web\'" style="padding: 10px;color: #959595;font-weight: bold;" >\r\n    <span>Vehicle Running Report</span>\r\n  </div>\r\n  \x3c!--<i class="fa fa-clock-o schudle-icon" (click)="goToScheduleReportView()" aria-hidden="true"></i>--\x3e\r\n\r\n  \x3c!--   *************  add new vehicle dialog box **************** --\x3e\r\n  <div *ngIf="isAddVehicleDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isAddVehicleDialog=false;" >&times;</span>\r\n        <label>{{\'Select Vehicle\' | translate }}</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="padding: 5px;display: flex">\r\n          <div style="width: 100%;">\r\n            <md-input-container style="width: 96%;" >\r\n              <input mdTooltip="{{\'Search\' | translate }}" mdInput  placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" >\r\n            </md-input-container>\r\n          </div>\r\n          <div style="padding-top: 6px;">\r\n            <button md-raised-button [disabled]="isDisabled" style="width:47px;line-height: 27px;" (click)="AddVehicle();isAddVehicleDialog=false;">{{\'OK\' | translate }}</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div style="min-height: 100px;max-height: 250px;overflow: auto;padding-bottom: 3px;" >\r\n          <div *ngFor="let vehicle of vehicleList | vehicleFilter: [\'vehicleRegistrationNumber\', search]" >\r\n            <md-card  style="margin-top: 2px;cursor: pointer;padding:16px;display: flex;" class="vehicle-hover"\r\n                      (click)="vehicle.select=!vehicle.select;chackValid()" >\r\n              <div style="min-width: 40px">\r\n               <span *ngIf="vehicle.select" class="select-vehicle"\r\n                     style="background-color: deepskyblue;">\r\n                 <i class="fa fa-check" aria-hidden="true"></i>\r\n               </span>\r\n                <span *ngIf="!vehicle.select" class="select-vehicle"\r\n                      style="background-color: grey;">\r\n                 <i class="fa fa-slack" aria-hidden="true"></i>\r\n               </span>\r\n              </div>\r\n              <span style="margin-left: 18px;font-size: 16px;">{{vehicle.vehicleRegistrationNumber}}</span>\r\n            </md-card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--Add new vehicle dialog box ends here--\x3e\r\n\r\n  <md-card>\r\n    <div fxLayout="row">\r\n      <span style="padding-top: 11px;padding-right: 4px;">{{\'Date:\' | translate }}</span>\r\n      \x3c!--<form  style="width: 132px;" #myForm1="ngForm" novalidate>--\x3e\r\n        \x3c!--<my-date-picker name="from" [options]="dateFormat"--\x3e\r\n                        \x3c!--[(ngModel)]="fromDate" required>--\x3e\r\n        \x3c!--</my-date-picker>--\x3e\r\n      \x3c!--</form>--\x3e\r\n      \x3c!--<span style="font-size: 17px;padding: 5px;margin-left: 2px">-</span>--\x3e\r\n      \x3c!--<form  style="width: 132px;" #myForm2="ngForm" novalidate>--\x3e\r\n        \x3c!--<my-date-picker name="to"  id="secondDate" [options]="dateFormat"--\x3e\r\n                        \x3c!--[(ngModel)]="toDate" required>--\x3e\r\n        \x3c!--</my-date-picker>--\x3e\r\n      \x3c!--</form>--\x3e\r\n      \x3c!--<div style="height: 50%">--\x3e\r\n\r\n      <input id="fDate" placeholder="{{\'Start Date\' | translate }}" [autoClose] = "false" style="min-width: 50px;" [ngModel]="fromDate | date: \'dd/MM/yyyy ,hh:mm a\'" [(dateTimePicker)]="fromDate" [pickerType]="\'both\'"\r\n             [hourTime]="\'12\'" readonly />\r\n        \x3c!--</div>--\x3e\r\n\r\n      <span style="font-size: 17px;padding: 5px;">-</span>\r\n\r\n      <input id="eDate" placeholder="{{\'End Date\' | translate }}" [autoClose] = "false" style="min-width: 50px;" [ngModel]="toDate | date:\'dd/MM/yyyy ,hh:mm a\'" [(dateTimePicker)]="toDate" [pickerType]="\'both\'"\r\n             [hourTime]="\'12\'" readonly />\r\n\r\n    </div>\r\n\r\n    <div fxLayout="row" style="padding-top: 15px;margin-bottom: 7px;">\r\n      <span>{{\'Vehicle\'| translate }}:</span>\r\n      <ul class="vehicle-list">\r\n            <li *ngFor="let veh of selectedVehicles;let ind=index" >\r\n              {{veh.vehicleRegistrationNumber}}\r\n              <span  class="remove-vehicle" (click)="unselectVehicle(ind)" >&times;</span>\r\n            </li>\r\n      </ul>\r\n      <div style="margin-left: auto;">\r\n        <button id="add" md-raised-button style="width:47px;line-height: 27px;" (click)="openAddVehicleDialog()">Add</button>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n  <md-card style="margin-top: 0px">\r\n    \x3c!--<div  style="padding: 5px;text-align: right;" class="share-download">--\x3e\r\n      \x3c!--<i class="fa fa-share-alt" aria-hidden="true" mdTooltip="share"></i>--\x3e\r\n      \x3c!--<i class="fa fa-download" aria-hidden="true"  mdTooltip="{{\'Download pdf\' | translate }}">--\x3e\r\n        \x3c!--<span>P</span>--\x3e\r\n      \x3c!--</i>--\x3e\r\n        \x3c!--<i class="fa fa-download" aria-hidden="true"  mdTooltip="{{\'Download XL\' | translate }}">--\x3e\r\n        \x3c!--<span>X</span>--\x3e\r\n      \x3c!--</i>--\x3e\r\n    \x3c!--</div>--\x3e\r\n\r\n    <div fxLayout="row" style="padding-top: 8px">\r\n       <div fxFlex style="margin-top: 8px;font-size: 17px">\r\n         <span>{{selectedVehicles.length}} {{\'Records\' | translate }}</span>\r\n       </div>\r\n      <div fxFlex style="display: grid;text-align: right;color: #757575;font-size:12px;">\r\n        <span>{{totalDistance | number : \'1.1-2\'}} kms</span>\r\n        <span>{{totalDuration}}</span>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n\r\n  <hr style="border-style:ridge;border-width:1px;margin-top: 5px">\r\n\r\n  <md-card *ngFor="let vehicleDetail of vehicleDetails" style="min-height: 150px">\r\n    <div fxLayout="row" style="margin-bottom: 10px;" >\r\n      <img class="img-container" src="../../../../images/lorry.png" alt="image"  >\r\n      <span style="font-size: 17px;color:black;margin-left:5px">{{vehicleDetail[\'vehicleRegistrationNumber\']}}\r\n        <span style="color: #403030;font-size: 12px;">{{vehicleDetail[\'vehicleType\']}}</span>\r\n      </span>\r\n    </div>\r\n    <div  *ngIf="vehicleDetail[\'details\'].length > 0 " fxLayout="row" style="color:#505050;padding: 10px 3px;">\r\n      <div fxFlex="30" style="overflow:hidden;">\r\n        <span (click)="vehicleDetail.isMore=true" [style.white-space]="vehicleDetail.isMore?\'normal\':\'nowrap\'"  >\r\n           {{vehicleDetail[\'details\'][0][\'startPosition\'][\'address\']}}\r\n        </span>\r\n        <span *ngIf="!vehicleDetail.isMore " (click)="vehicleDetail.isMore=true" >&nbsp;\r\n        <i style="cursor: pointer;margin-left: 40%;" class="fa fa-ellipsis-h" aria-hidden="true"></i>\r\n        </span>\r\n      </div>\r\n      <div fxFlex="40" style="text-align: center;padding-left: 3px;padding-right: 3px;">\r\n        <span style="font-size:11px;" >{{vehicleDetail[\'details\'][0][\'distance\']/1000 | number : \'1.2-2\'}} kms</span>\r\n        <hr style="border-style: outset;border-width:1px;margin: 1px">\r\n        <span style="font-size:11px;">{{totalDuration}}</span>\r\n      </div>\r\n      <div  fxFlex="30" style="overflow:hidden;" >\r\n        <span style="text-align: right;margin-right: 2px" (click)="vehicleDetail.isMore2=true"\r\n            [style.white-space]="vehicleDetail.isMore2?\'normal\':\'nowrap\'" >\r\n        {{vehicleDetail[\'details\'][0][\'endPosition\'][\'address\']}}\r\n        </span>\r\n         <span *ngIf="!vehicleDetail.isMore2 " (click)="vehicleDetail.isMore2=true" >&nbsp;\r\n         <i style="cursor: pointer;margin-left: 40%" class="fa fa-ellipsis-h" aria-hidden="true"></i>\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf="vehicleDetail[\'details\'].length == 0" style="font-size: 20px;text-align: center;opacity: .5;padding-top: 25px;transform: rotate(-30deg);">\r\n      <span>{{\'No Record\' | translate }}</span>\r\n    </div>\r\n\r\n    <div  *ngIf="vehicleDetail[\'details\'].length  > 0 " style="color:#505050;padding: 10px 3px;">\r\n      <span style="vertical-align: 2px">{{\'View details\' | translate}}</span>\r\n      <span *ngIf="!vehicleDetail[\'details\'][\'isLocShow\']" (click)="vehicleDetail[\'details\'][\'isLocShow\']=true" style="font-size: 14px;cursor: pointer;padding: 0px 2px 3px 13px;"> &#9660;</span>\r\n      <span *ngIf="vehicleDetail[\'details\'][\'isLocShow\']" (click)="vehicleDetail[\'details\'][\'isLocShow\']=false"  style="font-size: 14px;cursor: pointer;padding: 0px 2px 3px 13px;">&#9650;</span>\r\n      <div *ngIf="vehicleDetail[\'details\'][\'isLocShow\']" class="view-details">\r\n        <div >\r\n          <span>{{\'Average Speed\' | translate }}:</span>\r\n          <span style="float: right" >{{vehicleDetail[\'details\'][0][\'average\'] | number : \'1.2-2\'}} km/h</span>\r\n        </div>\r\n        <div >\r\n          <span>{{\'Total stoppage\'| translate}}:</span>\r\n          <span style="float: right" >{{vehicleDetail[\'details\'][0][\'vehStoppageTime\']}}</span>\r\n        </div>\r\n        <div >\r\n          <span>{{\'Total drivetime\' | translate}}:</span>\r\n          <span style="float: right" >{{vehicleDetail[\'details\'][0][\'vehDriveTime\']}}</span>\r\n        </div>\r\n        <div >\r\n          <span>{{\'Overspeed duration\' | translate }}:</span>\r\n          <span style="float: right" >{{vehicleDetail[\'details\'][0][\'vehOverSpeedDuration\']}}</span>\r\n        </div>\r\n        <div >\r\n          \x3c!--<span>{{\'Disconnect duration\' | translate}}:</span> @todo uncomment when data come from backend--\x3e\r\n          \x3c!--<span style="float: right" >(10:55:22)</span>--\x3e\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n  <div style="height:55px"></div>\r\n</div>\r\n'},dljJ:function(e,t){e.exports='\x3c!--Top Header to be shown in mobile view only --\x3e\r\n\r\n<div class="top-header" id="top-head" *ngIf="view!=\'web\'" >\r\n  <div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">\r\n      <span >\r\n        <i style="color:white;" (click)="goToManageOrganisationView()" class="fa fa-arrow-left" aria-hidden="true" ></i>\r\n      </span>\r\n    <span>\r\n        <label style="color:white;margin-left: 10px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">Vehicle Management</label>\r\n      </span>\r\n\r\n    \x3c!--<span style="margin-left: auto;margin-right:45px;" >--\x3e\r\n      \x3c!--</span>--\x3e\r\n  </div>\r\n</div>\r\n\r\n\x3c!--Top header ends here--\x3e\r\n\r\n<div >\r\n  <section style="margin-top: 1px;margin-bottom: 2px;" >\r\n    <md-button-toggle-group class="my-toggle" style="font-size:12px;height: 40px;width: 100vw;margin-bottom: 3%" #group="mdButtonToggleGroup" [(ngModel)]="status" (change)="toggleVehiclesView()">\r\n      <md-button-toggle value="" class="menu-button-align" style="background-color: #3F51B5;min-width: 50%;padding-top: 7px;"\r\n                        [style.border-bottom]="(status == \'\')? \'thick solid #0000FF\':\'\'" (click)="toggleVehiclesView()">\r\n\r\n        <span style="font-size: larger; font-weight: bold;color: white;">{{\'Vehicle List\'| translate}}</span>\r\n      </md-button-toggle  >\r\n      <md-button-toggle value="Vehicle Group" class="menu-button-align" style="background-color: #3F51B5;min-width: 50%;padding-top: 7px;"\r\n                        [style.border-bottom]="(status == \'Vehicle Group\')? \'thick solid #0000FF\':\'\'" (click)="toggleVehiclesView()">\r\n        \x3c!--<span style="margin-left: -14px;" class="badge-icon" >{{vehicleCount.moving}}</span>--\x3e\r\n        <span style="font-size: larger; font-weight: bold;color: white">{{\'Vehicle Group\' | translate}}</span>\r\n      </md-button-toggle>\r\n    </md-button-toggle-group>\r\n  </section>\r\n</div>\r\n\r\n<app-manage-vehicle-list *ngIf="!isShowVehiclesGroup"></app-manage-vehicle-list>\r\n\r\n<app-manage-vehicle-group *ngIf="isShowVehiclesGroup"></app-manage-vehicle-group>\r\n\r\n'},e36c:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,'.back-header{padding:5px 0;background-color:#fbf9ff;height:35px;box-shadow:0 0 8px #a9a9a9;overflow:hidden;position:absolute;top:0;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex}agm-map{height:300px}md-card{padding:9px;min-width:250px}div{font-family:Gotham-Rounded-Medium,Sans-Serif!important}.my-hr{border-style:ridge;border-width:1px;margin-top:6px;min-width:250px;margin-bottom:3px}.timeline-icon{width:18px;height:18px;line-height:18px;padding:0;min-width:0;font-size:15px;color:#faebd7;background-color:#8d6e63;left:15px}.cd-timeline{position:relative}.cd-timeline:before{content:"";position:absolute;left:23px;height:100%;width:2px;background:#00008b;box-shadow:0 0 10px #b0c4de}.timeline-header{text-align:center;display:-ms-grid;display:grid;margin:-8px -8px 2px;box-shadow:0 1px 1px #999;padding:10px;display:list-item}.save-button{float:left;color:#fff;font-size:23px;top:-11px;padding:0;min-width:34px;outline:none}',""]),e.exports=e.exports.toString()},"e5+H":function(e,t){e.exports='\x3c!--Top Header to be shown in mobile view only --\x3e\r\n\r\n<div class="top-header" id="top-head" *ngIf="view!=\'web\'" >\r\n  <div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">\r\n      <span>\r\n        <i style="color:white;" (click)="goToManageVehicles()" class="fa fa-arrow-left" aria-hidden="true" ></i>\r\n      </span>\r\n    <span>\r\n      <label style="color:white;margin-left: 10px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">{{selectedGroup[\'groupName\']}}</label>\r\n      <label style="color:white;margin-top: 4px;font-family: Gotham-Rounded-Medium, Sans-Serif">( {{vehiclesByGroupList.length}} vehicles)</label>\r\n      </span>\r\n\r\n    <span style="margin-left: auto;margin-right:45px;" >\r\n      <span style="font-size: 23px;color: rgba(245, 245, 245, 0.99);">\r\n             <i class="fa fa-trash" aria-hidden="true" (click)="showDeleteGroupConfirmation()" ></i>\r\n      </span>\r\n    </span>\r\n  </div>\r\n</div>\r\n\r\n\x3c!--Top header ends here--\x3e\r\n\r\n\r\n<div  style="overflow: auto;height: calc( 100vh - 50px)">\r\n  <div *ngFor="let vehicle of vehiclesByGroupList" >\r\n  <md-card (click)="goToEditVehicles(vehicle)">\r\n    <md-card-content style="margin-bottom: 1%">\r\n      <div fxLayout="row">\r\n        <div fxFlex="35"><span style="font-size: large"><b>{{vehicle[\'vehicleRegistrationNumber\']}}</b></span></div>\r\n        <div fxFlex="25"><label> {{vehicle[\'vehicleType\']}}</label></div>\r\n        <div fxFlex="40"><span style="background-color: #505050; color: white; border-radius: 10px; padding: 7px; margin-left: 8px">{{vehicle[\'vtsDeviceId\']!== ""?"FRETRON GPS": "OTHER GPS"}}</span></div>\r\n      </div>\r\n\r\n      <div fxLayout="row">\r\n        \x3c!--<div fxFlex="50"><span style="color: #9b9b9b">Status</span></div>--\x3e\r\n        <div fxFlex="50"><span style="color: #9b9b9b">Group :</span></div>\r\n      </div>\r\n      <div fxLayout="row">\r\n        \x3c!--<div fxFlex="50"><span><label>Own Vehicle</label></span></div>--\x3e\r\n        <div fxFlex="50"><span><label></label>{{selectedGroup[\'groupName\']}}</span></div>\r\n      </div>\r\n\r\n    </md-card-content>\r\n  </md-card>\r\n  </div>\r\n  <div style="width: 100%; height: 50px"></div>\r\n\r\n  <button md-fab color="primary" style="position: absolute; top: 90%" [style.left]="(view ==\'web\')?\'90%\':\'80%\'" >\r\n  <i class="fa fa-plus" aria-hidden="true" style="font-size: 20px;color: white "></i>\r\n  </button>\r\n</div>\r\n\r\n\x3c!--Delete Group Modal  starts here--\x3e\r\n<div  *ngIf="isShowConfirmDelete" id="deleteUserModal" class="modal">\r\n  \x3c!--Invite User Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowConfirmDelete=false">&times;</span>\r\n    <h3 style="text-align: center">Confirm Delete</h3>\r\n    <div>\r\n      <div style="width: 100%">\r\n        <label>Are you sure to delete selected group?</label>\r\n      </div>\r\n    </div>\r\n    <div style="margin-top: 2%">\r\n      <button md-raised-button color="primary" (click)="deleteSelecetedGroup()" >YES</button>\r\n      <button md-button (click)="isShowConfirmDelete=false">NO</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--Delete Group Modal ends here--\x3e\r\n\r\n\r\n\r\n\r\n'},e9kj:function(e,t){e.exports='<div class="custom-date-picker" style="padding: 9px;height: calc(100vh - 45px);overflow: auto;width: calc(100vw - 18px);" >\r\n\r\n\r\n  \x3c!--   *************  report type dialog box **************** --\x3e\r\n  <div *ngIf="isReportTypeDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isReportTypeDialog=false;" >&times;</span>\r\n        <label>{{\'Select Report Type\' | translate }}</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;" >\r\n        <div style="min-height: 100px;max-height: 250px;overflow: auto;padding-bottom: 3px;" >\r\n          <div>\r\n            <span style="color:red;font-size: 13px">{{validationMsg}}</span>\r\n          </div>\r\n          <div>\r\n            <div style="padding: 10px" >\r\n              <md-checkbox [(ngModel)]="reportType.running" style="margin-top: 10px" >Running Report</md-checkbox>\r\n            </div>\r\n            <div style="padding: 10px" >\r\n              <md-checkbox [(ngModel)]="reportType.stoppage" >Stoppage Report</md-checkbox>\r\n            </div>\r\n            <div style="padding: 10px" >\r\n              <md-checkbox [(ngModel)]="reportType.timeline" >Timeline Report</md-checkbox>\r\n            </div>\r\n          </div>\r\n          <div style="padding:6px;text-align: right;" >\r\n            <button style="min-width: 50px;line-height: 26px;" md-raised-button color="primary" (click)="selReportType()" >OK</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!-- report type dialog box ends here--\x3e\r\n\r\n\r\n\r\n  <div style="margin-bottom: 10px">\r\n\r\n    \x3c!--<div class="vertical-line" style="height: 45px;" ></div>--\x3e\r\n\r\n    <div  style="display:flex;" >\r\n      <label (click)="steperNo =1" class="stepperIcon" [style.background-color]="(scheduleTime !=null) ?\'#3f51b5\':\'grey\'" >\r\n        <span style="position: absolute;margin-left: -3px;margin-top: -8px;">1</span>\r\n      </label>\r\n      <span style="margin-left: 5px;margin-bottom: 10px">Schedule Report</span>\r\n    </div>\r\n\r\n    <div  *ngIf="steperNo == 1" style="padding:10px 15px;border-left: 1px solid #c1c1c1;margin-left:10px" >\r\n\r\n      <div style="margin-bottom: 10px;padding-left: 20px;" >\r\n        <md-input-container class="sub-header-text"  style="width: 90%;max-width: 400px;font-size: 13px;" >\r\n           <input mdInput [value]="rType" placeholder="{{\'Select Report Type\' | translate }}" (click)="isReportTypeDialog=true" readonly />\r\n        </md-input-container>\r\n      </div>\r\n\r\n      <div style="margin-bottom: 20px;padding-left: 20px;" >\r\n        <md-select class="customeSelect"  [(ngModel)]="selectedFrequency"  name="frequency" style="width: 90%;max-width: 400px;" >\r\n          \x3c!--<md-option value="" >Frequency</md-option>--\x3e\r\n          <md-option value={{frequency}} *ngFor="let frequency of allFrequency" >{{frequency}}</md-option>\r\n        </md-select>\r\n      </div>\r\n\r\n      <div style="margin-bottom:20px;padding-left: 20px;" >\r\n        \x3c!--<md-select class="customeSelect" [(ngModel)]="repeat"  name="repeat"  style="width: 90%;max-width: 400px;margin-bottom: 20px;" >--\x3e\r\n          \x3c!--<md-option value="" >Repeat</md-option>--\x3e\r\n          \x3c!--<md-option value="repeatOn" >Repeat on</md-option>--\x3e\r\n          \x3c!--<md-option value="repeatOff" >Repeat off</md-option>--\x3e\r\n        \x3c!--</md-select>--\x3e\r\n\r\n        <div *ngIf="selectedFrequency == \'Weekly\'" fxLayout="row" style="padding-left:10px;width:90%;max-width:420px;" class="day-list">\r\n          <div fxFlex>\r\n            <md-card [style.background-color]="(day.sunday == true)?\'#5a8fc3\':\'\'" (click)="day.sunday =!day.sunday" >S</md-card>\r\n          </div>\r\n          <div fxFlex>\r\n            <md-card [style.background-color]="(day.monday == true)?\'#5a8fc3\':\'\'" (click)="day.monday =!day.monday" >M</md-card>\r\n          </div>\r\n          <div fxFlex>\r\n            <md-card [style.background-color]="(day.tuesday == true)?\'#5a8fc3\':\'\'" (click)="day.tuesday =!day.tuesday" >T</md-card>\r\n          </div>\r\n          <div fxFlex >\r\n            <md-card [style.background-color]="(day.wednesday == true)?\'#5a8fc3\':\'\'" (click)="day.wednesday =!day.wednesday">W</md-card>\r\n          </div>\r\n          <div fxFlex>\r\n            <md-card [style.background-color]="(day.thursday == true)?\'#5a8fc3\':\'\'" (click)="day.thursday =!day.thursday">T</md-card>\r\n          </div>\r\n          <div fxFlex>\r\n            <md-card [style.background-color]="(day.friday == true)?\'#5a8fc3\':\'\'" (click)="day.friday =!day.friday">F</md-card>\r\n          </div>\r\n          <div fxFlex>\r\n            <md-card [style.background-color]="(day.saturday == true)?\'#5a8fc3\':\'\'" (click)="day.saturday =!day.saturday">S</md-card>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf="selectedFrequency == \'Monthly\'" fxLayout="row" style="padding-left:10px;width:90%;max-width:420px;" class="day-list">\r\n          <div style="display:flex" >\r\n            <md-select class="customeSelect customSelectDateNo" [(ngModel)]="dateNo"  name="dateNo" >\r\n               <md-option *ngFor="let date of dateNos" value="{{date}}" >{{date}}</md-option>\r\n            </md-select>\r\n            <span class="sub-header-text" style="margin-top: 10px;margin-left: 10px;"> Of every month</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf="selectedFrequency == \'Periodic\'" fxLayout="row" style="padding-left:10px;width:90%;max-width:420px;" class="day-list">\r\n          <div style="display:flex" >\r\n            <span class="sub-header-text" style="margin-top: 10px;" >Every</span>\r\n            <md-select style="margin-left: 10px" class="customeSelect customSelectDateNo" [(ngModel)]="periodicNo"  name="dateNo" >\r\n              <md-option *ngFor="let periodicNo of periodicNoList" value="{{periodicNo}}" >{{periodicNo}}</md-option>\r\n            </md-select>\r\n            <span class="sub-header-text" style="margin-top: 10px;margin-left: 10px;"> Days</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style="padding-left: 20px;margin-bottom:20px;" >\r\n        <md-input-container style="width: 90%;max-width: 400px;" >\r\n        <input mdInput id="scheduleTime" placeholder="{{\'Time\' | translate }}" [autoClose] = "false" style="min-width: 50px;font-size: 13px;" [ngModel]="scheduleTime | date: \'hh:mm a\'" [(dateTimePicker)]="scheduleTime" [pickerType]="\'time\'"\r\n                [hourTime]="\'12\'" readonly />\r\n          </md-input-container>\r\n        <i style="margin-left:-20px;color:#858585;" class="fa fa-clock-o" aria-hidden="true"></i>\r\n      </div>\r\n\r\n      <div style="width: 90%;max-width: 420px;text-align: right">\r\n        <button md-raised-button color="primary" [disabled]=\'scheduleTime ==null\' (click)="goToStep2()">Next</button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n  \x3c!-- if steppr no == 2--\x3e\r\n    <div style="margin-bottom: 10px" >\r\n      <div style="display: flex;" >\r\n         <label (click)="steperNo =2" class="stepperIcon" [style.background-color]="vehicles.length >0?\'#3f51b5\':\'grey\'" >\r\n            <span style="position: absolute;margin-left: -3px;margin-top: -8px;">2</span>\r\n         </label>\r\n      \x3c!--<hr>--\x3e\r\n         <span style="margin-left: 5px;margin-bottom: 10px">Select Vehicles</span>\r\n      </div>\r\n      \x3c!-- hide div when stepper value is 2--\x3e\r\n      <div [style.display]="steperNo ==2?\'block\':\'none\'"  style="border-left: 1px solid #c1c1c1;margin-left: 10px" >\r\n        \x3c!--<div style="display: grid;font-size: 13px;margin-left: 40px;margin-top: 20px;" class="sub-header-text" >--\x3e\r\n          \x3c!--<md-checkbox style="margin-top: 5px" [(ngModel)]="checked">Select all vehicles</md-checkbox>--\x3e\r\n          \x3c!--<md-checkbox style="margin-top: 5px"  [(ngModel)]="indeterminate">vehicle group 1</md-checkbox>--\x3e\r\n          \x3c!--<md-checkbox style="margin-top: 5px"  [(ngModel)]="indetermina">vehicle group 2</md-checkbox>--\x3e\r\n          \x3c!--<md-checkbox style="margin-top: 5px"  [(ngModel)]="indetermin">vehicle group 3</md-checkbox>--\x3e\r\n        \x3c!--</div>--\x3e\r\n\r\n        <div style="margin: 20px;">\r\n          <vehicle-picker></vehicle-picker>\r\n        </div>\r\n\r\n        <div style="width:90%;max-width: 420px;text-align: right" >\r\n          <button [disabled]="vehicles.length <=0"  md-raised-button color="primary" (click)="goToStep3()">Next</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \x3c!-- close if steppr no == 2--\x3e\r\n\r\n\x3c!-- ************************** if stepper == 3 ************************************ --\x3e\r\n    <div style="margin-bottom: 10px;" >\r\n      <div style="display: flex;">\r\n        <label (click)="steperNo =3" class="stepperIcon" [style.background-color]="(emailList.length >0)?\'#3f51b5\':\'grey\'" >\r\n          <span style="position: absolute;margin-left: -3px;margin-top: -8px;">3</span>\r\n        </label>\r\n        <span style="margin-left: 5px;">Select Action</span>\r\n      </div>\r\n\r\n      <div *ngIf="steperNo == 3" style="display: grid;;border-left: 1px solid #c1c1c1;margin-left:10px;margin-top:10px;width: 90%" >\r\n        <md-select class="customeSelect"  [(ngModel)]="actionType"  name="frequency" style="margin-left: 20px;width: 90%;max-width: 400px;margin-bottom: 10px" >\r\n          <md-option value="email" >Email</md-option>\r\n        </md-select>\r\n\r\n        <md-input-container *ngIf="actionType ==\'email\'" style="width: 90%;max-width: 400px;margin-left: 20px;" floatPlaceholder="never">\r\n          <md-chip-list >\r\n            <md-chip style="margin: 3px" *ngFor="let email of emailList; let i = index"\r\n                     color="accent">\r\n              {{email}}\r\n              <i class="fa fa-close" (click)="remove(i)"></i>\r\n            </md-chip>\r\n          </md-chip-list>\r\n          <input mdInput\r\n                 placeholder="Enter Email"\r\n                 [(ngModel)]="chipValue"\r\n                 #chip (keydown.space)= "add(chip.value)"\r\n                 (blur)= "add(chip.value)"\r\n                 (keydown.enter)="add(chip.value)" >\r\n        </md-input-container>\r\n\r\n        <div style="width: 90%;max-width: 420px;text-align: right;margin-left: 20px;margin-top: 10px">\r\n          <button  md-raised-button color="primary" [disabled]="emailList.length <=0 || scheduleTime ==null || vehicles.length <=0" (click)="create()" >Create</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \x3c!-- ************************** close if stepper == 3 ************************************ --\x3e\r\n</div>\r\n'},eWfs:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Ths4"),r=(i.n(o),i("5oXY")),s=i("WWmu"),a=i("5J2v"),l=i("j7LN"),c=i("fYnu");i.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,i,n,o){var r=this;this.localStorageService=e,this._router=t,this._store=i,this._userManagementServices=n,this.snackBar=o,this.unSub_customerDetails=null,this.customerName="",this.currentOrgId="",this.orgName="",this.userOrgId="",this.orgType="",this.newOrgUuid="",this.customerMobile="",this.userDetails=null,this.unsub_createOrgResponse=null,this.unsub_switchOrgToUserResponse=null,this._store.dispatch({type:"TITLE",payload:"Add Organisation"}),this.unSub_customerDetails=i.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&(r.currentOrgId=e.customer.orgId,r.customerName=e.customer.name)}),this.unsub_createOrgResponse=i.select("createOrganisationResponse").subscribe(function(e){null!=e&&(console.log("create organisation response in component"),console.log(e),""===e.error?(console.log("create organisation response in component"),console.log(e),r.openSnackBar("Organisation added successfully!"),r.newOrgUuid=e.res["organisation.created"].uuid,r._userManagementServices.switchOrganisations.emit(r.newOrgUuid)):r.openSnackBar(e.errorMsg))}),this.unsub_switchOrgToUserResponse=i.select("switchOrgResp").subscribe(function(e){if(null!=e)if(console.log("switch organisation response in component"),console.log(e),""===e.error){r.localStorageService.set("AUTH_TOKEN",e.res.token);var t=r.customerDetail(e.res.token);console.log(t);var i="http://"+window.location.hostname+":"+window.location.port;console.log(i+"/transporter"),"TRANSPORTER"==t.details.orgType?window.location.replace(i+"/transporter"):"FLEET_OWNER"==t.details.orgType?window.location.replace(i+"/tracknet/vtsdashboard"):t.details.orgType}else r.openSnackBar(e.errorMsg)})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.addNewOrganisation=function(){var e={orgId:this.userOrgId,organisationName:this.orgName,type:this.orgType};console.log(e),this._userManagementServices.createOrg.emit(e)},e.prototype.customerDetail=function(e){console.log(e);var t={};this.userDetails=null;var i=e.split(".")[0],n=i.replace("-","+").replace("_","/");return t.userType=JSON.parse(window.atob(n)),i=e.split(".")[1],n=i.replace("-","+").replace("_","/"),t.details=JSON.parse(window.atob(n)),this.userDetails=t,console.log(this.userDetails),t},e.prototype.goToDashboard=function(){this._store.dispatch(i.i(a.c)(["/vtsdashboard"]))},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e}();u=d([i.i(n.Component)({selector:"app-add-new-organisation",template:i("Cz6b"),styles:[i("7r+o")]}),p("design:paramtypes",["function"==typeof(h=void 0!==o.LocalStorageService&&o.LocalStorageService)&&h||Object,"function"==typeof(g=void 0!==r.b&&r.b)&&g||Object,"function"==typeof(f=void 0!==s.b&&s.b)&&f||Object,"function"==typeof(v=void 0!==l.a&&l.a)&&v||Object,"function"==typeof(m=void 0!==c.A&&c.A)&&m||Object])],u);var h,g,f,v,m},eXlC:function(e,t){e.exports="<div style=\"height:calc(100vh - 45px);width: 100%;overflow: auto\">\r\n  <md-spinner *ngIf=\"isSpinner\" mode=\"indeterminate\" class=\"spinner\" style=\"margin-top: -40px;\"></md-spinner>\r\n\r\n  <div *ngIf=\"errorMsg !=''\" style=\"padding: 10px;color: red;\" >\r\n    <span>{{errorMsg}}</span>\r\n  </div>\r\n\r\n  <div *ngIf=\"scheduleList.length <= 0\" class=\"align-center\">\r\n    <label>No schedule created</label>\r\n    <button (click)=\"goToCreateNewSchedule()\" style=\"margin-left: 41px;\" md-fab color=\"primary\" ><i style=\"font-size: 20px;\" class=\"fa fa-plus\" aria-hidden=\"true\"></i></button>\r\n  </div>\r\n\r\n  <div *ngIf=\"scheduleList.length > 0\" >\r\n    <div  *ngFor=\"let schedule of scheduleList\">\r\n     <md-card class=\"schedule-list\" fxLayout=\"row\" *ngIf=\"schedule['reportSchduleType']== 'Daily'\"  >\r\n         <div class=\"sub-header-text\">\r\n           <div >\r\n             <span style=\"font-weight: bold\">{{schedule['reportSchduleType']}} at {{schedule['time'] | date:'shortTime' }}</span>\r\n             <span>to {{schedule['emailList'].length}} email address</span>\r\n           </div>\r\n           <div  style=\"margin-top: 5px\" >\r\n             <span>{{schedule['vehicleList'].length}} vehicle selected</span>\r\n           </div>\r\n\r\n           <div class=\"chips-div\" >\r\n             <span *ngFor=\"let type of schedule['reportType']\"  class=\"report-type-chips\">{{type}} Report</span>\r\n           </div>\r\n         </div>\r\n         <div style=\"margin-left: auto;\">\r\n           <md-slide-toggle [checked]=\"schedule['activeStatus']\" (change)=\"changeScheduleState(schedule)\" ></md-slide-toggle>\r\n         </div>\r\n     </md-card>\r\n\r\n      <md-card class=\"schedule-list\" fxLayout=\"row\" *ngIf=\"schedule['reportSchduleType']== 'Weekly'\"  >\r\n         <div class=\"sub-header-text\">\r\n           <div >\r\n             <span ><b>Every</b> {{schedule['_days']}} at {{schedule['time'] | date:'shortTime' }}</span>\r\n             <span>to {{schedule['emailList'].length}} email address</span>\r\n           </div>\r\n           <div  style=\"margin-top: 5px\" >\r\n             <span>{{schedule['vehicleList'].length}} vehicle selected</span>\r\n           </div>\r\n\r\n           <div  class=\"chips-div\"  >\r\n             <span *ngFor=\"let type of schedule['reportType']\" class=\"report-type-chips\">{{type}} Report</span>\r\n           </div>\r\n         </div>\r\n         <div style=\"margin-left: auto;\">\r\n           <md-slide-toggle [checked]=\"schedule['activeStatus']\" (change)=\"changeScheduleState(schedule)\" ></md-slide-toggle>\r\n         </div>\r\n     </md-card>\r\n\r\n      <md-card class=\"schedule-list\" fxLayout=\"row\" *ngIf=\"schedule['reportSchduleType']== 'Monthly'\"  >\r\n        <div class=\"sub-header-text\">\r\n          <div>\r\n            \x3c!-- ************  condition group  *************--\x3e\r\n            <span *ngIf=\"(schedule['schedule']['datesOfMonth'][0]) == 1 || (schedule['schedule']['datesOfMonth'][0]) == 21 || (schedule['schedule']['datesOfMonth'][0]) == 31\" >\r\n              <b>{{schedule['schedule']['datesOfMonth'][0]}}st</b> day of every month at {{schedule['time'] | date:'shortTime' }}\r\n            </span>\r\n\r\n            <span *ngIf=\"(schedule['schedule']['datesOfMonth'][0]) == 2 ||(schedule['schedule']['datesOfMonth'][0]) == 22\" >\r\n              <b>{{schedule['schedule']['datesOfMonth'][0]}}nd</b> day of every month at {{schedule['time'] | date:'shortTime' }}\r\n            </span>\r\n\r\n            <span *ngIf=\"(schedule['schedule']['datesOfMonth'][0]) == 3 || (schedule['schedule']['datesOfMonth'][0]) == 23\" >\r\n              <b>{{schedule['schedule']['datesOfMonth'][0]}}rd</b> day of every month at {{schedule['time'] | date:'shortTime' }}\r\n            </span>\r\n\r\n            <span *ngIf=\"(schedule['schedule']['datesOfMonth'][0]) != 1 && (schedule['schedule']['datesOfMonth'][0]) != 2 &&\r\n            (schedule['schedule']['datesOfMonth'][0]) != 3 && (schedule['schedule']['datesOfMonth'][0]) != 21 &&\r\n             (schedule['schedule']['datesOfMonth'][0]) != 22 &&(schedule['schedule']['datesOfMonth'][0]) != 23 &&\r\n             (schedule['schedule']['datesOfMonth'][0]) != 31\" >\r\n              <b>{{schedule['schedule']['datesOfMonth'][0]}}th</b> day of every month at {{schedule['time'] | date:'shortTime' }}\r\n            </span>\r\n            \x3c!-- ************ close condition group  *************--\x3e\r\n\r\n            <span>to {{schedule['emailList'].length}} email address</span>\r\n          </div>\r\n          <div  style=\"margin-top: 5px\" >\r\n            <span>{{schedule['vehicleList'].length}} vehicle selected</span>\r\n          </div>\r\n\r\n          <div class=\"chips-div\"  >\r\n            <span *ngFor=\"let type of schedule['reportType']\"  class=\"report-type-chips\">{{type}} Report</span>\r\n          </div>\r\n        </div>\r\n        <div style=\"margin-left: auto;\">\r\n          <md-slide-toggle [checked]=\"schedule['activeStatus']\" (change)=\"changeScheduleState(schedule)\" ></md-slide-toggle>\r\n        </div>\r\n      </md-card>\r\n\r\n      <md-card class=\"schedule-list\" fxLayout=\"row\" *ngIf=\"schedule['reportSchduleType'] == 'Periodic'\"  >\r\n        <div class=\"sub-header-text\">\r\n          <div >\r\n            <span >Every <b>{{schedule['schedule']['noOfDays']}} days</b> at {{schedule['time'] | date:'shortTime' }}</span>\r\n            <span>to {{schedule['emailList'].length}} email address</span>\r\n          </div>\r\n          <div  style=\"margin-top: 5px\" >\r\n            <span>{{schedule['vehicleList'].length}} vehicle selected</span>\r\n          </div>\r\n          <div  class=\"chips-div\" >\r\n            <span *ngFor=\"let type of schedule['reportType']\" class=\"report-type-chips\">{{type}} Report</span>\r\n          </div>\r\n        </div>\r\n        <div style=\"margin-left: auto;\">\r\n          <md-slide-toggle [checked]=\"schedule['activeStatus']\" (change)=\"changeScheduleState(schedule)\" ></md-slide-toggle>\r\n        </div>\r\n      </md-card>\r\n    </div>\r\n\r\n     \x3c!-- ****************** add schedule report button  ****************************  --\x3e\r\n      <button (click)=\"goToCreateNewSchedule()\" style=\"z-index: 1;position:absolute;bottom:15px;right:15px;\" md-fab color=\"primary\" >\r\n        <i style=\"font-size: 20px;\" class=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n      </button>\r\n    \x3c!-- *************************  close add schedule report button ********************  --\x3e\r\n  </div>\r\n\r\n  <div style=\"height: 80px\"></div>\r\n</div>\r\n\r\n\r\n"},fMO1:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"div,table{font-family:Gotham-Rounded-Medium,Sans-Serif!important}table{color:#46465f;font-size:11px;border-collapse:collapse;width:100%}td,th{border-right:1px solid #eee;text-align:center;padding:8px}tr:nth-child(2n){background-color:#f6f9fd}.select-row:hover{background-color:#f0f8ff}button{color:#fff;background-color:#1e88e5}button:hover:enabled{opacity:.7}.button-align button{line-height:25px}.pagination-button{min-width:0;padding:0 10px;line-height:25px;color:#46465f;background-color:#f5f5f5}.pagination-text{color:#828395;text-align:center!important;font-weight:bolder;font-size:14px;padding:0 5px;width:200px}.pagination-text span{display:inline-block;min-width:30px}md-option{height:35px;line-height:35px}.my-select{width:130px;padding:0 16px;vertical-align:6px}",""]),e.exports=e.exports.toString()},gF86:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"::-webkit-scrollbar{display:none}button{color:#fff;background-color:#1e88e5}button:hover{opacity:.7}md-card{padding:9px;margin-top:8px;min-width:250px}md-card div label{font-size:13px}.slow-expand{padding-bottom:6px;position:absolute;top:2px;right:0;width:calc(100% - 50px)}.expand-search{border:1.5px solid #03a9f4;width:100%;font-size:14px;padding:5px 26px 6px 12px;display:inline-block;border-radius:17px;box-sizing:border-box;outline:none}div{font-family:Gotham-Rounded-Medium,Sans-Serif!important;color:#46465f}\r\n\r\n\r\n/*!* search box*!*/.my-select{margin-top:8px;margin-right:8px;margin-left:8px;width:80%}.my-select>>>.mat-select-trigger{min-width:60px!important;font-size:15px;height:28px}.wrap-address label{margin-top:7px;overflow:hidden;white-space:nowrap;color:#616161}.wrap-address span{color:#858585;margin-left:4px;margin-top:13px;font-size:11px}.vehicle-status label{padding:4px;color:#fff;border-radius:4px;background-color:blue}.img-container{height:37px}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}.menu-button-align{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:20%;overflow:hidden;border-left:1px solid #d3d3d3;height:33px}.badge-icon{background-color:#1976d2;color:#fff;padding:0 4px;border-radius:10px;line-height:1.4;font-size:11px;margin-top:-10px;position:absolute}",""]),e.exports=e.exports.toString()},gGQI:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("Ths4");i.n(s);i.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this._store=e,this.localStorageService=t,this.status="",this.view="",this.isShowVehiclesGroup=!1,this.view=document.view,this._store.dispatch({type:"TITLE",payload:"Vehicle Management"});var i=this.localStorageService.get("LAST_CALLED_FROM_ORG_MANAGEMENT");console.log("From localstorage services : "),console.log(i),this.isShowVehiclesGroup="vehicle Group"==i}return e.prototype.ngOnInit=function(){},e.prototype.toggleVehiclesView=function(){""==this.status&&(this.isShowVehiclesGroup=!1),"Vehicle Group"==this.status&&(this.isShowVehiclesGroup=!0)},e.prototype.goToManageOrganisationView=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/manageOrganisation"]))},e}();c=a([i.i(n.Component)({selector:"app-vehicle-management",template:i("dljJ"),styles:[i("2ANS")]}),l("design:paramtypes",["function"==typeof(d=void 0!==o.b&&o.b)&&d||Object,"function"==typeof(p=void 0!==s.LocalStorageService&&s.LocalStorageService)&&p||Object])],c);var d,p},gQKN:function(e,t,i){"use strict";var n=i("3j3K"),o=i("uDr9");i.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this._translate=e}return e.prototype.transform=function(e,t){if(e)return this._translate.instant(e)},e}();a=r([i.i(n.Pipe)({name:"translate",pure:!1}),s("design:paramtypes",["function"==typeof(l=void 0!==o.a&&o.a)&&l||Object])],a);var l},gTfB:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".search{width:100%;font-size:17px;padding:9px 35px 9px 22px;display:inline-block;border:1.5px solid #ccc;border-radius:12px;box-sizing:border-box}.search:focus{outline:none;border:1.5px solid #03a9f4}.vehicle-hover:hover{background-color:beige}.ok-div{padding:5px;margin-top:5px;text-align:right}.ok-button{color:#fff;background-color:#1e88e5;width:47px;line-height:27px}",""]),e.exports=e.exports.toString()},gXhj:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,'.my-toggle>>>.mat-button-toggle-label-content{line-height:17px;padding:0 5px;font-size:12px}md-card{padding:8px;color:#46465f;font-size:13px}div,md-card{font-family:Gotham-Rounded-Medium,Sans-Serif!important}.timeline-icon{width:25px;height:25px;line-height:20px;padding:0;min-width:0;font-size:12px;color:#607d8b;border:1px solid #d7e4ed;background-color:#fff;left:11px}.cd-timeline{position:relative}.cd-timeline:before{content:"";position:absolute;left:21px;height:100%;width:6px;background:#d7e4ed}.show-fullscreen{transition:margin-top .5s}.timeline-header{text-align:center;display:-ms-grid;display:grid;margin:-8px -8px 2px;box-shadow:0 1px 1px #999;padding:4px;display:list-item;background-color:hsla(0,1%,70%,.08)}.timeline-header>>>.mydrp{border:none}.timeline-header>>>.selection{border:none;background-color:hsla(0,1%,70%,.08)}.timeline-header>>>.selectorarrow{top:4px;margin-top:0}.vehicle_no_header{background-color:#dcdcdc;color:#000;font-size:16px;padding:5px;border-radius:0 0 4px 4px;box-shadow:3px 4px 5px #a9a9a9}.selected-date{background-color:#008;color:#fff!important}.select-date{color:gray}.select-date md-card:hover{background-color:#00c;color:#fff!important}.top-header{width:100%;padding-bottom:3px}.my-download{color:#fff;cursor:pointer}.my-download:focus,.my-download:hover{color:rgba(193,208,234,.97);text-decoration:none;cursor:pointer}.download-csv{font-size:8px;vertical-align:8px;margin-left:-3px}',""]),e.exports=e.exports.toString()},"h+uX":function(e,t){e.exports='\x3c!--Top Header to be shown in mobile view only --\x3e\r\n\r\n<div class="top-header" id="top-head" *ngIf="view!=\'web\'" >\r\n  <div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">\r\n      <span >\r\n        <i style="color:white;" (click)="goToManageOrganisationView()" class="fa fa-arrow-left" aria-hidden="true" ></i>\r\n      </span>\r\n    <span>\r\n        <label style="color:white;margin-left: 10px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">Browse Trip Templates</label>\r\n      </span>\r\n\r\n    \x3c!--<span style="margin-left: auto;margin-right:45px;" >--\x3e\r\n    \x3c!--</span>--\x3e\r\n  </div>\r\n</div>\r\n\r\n\x3c!--Top header ends here--\x3e\r\n\r\n<div class="main-container" style="padding-bottom:10px;" >\r\n\r\n  <div *ngIf="isNotemplatesAvailable">\r\n    <md-card>\r\n      <h4 style="color: red">No Trip template available.</h4>\r\n    </md-card>\r\n  </div>\r\n  <div style="height:calc(100vh - 60px);overflow-y:scroll" *ngIf="!isNotemplatesAvailable">\r\n    <div class="trip-container" *ngFor="let template of tripTemplateList">\r\n      <md-card (click)="goToTripTemplateEdit(template)">\r\n         <div fxLayout="row" style="width:100%">\r\n           <span fxFlex>{{template?.origin?.name}}</span>\r\n           <span fxFlex><i class="fa fa-minus" style="width:20px"></i></span>\r\n           <span fxFlex>{{template?.destination?.name}}</span>\r\n           </div>\r\n           <div fxLayout="row" style="width:100%">\r\n              <span fxFlex>{{template.material}}</span>\r\n              <span fxFlex>{{template.distance}} KM</span>\r\n              <span fxFlex>{{template.quantity}} MT</span>\r\n          </div>\r\n      </md-card>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  \x3c!--<div style="height: 70px;">--\x3e\r\n      \x3c!--&lt;!&ndash;<span style="float:right;margin-right:35px">&ndash;&gt;--\x3e\r\n        \x3c!--&lt;!&ndash;<i style="color:DodgerBlue;font-size: 50px" class="fa fa-plus-circle" (click)="addTripTemplateView()"></i>&ndash;&gt;--\x3e\r\n      \x3c!--&lt;!&ndash;</span>&ndash;&gt;--\x3e\r\n  \x3c!--</div>--\x3e\r\n\r\n  <button md-fab color="primary" style="position: absolute; top: 90%" [style.left]="(view ==\'web\')?\'90%\':\'80%\'" (click)="addTripTemplateView()">\r\n    <i class="fa fa-plus" aria-hidden="true" style="font-size: 20px;color: white "></i>\r\n  </button>\r\n\r\n</div>\r\n\r\n\r\n'},hIQm:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("vwgX");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){var i=this;this.http=e,this._store=t,this.defaultHeaders=new o.c,this.freightLocation=new n.EventEmitter,this.res=null,this.freightLocation.subscribe(function(e){var t=a.a;i.addRecentFreightLocation(t,e).subscribe(function(e){return console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.addRecentFreightLocation=function(e,t){var i=new o.c(this.defaultHeaders);i.set("Content-Type","application/json"),console.log(i);var n=new o.d({method:o.e.Post,headers:i,body:t});return console.log(this.http),this.http.request(e,n).map(function(e){return console.log(e),e.json()})},e}();d=l([i.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(p=void 0!==o.f&&o.f)&&p||Object,"function"==typeof(u=void 0!==s.b&&s.b)&&u||Object])],d);var p,u},inIO:function(e,t){e.exports='<md-card (click)="goToManageVehicles()">\r\n  <md-card-content>\r\n    <div>\r\n      <label><b>Vehicles</b></label>\r\n    </div>\r\n  </md-card-content>\r\n</md-card>\r\n\r\n\x3c!--<md-card>--\x3e\r\n  \x3c!--<md-card-content>--\x3e\r\n    \x3c!--<div>--\x3e\r\n      \x3c!--<label><b>Devices</b></label>--\x3e\r\n    \x3c!--</div>--\x3e\r\n  \x3c!--</md-card-content>--\x3e\r\n\x3c!--</md-card>--\x3e\r\n\r\n<md-card (click)="goToUserManagement()">\r\n  <md-card-content>\r\n    <div>\r\n      <label><b>Members</b></label>\r\n    </div>\r\n  </md-card-content>\r\n</md-card>\r\n\r\n\x3c!--<md-card>--\x3e\r\n  \x3c!--<md-card-content>--\x3e\r\n    \x3c!--<div>--\x3e\r\n      \x3c!--<label><b>Billing & Payments</b></label>--\x3e\r\n    \x3c!--</div>--\x3e\r\n  \x3c!--</md-card-content>--\x3e\r\n\x3c!--</md-card>--\x3e\r\n\r\n\x3c!--<md-card>--\x3e\r\n  \x3c!--<md-card-content>--\x3e\r\n    \x3c!--<div>--\x3e\r\n      \x3c!--<label><b>Freight Location</b></label>--\x3e\r\n    \x3c!--</div>--\x3e\r\n  \x3c!--</md-card-content>--\x3e\r\n\x3c!--</md-card>--\x3e\r\n\r\n<md-card (click)="goToTripTemplate()">\r\n  <md-card-content>\r\n    <div>\r\n      <label><b>Trip Template</b></label>\r\n    </div>\r\n  </md-card-content>\r\n</md-card>\r\n\r\n\r\n'},ix47:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".main{min-width:200px;max-width:300px;margin:50px auto;padding:8px}button:hover{opacity:.7}.imgcontainer{text-align:center;margin:24px 0 20px}button{color:#fff;background-color:#1e88e5}.label-quote{width:100%;text-align:center;margin-top:40px;margin-bottom:30px;color:#5f9ea0}.add-button{width:50px;height:50px;line-height:50px;padding:0;min-width:0;font-size:18px;border-radius:30px;box-shadow:1px 4px 17px #2f4f4f}.language{margin-right:1px}.language>>>.mat-select-trigger{min-width:68px!important;font-size:13px;height:28px}.my-select{margin-top:11px;margin-right:5px}.my-select>>>.mat-select-trigger{min-width:68px!important;font-size:13px;height:28px}",""]),e.exports=e.exports.toString()},"j/qF":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("/lY3"),s=(i.n(r),i("+pb+")),a=(i.n(s),i("Pgz3")),l=i("fYnu"),c=i("5fbh");i.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,i,n){var o=this;this._store=e,this.snackBar=i,this.vehReportServices=n,this.isSpinner=!1,this.isAddVehicleDialog=!1,this.isDisabled=!0,this.search="",this.selectedVehicles=[],this.errorMsg="",this.allVehOverspeedDuration="",this.allVehicleTravelDistance=0,this.vehicleList=[],this.vehicleDetails=[],this.unSub_vehicleList=null,this.unSub_customerDetails=null,this.unSub_vehOverspeedReport=null,this.showOSFilterDialogue=!1,this.timeDurationOSUnit="Min",this.timeDurationOS=5,this.fileteredVehicleList=[],this.filterOSApplied=!1,this.fromDate=null,this.toDate=null;var r={};this._store.dispatch({type:"TITLE",payload:"Overspeed Report"}),this.unSub_customerDetails=e.select("customerDetails").subscribe(function(i){null!=i&&""==i.error&&(r=i.customer,console.log(r),o.unSub_vehicleList=e.select("vehicleListRes").subscribe(function(e){if(console.log(e),o.errorMsg="",null==e)return void t.getVehicleList.emit(r.id);if(""==e.error){o.vehicleList=e.data,console.log(o.vehicleList);for(var i=0;i<o.vehicleList.length;i++)o.vehicleList[i].select=!1}else console.log(e.errorMsg),o.errorMsg=e.errorMsg}))})}return e.prototype.ngAfterViewChecked=function(){for(var e=0;e<this.vehicleDetails.length;e++)if(null!=document.getElementById("timeline_"+e)){var t=document.getElementById("timeline_"+e).scrollWidth-document.getElementById("timeline_"+e).clientWidth;t==document.getElementById("timeline_"+e).scrollLeft?this.vehicleDetails[e].isScrollRightDisable=!0:this.vehicleDetails[e].isScrollRightDisable=!1,0==document.getElementById("timeline_"+e).scrollLeft?this.vehicleDetails[e].isScrollLeftDisable=!0:this.vehicleDetails[e].isScrollLeftDisable=!1}},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&this.unSub_vehicleList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_vehOverspeedReport&&null!=this.unSub_vehOverspeedReport&&void 0!=this.unSub_vehOverspeedReport&&this.unSub_vehOverspeedReport.unsubscribe()},e.prototype.openAddVehicleDialog=function(){return null==this.fromDate||null==this.toDate?void this.openSnackBar("Please select Date first"):this.toDate-this.fromDate<0?void this.openSnackBar("Start date must be less than End date"):this.fromDate.getTime()>(new Date).getTime()||this.toDate.getTime()>(new Date).getTime()?void this.openSnackBar("Date should not be greater than current Date"):void(this.isAddVehicleDialog=!0)},e.prototype.AddVehicle=function(){var e=this;if(null==this.fromDate||null==this.toDate)return void this.openSnackBar("Please select Date first");var t;"Hrs"==this.timeDurationOSUnit?t=60*this.timeDurationOS*60*1e3:"Min"==this.timeDurationOSUnit&&(t=60*this.timeDurationOS*1e3),this.selectedVehicles=[];var i=[];this.vehicleDetails=[];for(var n=[],o=0;o<this.vehicleList.length;o++)1==this.vehicleList[o].select&&(this.selectedVehicles.push(JSON.parse(JSON.stringify(this.vehicleList[o]))),i.push(JSON.parse(JSON.stringify(this.vehicleList[o]))),i[i.length-1].details=[],n.push(this.vehicleList[o].uuid),this.fileteredVehicleList.push(this.vehicleList[o].uuid));console.log(this.selectedVehicles);var r={startTime:this.fromDate.getTime(),endTime:this.toDate.getTime(),vehicleList:n,minimumTime:t};this.isSpinner=!0,void 0!==this.unSub_vehOverspeedReport&&null!=this.unSub_vehOverspeedReport&&void 0!=this.unSub_vehOverspeedReport&&this.unSub_vehOverspeedReport.unsubscribe(),this.vehReportServices.getOverspeedReport.emit(r),this._store.dispatch({type:"VEH_OVERSPEED_REPORT",payload:null}),this.unSub_vehOverspeedReport=this._store.select("vehOverspeedReport").subscribe(function(t){if(console.log(t),e.vehicleDetails=[],e.errorMsg="",null!=t)if(e.isSpinner=!1,""==t.error){var n=t.data,o=0,r=0;console.log(n);for(var s=0;s<n.length;s++){for(var a=0;a<n[s].value.length;a++)n[s].value[a].time=new Date(Number(n[s].value[a].startTime)),n[s].value[a].overspeedDuration=e.msToTime(Number(n[s].value[a].duration)),o+=Number(n[s].value[a].duration),n[s].value[a].distance=Number(n[s].value[a].duration)/1e3/60/60*Number(n[s].value[a].averageSpeed),r+=n[s].value[a].distance;n[s].vehOverspeedDuration=o,n[s]._vehOverspeedDuration=e.msToTime(o),n[s].vehTravelDistance=Number(r)}for(var l=0,c=0,s=0;s<i.length;s++){for(var a=0;a<n.length;a++)i[s].uuid==n[a].vehicleId&&(1==e.filterOSApplied&&(i[s].details=[]),i[s].details.push(n[a]),l+=n[a].vehOverspeedDuration,c+=n[a].vehTravelDistance);e.allVehOverspeedDuration=e.msToTime(l),e.allVehicleTravelDistance=c}e.vehicleDetails=i,console.log(e.vehicleDetails),console.log(e.vehicleDetails[0].details.length),console.log(e.vehicleDetails[0].details),console.log(e.selectedVehicles)}else console.log(t.errorMsg),e.vehicleDetails=i,e.openSnackBar(t.errorMsg)})},e.prototype.unselectVehicle=function(e){this.selectedVehicles.splice(e,1),this.vehicleDetails.splice(e,1);var t=0,i=0;if(0==this.vehicleDetails.length)return this.allVehOverspeedDuration="",void(this.allVehicleTravelDistance=0);console.log(this.vehicleDetails);for(var n=0;n<this.vehicleDetails.length;n++)this.vehicleDetails[n].details.length>0&&(t+=this.vehicleDetails[n].details[0].vehOverspeedDuration,i+=this.vehicleDetails[n].details[0].vehTravelDistance);if(0==t)return this.allVehOverspeedDuration="",void(this.allVehicleTravelDistance=0);this.allVehOverspeedDuration=this.msToTime(t),this.allVehicleTravelDistance=i},e.prototype.scrollLeft=function(e){document.getElementById("timeline_"+e).scrollLeft=document.getElementById("timeline_"+e).scrollLeft-40},e.prototype.scrollRight=function(e){console.log(e),document.getElementById("timeline_"+e).scrollLeft=document.getElementById("timeline_"+e).scrollLeft+40},e.prototype.chackValid=function(){for(var e=0;e<this.vehicleList.length;e++){if(1==this.vehicleList[e].select){this.isDisabled=!1;break}this.isDisabled=!0}},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:4e3})},e.prototype.filterOverspeedReport=function(){var e;"Hrs"==this.timeDurationOSUnit?e=60*this.timeDurationOS*60*1e3:"Min"==this.timeDurationOSUnit&&(e=60*this.timeDurationOS*1e3);var t={startTime:this.fromDate.getTime(),endTime:this.toDate.getTime(),vehicleList:this.fileteredVehicleList,minimumTime:e};this.vehReportServices.getStoppageReport.emit(t),this.filterOSApplied=!0,this.showOSFilterDialogue=!1},e}();u=d([i.i(n.Component)({selector:"app-overspeed-report",template:i("queZ"),styles:[i("58gE")]}),p("design:paramtypes",["function"==typeof(h=void 0!==o.b&&o.b)&&h||Object,"function"==typeof(g=void 0!==a.a&&a.a)&&g||Object,"function"==typeof(f=void 0!==l.A&&l.A)&&f||Object,"function"==typeof(v=void 0!==c.a&&c.a)&&v||Object])],u);var h,g,f,v},j7LN:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.deleteUser=new n.EventEmitter,this.getAllUsersList=new n.EventEmitter,this.changeUserType=new n.EventEmitter,this.getUserIfExist=new n.EventEmitter,this.addUserToGroup=new n.EventEmitter,this.createOrg=new n.EventEmitter,this.switchOrganisations=new n.EventEmitter,this.getAllUsersList.subscribe(function(e){r.token=e;var t=l.b.MANAGE_USERS_PATH;console.log(t),r.getAllUsers(t,e).subscribe(function(e){console.log(e),r._store.dispatch({type:"GET_ALL_USERS_LIST",payload:e})},function(e){console.log(e)})}),this.createOrg.subscribe(function(e){r.token=r.localStorageService.get("AUTH_TOKEN");var t=l.b.CREATE_ORGANISATION_PATH;console.log(t),r.createOrganisation(t,e).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?r._store.dispatch({type:"CREATE_ORGANISATION_RESPONSE",payload:{error:"",res:e}}):r._store.dispatch({type:"CREATE_ORGANISATION_RESPONSE",payload:{error:"X",errorMsg:e.error}})},function(e){console.log(e),console.log(e.json()),r._store.dispatch({type:"CREATE_ORGANISATION_RESPONSE",payload:{error:"X",errorMsg:"http error"}})})}),this.switchOrganisations.subscribe(function(e){r.token=r.localStorageService.get("AUTH_TOKEN");var t=l.b.SWITCH_ORG_PATH+e;console.log(t),r.switchOrganisation(t,e).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?r._store.dispatch({type:"SWITCH_ORG_RESPONSE",payload:{error:"",res:e}}):r._store.dispatch({type:"SWITCH_ORG_RESPONSE",payload:{error:"X",errorMsg:e.error}})},function(e){console.log(e),console.log(e.json()),r._store.dispatch({type:"SWITCH_ORG_RESPONSE",payload:{error:"X",errorMsg:"http error"}})})}),this.deleteUser.subscribe(function(e){var t=l.b.DELETE_USERS_PATH+"/remove";console.log(t),console.log(e),r.deleteSelectedUser(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"DELETE_USER_SERVICE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.changeUserType.subscribe(function(e){var t=l.b.DELETE_USERS_PATH+"/add";console.log(t),console.log(e),r.updateSelectedUser(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"UPDATE_USER_STATUS_RESPONSE",payload:e})},function(e){console.log(e)})}),this.addUserToGroup.subscribe(function(e){var t=l.b.DELETE_USERS_PATH+"/add";console.log(t),console.log(e),r.updateSelectedUser(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"UPDATE_USER_STATUS_RESPONSE",payload:e})},function(e){console.log(e)})}),this.getUserIfExist.subscribe(function(e){var t="";""!=e.email&&(t=l.b.ADD_EXISTING_USERS_PATH+"?email="+e.email),""!=e.mobile&&(t=l.b.ADD_EXISTING_USERS_PATH+"?mobile="+e.mobile),console.log(t),console.log(e),r.checkExistingUser(t).subscribe(function(e){console.log(e),r._store.dispatch({type:"EXISTING_USER_RESPONSE",payload:e})},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.deleteSelectedUser=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.createOrganisation=function(e,t){var i=new o.c;console.log(this.token);var n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,r).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e.prototype.switchOrganisation=function(e,t){var i=new o.c;console.log(this.token),console.log(this.token);var n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Get,headers:i});return this.http.request(e,r).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e.prototype.updateSelectedUser=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.getAllUsers=function(e,t){var i=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+t;i.set("Content-Type","application/json"),i.set("authorization",n);var r=new o.d({method:o.e.Get,headers:i});return this.http.request(e,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.checkExistingUser=function(e){var t=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;t.set("Content-Type","application/json"),t.set("authorization",i);var n=new o.d({method:o.e.Get,headers:t});return this.http.request(e,n).map(function(e){if(console.log(e),200==e.status)return e.json()})},e}();p=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],p);var u,h,g},jAYb:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.signupTokenValidation=new n.EventEmitter,this.sendOTPSignUp=new n.EventEmitter,this.signUpUser=new n.EventEmitter,this.defaultHeaders.append("Access-Control-Allow-Origin","*"),this.defaultHeaders.append("Access-Control-Allow-Methods","GET,POST, OPTIONS, PUT, PATCH, DELETE"),this.signupTokenValidation.subscribe(function(e){var t=l.b.SIGNUP_PATH+"/validate?token="+e;console.log(t),r.checkSignupTokenValidation(t).subscribe(function(e){console.log(e);var t=e;r._store.dispatch({type:"SIGNUP-TOKEN-VALIDATION",payload:{error:"",data:t}})},function(e){r._store.dispatch({type:"SIGNUP-TOKEN-VALIDATION",payload:{error:"X",errorMsg:e.json()}}),console.log(e),console.log(e.json())})}),this.generateSignUpOtp(),this.signUpNewUser()}return e.prototype.ngOnDestroy=function(){},e.prototype.checkSignupTokenValidation=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){return console.log(e),e.json()})},e.prototype.generateSignUpOtp=function(){var e=this;console.log("generateSignUpOtp"),this.sendOTPSignUp.subscribe(function(t){var i=l.b.PATH+":8094/signup/otp?mobileNumber="+t;e.sendSignUpOTP(i).subscribe(function(i){if(console.log(i),console.log(i.error),"X"==i.error)return void e._store.dispatch({type:"SIGNUP_OTP_GENERATION",payload:{error:"X",mobNo:t,msg:"OTP not send"}});var n=i;e._store.dispatch({type:"SIGNUP_OTP_GENERATION",payload:{error:"",mobNo:t,msg:n.success}})},function(i){0==i.status?e._store.dispatch({type:"SIGNUP_OTP_GENERATION",payload:{error:"X",mobNo:t,msg:"No Internet Connection"}}):e._store.dispatch({type:"SIGNUP_OTP_GENERATION",payload:{error:"X",mobNo:t,msg:i.json().error}}),console.log(i),console.log(i.json())})})},e.prototype.sendSignUpOTP=function(e){console.log(e);var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e.prototype.signUpNewUser=function(){var e=this;console.log("signUpNewUser"),this.signUpUser.subscribe(function(t){var i=l.b.PATH+":8094/signup/user";e.sendSignUpData(i,t).subscribe(function(t){if(console.log(t),console.log(t.error),"X"==t.error)return void e._store.dispatch({type:"SIGNUP_NEW_USER",payload:{error:"X",msg:"Error while SignUp"}});var i=t;e._store.dispatch({type:"SIGNUP_NEW_USER",payload:{error:"",data:i}})},function(t){0==t.status?e._store.dispatch({type:"SIGNUP_NEW_USER",payload:{error:"X",errorMsg:""}}):e._store.dispatch({type:"SIGNUP_NEW_USER",payload:{error:"X",errorMsg:"error occur while fetching data"+t}}),console.log(t),console.log(t.json())})})},e.prototype.sendSignUpData=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n=this.localStorageService.get("TOKEN");console.log("token"),console.log(n);var r="Bearer "+n;i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return this.http.request(e,s).map(function(e){return 200==e.status?(console.log("response.json():"),console.log(e.json()),e.json()):204==e.status?{error:"N"}:{error:"X"}})},e}();p=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],p);var u,h,g},jDsV:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".trip-header{background-color:#1976d2;width:100%;padding:8px;height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff}md-card{padding:9px;min-width:200px}div{font-family:Helvetica!important}.my-hr{border-style:ridge;border-width:1px;margin-top:6px;min-width:250px;margin-bottom:3px}.my-map-search{left:5%;width:90%;position:absolute;z-index:10;margin-top:10px}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}",""]),e.exports=e.exports.toString()},jo8u:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"USER_INFO":return r.addAction(t),t.payload;default:return e}}var o=i("H8ZI");t.a=n;var r=new o.a},jr4d:function(e,t){e.exports='<div class="custom-header">\r\n  <i class="fa fa-arrow-left" aria-hidden="true" style="color: white" (click)="goBack()"></i>\r\n  <span style="font-family: Arial; font-size: large; font-weight: bold; margin-left: 10px">Add Alerts</span>\r\n</div>\r\n\r\n<div *ngIf="showMapLocation"><app-add-trip-location></app-add-trip-location></div>\r\n\r\n<md-card style="height: calc(100vh - 93px); overflow: auto;">\r\n  <div>\r\n    <div style="font-size: medium; background-color: #3F51B5; width: 27px;height: 27px; color: white; text-align: center;border-radius: 15px">\r\n      <label *ngIf="!isEventSelected" style="position: relative;top: 5px;font-weight: bold">1 </label>\r\n      <i *ngIf="isEventSelected"style="position: relative;top: 5px;" class="fa fa-check" aria-hidden="true"></i>\r\n    </div>\r\n    <div *ngIf="!isEventSelected" style="float: left; position: relative;top: -22px;left: 40px"><label>Select Event</label></div>\r\n    <div *ngIf="isEventSelected" style="float: left; position: relative;top: -22px;left: 40px"><label>{{selectedEvent}}</label></div>\r\n  </div>\r\n\r\n  <div class="container-with-line">\r\n    <div style="padding: 10px">\r\n      <span *ngIf="isShowEvent">\r\n      <md-select placeholder="Select Event" style="width: 80%" [(ngModel)]="selectedEvent" floatPlaceholder="never">\r\n        <md-option *ngFor="let event of eventList" [value]="event">\r\n          {{ event }}\r\n        </md-option>\r\n      </md-select>\r\n\r\n      <div style="margin-top: 20px">\r\n        <button md-raised-button color="primary" (click)="selectEvent()">NEXT</button>\r\n        \x3c!--<button md-raised-button>BACK</button>--\x3e\r\n      </div>\r\n      </span>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf="!isEventSelected">\r\n    <div style="font-size: medium; background-color: #9b9b9b; width: 27px;height: 27px; color: white; text-align: center;border-radius: 15px; ">\r\n      <label style="position: relative;top: 5px;font-weight: bold">2 </label>\r\n      \x3c!--<i style="position: relative;top: 5px;" class="fa fa-check" aria-hidden="true"></i>--\x3e\r\n    </div>\r\n    <div style="float: left; position: relative;top: -22px;left: 40px"><label style="color: #9b9b9b" >Select Alert Parameters</label></div>\r\n  </div>\r\n\r\n\r\n  <div *ngIf="isEventSelected">\r\n    <div style="font-size: medium; background-color: #3F51B5; width: 27px;height: 27px; color: white; text-align: center;border-radius: 15px; ">\r\n      <label *ngIf="!isFieldsFilled" style="position: relative;top: 5px;font-weight: bold">2 </label>\r\n      <i  *ngIf="isFieldsFilled" style="position: relative;top: 5px;" class="fa fa-check" aria-hidden="true"></i>\r\n    </div>\r\n    <div *ngIf="!isFieldsFilled" style="float: left; position: relative;top: -22px;left: 40px"><label style="color: #3F51B5" >Select Field</label></div>\r\n    <div *ngIf="isFieldsFilled"style="float: left; position: relative;top: -22px;left: 40px"><label  >Fields</label></div>\r\n  </div>\r\n\r\n\r\n  <div class="container-with-line">\r\n    <div style="padding: 20px">\r\n      <span *ngIf="isShowFields">\r\n\r\n        <div *ngIf="selectedEvent !== \'Periodic Alert\'">\r\n          <div style="margin-bottom: 20px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">Duration</label></div>\r\n          <md-select  placeholder="Select Duration" floatPlaceholder="never" [(ngModel)]="selectedDurationOperator" style="width: 50%" floatPlaceholder="never">\r\n            <md-option value="GT">Is Greater than</md-option>\r\n            \x3c!--<md-option value="LT">Is Less than</md-option>--\x3e\r\n          </md-select>\r\n\r\n          <md-input-container  style="width: 18%" >\r\n          <input type="number" placeholder="Time"  mdInput required [(ngModel)]="selecetdDurationTime" >\r\n        </md-input-container>\r\n\r\n          <md-select  placeholder="Time Unit"  style="width: 25px" floatPlaceholder="never" [(ngModel)]="durationTimeUnit">\r\n            <md-option  value="Hrs">Hrs</md-option>\r\n            <md-option  value="Min">Min</md-option>\r\n            <md-option  value="Days">Days</md-option>\r\n          </md-select>\r\n\r\n        </div>\r\n\r\n        <div *ngIf="selectedEvent == \'Periodic Alert\'">\r\n        \x3c!--<div style="margin-bottom: 20px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">Duration</label></div>--\x3e\r\n          <span>Last</span>\r\n        <md-input-container  style="width: 18%; margin-left: 7%" >\r\n        <input type="number" placeholder="Time"  mdInput required [(ngModel)]="windowTimeDuration" >\r\n        </md-input-container>\r\n          <span> Hrs</span>\r\n        </div>\r\n\r\n\r\n\r\n        \x3c!--select parameter popup starts here--\x3e\r\n                <div *ngIf="isParameterModalShown" id="myParameterModal" class="modal">\r\n  \x3c!-- Modal content --\x3e\r\n          <div class="modal-content">\r\n            <span class="close" (click)="isParameterModalShown=false">&times;</span>\r\n\r\n            <div *ngIf="selectedEvent==\'Vehicle Stop Event\'">\r\n              <ul *ngFor="let params of stopEventParameters" style="list-style: none" (click)="showParams(params);isParameterModalShown=false">\r\n                <li style="padding: 5px; margin-left: -40px">{{params}}</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div *ngIf="selectedEvent==\'Vehicle Movement Event\'">\r\n              <ul *ngFor="let params of movementEventParameters" style="list-style: none" (click)="showParams(params);isParameterModalShown=false">\r\n                <li style="padding: 5px; margin-left: -40px">{{params}}</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div *ngIf="selectedEvent==\'GPS disconnected\'">\r\n              <ul *ngFor="let params of gpsDisconectParameters" style="list-style: none" (click)="showParams(params);isParameterModalShown=false">\r\n                <li style="padding: 5px; margin-left: -40px">{{params}}</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div *ngIf="selectedEvent ==\'Periodic Alert\'">\r\n              <ul *ngFor="let params of periodicEventParameters" style="list-style: none" (click)="showParams(params);isParameterModalShown=false">\r\n                <li style="padding: 5px; margin-left: -40px">{{params}}</li>\r\n              </ul>\r\n            </div>\r\n\r\n\r\n\r\n\r\n            \x3c!--<div style="margin-top: 20px">--\x3e\r\n              \x3c!--<button md-raised-button color="primary" >OK</button>--\x3e\r\n              \x3c!--<button md-raised-button (click)="isModalShown=false">CANCEL</button>--\x3e\r\n            \x3c!--</div>--\x3e\r\n\r\n          </div>\r\n        </div>\r\n        \x3c!--select parameter popup ends here--\x3e\r\n\r\n        <div *ngIf="isShowTimeField">\r\n          <div style="margin-top: 11px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">- Time</label></div>\r\n          <md-select  placeholder="Select Period"  style="width: 30%" floatPlaceholder="never" [(ngModel)]="stopFieldDurationTime" (change)="checkDuration()">\r\n            \x3c!--<md-option  value="Is">Is <i class="fa fa-clock-o" aria-hidden="true"></i></md-option>--\x3e\r\n            <md-option  value="IsBetween">Is Between <i class="fa fa-clock-o" aria-hidden="true"></i></md-option>\r\n          </md-select>\r\n\r\n          <md-input-container style="width: 50%; margin-left: 15%" (click)="showModal()" >\r\n          <input type="number" placeholder="To Time and From Time"  mdInput required [(ngModel)]="durationTime">\r\n          </md-input-container>\r\n        </div>\r\n\r\n        <div *ngIf="isShowDistanceField">\r\n          <div style="margin-top: 11px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">- Distance</label></div>\r\n          <md-select  placeholder="Select Proximity"  style="width: 30%" floatPlaceholder="never" [(ngModel)]="movementProximityDistance" >\r\n            <md-option  value="EQ">Is </md-option>\r\n            <md-option  value="GT">Is Greater than</md-option>\r\n            <md-option  value="LS">Is Less than</md-option>\r\n          </md-select>\r\n\r\n        <md-input-container style="width: 25%; margin-left: 15%"  >\r\n          <input placeholder="Distance"  mdInput required >\r\n        </md-input-container>\r\n\r\n          <md-select  placeholder="Unit"  style="width: 10%" floatPlaceholder="never" [(ngModel)]="distanceUnit" >\r\n            <md-option  value="km">Km</md-option>\r\n            <md-option  value="m">meters</md-option>\r\n          </md-select>\r\n        </div>\r\n\r\n        <div *ngIf="isShowProximityField">\r\n          <div style="margin-top: 11px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">- Location and Proximity</label></div>\r\n          <md-select  placeholder="Select Proximity"  style="width: 80%" floatPlaceholder="never" [(ngModel)]="locationProximity" >\r\n            <md-option  value="Inside">Inside</md-option>\r\n            \x3c!--<md-option  value="Near">Near</md-option>--\x3e\r\n          </md-select>\r\n\r\n        <div *ngIf="locationProximity==\'Inside\'">\r\n\r\n    <div>\r\n      <app-freight-location-picker [pickerLocationType]="typeOfLocationCreator" (onLocationPick)=\'setOriginLocation($event)\'></app-freight-location-picker>\r\n    </div>\r\n          \x3c!--<div style="padding: 6px 6px;">--\x3e\r\n            \x3c!--<md-input-container style="width: 100%;" >--\x3e\r\n              \x3c!--<input #insideLocationname placeholder="Location Name" (focus)="showInsideAddressList=true;searchLocByName(insideLocationname.value,\'inside\')"  (keyup)="searchLocByName(insideLocationname.value,\'inside\')" mdInput [ngModel]="insideLocationName" name="insideLocation" id="insideLocation"--\x3e\r\n               \x3c!--onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;"  required>--\x3e\r\n              \x3c!--</md-input-container>--\x3e\r\n          \x3c!--</div>--\x3e\r\n\r\n\r\n            \x3c!--<div style="z-index: 5;overflow: visible; position: fixed;background-color: rgba(245,245,245,1);width: 72%;margin-top: -21px;" *ngIf="showInsideAddressList" >--\x3e\r\n                 \x3c!--<span *ngFor="let location of locationNameList">--\x3e\r\n                   \x3c!--<ul style="list-style: none;margin-left: -32px;">--\x3e\r\n                      \x3c!--<li (click)="setInsideLocation(location)"  >{{location?.name}}<hr></li>--\x3e\r\n                   \x3c!--</ul>--\x3e\r\n                 \x3c!--</span>--\x3e\r\n\r\n                  \x3c!--<span>--\x3e\r\n                     \x3c!--<ul>--\x3e\r\n                        \x3c!--<li (click)="goToAddLocation(\'alertsInsideLocation\')">ADD NEW ADDRESS</li>--\x3e\r\n                     \x3c!--</ul>--\x3e\r\n                  \x3c!--</span>--\x3e\r\n            \x3c!--</div>--\x3e\r\n        </div>\r\n\r\n\r\n\r\n\r\n          <div *ngIf="locationProximity==\'Near\'">\r\n          <div style="padding: 6px 6px;">\r\n            <md-input-container style="width: 100%;" >\r\n              <input #proximityLocationname placeholder="Location Name" (focus)="showProximityAddressList=true;"  (keyup)="searchLocByName(proximityLocationname.value,\'near\')" mdInput [ngModel]="proximityLocationName" name="proximityLocation" id="proximityLocation"\r\n                     onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;"  required>\r\n              </md-input-container>\r\n          </div>\r\n\r\n\r\n            <div style="z-index: 5;overflow: visible; position: fixed;background-color: rgba(245,245,245,1);width: 72%;margin-top: -21px;" *ngIf="showProximityAddressList" >\r\n                 <span *ngFor="let location of locationNameList">\r\n                   <ul style="list-style: none;margin-left: -32px;">\r\n                      <li (click)="setProximityLocation(location)"  >{{location?.name}}<hr></li>\r\n                   </ul>\r\n                 </span>\r\n\r\n                  <span>\r\n                     <ul>\r\n                        <li (click)="goToAddLocation(\'alertsProximityLocation\')">ADD NEW ADDRESS</li>\r\n                     </ul>\r\n                  </span>\r\n            </div>\r\n        </div>\r\n\r\n        </div>\r\n\r\n\r\n        <div *ngIf="isShowDistanceField">\r\n          <div style="margin-top: 11px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">- Distance</label></div>\r\n          <md-select  placeholder="Select Proximity"  style="width: 30%" floatPlaceholder="never" [(ngModel)]="movementProximityDistance" >\r\n            <md-option  value="GT">Is Greater than</md-option>\r\n            <md-option  value="LT">Is Less than</md-option>\r\n            <md-option  value="EQ">Is</md-option>\r\n          </md-select>\r\n\r\n        <md-input-container style="width: 25%; margin-left: 15%"  >\r\n          <input placeholder="Distance"  mdInput required >\r\n        </md-input-container>\r\n\r\n          <md-select  placeholder="Unit"  style="width: 10%" floatPlaceholder="never" [(ngModel)]="distanceUnit" >\r\n            <md-option  value="km">Km</md-option>\r\n            <md-option  value="m">meters</md-option>\r\n          </md-select>\r\n        </div>\r\n\r\n        <div *ngIf="isShowDistancePeriodic">\r\n          <div style="margin-top: 11px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">- Distance</label></div>\r\n          <md-select  placeholder="Select Proximity"  style="width: 30%" floatPlaceholder="never"  [(ngModel)]="periodicDistanceOperator">\r\n            <md-option  value="GT">Is Greater than</md-option>\r\n            <md-option  value="LT">Is Less than</md-option>\r\n          </md-select>\r\n\r\n        <md-input-container style="width: 25%; margin-left: 15%"  >\r\n          <input type="number" placeholder="Distance"  mdInput required [(ngModel)]="periodicDistance" >\r\n        </md-input-container>\r\n\r\n          <md-select  placeholder="Unit"  style="width: 10%" floatPlaceholder="never" [(ngModel)]="periodicDistanceUnit" >\r\n            <md-option  value="km">Km</md-option>\r\n            <md-option  value="m">meters</md-option>\r\n          </md-select>\r\n        </div>\r\n\r\n\r\n\r\n         <div *ngIf="isShowRunningDuration">\r\n          <div style="margin-top: 11px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">- Running Duration</label></div>\r\n          <md-select  placeholder="Select Period"  style="width: 30%" floatPlaceholder="never" [(ngModel)]="runningDurationOperator"  >\r\n            <md-option  value="GT">Is Greater than</md-option>\r\n            <md-option  value="LT">Is Less than</md-option>\r\n          </md-select>\r\n\r\n        <md-input-container style="width: 30%; margin-left: 15%"  >\r\n          <input type="number" placeholder="Duration"  mdInput required [(ngModel)]="runningDuration" >\r\n        </md-input-container>\r\n           <span>hrs</span>\r\n        </div>\r\n\r\n\r\n      <div *ngIf="isShowStopDuration">\r\n          <div style="margin-top: 11px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">- Stop Duration</label></div>\r\n          <md-select  placeholder="Select Period"  style="width: 30%" floatPlaceholder="never"  [(ngModel)]="stopDurationOperator">\r\n            <md-option  value="GT">Is Greater than</md-option>\r\n            <md-option  value="LT">Is Less than</md-option>\r\n          </md-select>\r\n\r\n        <md-input-container style="width: 30%; margin-left: 15%" >\r\n          <input type="number" placeholder="Duration"  mdInput required [(ngModel)]="stopDuration">\r\n        </md-input-container>\r\n           <span>hrs</span>\r\n      </div>\r\n\r\n      <div *ngIf="isShowDisconnectDuration">\r\n          <div style="margin-top: 11px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">- Disconnect Duration</label></div>\r\n        <span>\r\n          is greater than\r\n        </span>\r\n\r\n        <md-input-container style="width: 30%; margin-left: 2%"  >\r\n          <input type="number" placeholder="Duration"  mdInput required [(ngModel)]="disconnectDuration">\r\n        </md-input-container>\r\n           <span>hrs</span>\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \x3c!--select location popup starts here--\x3e\r\n        <div *ngIf="isLocationModalShown" id="locationModal" class="modal">\r\n  \x3c!-- Modal content --\x3e\r\n          <div class="modal-content">\r\n            <span class="close" (click)="isLocationModalShown=false">&times;</span>\r\n\r\n         <md-select  placeholder="Location List"  style="width: 80%" floatPlaceholder="never">\r\n           <md-option   *ngFor="let location of locationNameList" (click)="setOrigin(location)">\r\n                   {{location?.name}}\r\n            </md-option>\r\n            <md-option (click)="goToAddLocation()">ADD NEW LOCATION</md-option>\r\n          </md-select>\r\n\r\n\r\n\r\n\r\n          </div>\r\n        </div>\r\n        \x3c!--select location popup ends here--\x3e\r\n\r\n\r\n        <div *ngIf="isShowTypeField">\r\n          <div style="margin-bottom: 20px"><label style="font-family: Arial; font-size: medium; font-weight: bold;">- Stop Type</label></div>\r\n          <span >Is</span>\r\n          <span>\r\n          <md-select  placeholder="Select Stop Type"  style="width: 90%" [(ngModel)]="locationSelect" floatPlaceholder="never" >\r\n            <md-option  value="PickupPoint" >Pickup Point</md-option>\r\n            <md-option  value="DeliveryPoint" >Delivery Point</md-option>\r\n            <md-option  value="Fuel">Fuel</md-option>\r\n            <md-option  value="Food">Food</md-option>\r\n            <md-option  value="Toll">Toll</md-option>\r\n            <md-option  value="Hotel">Hotel</md-option>\r\n            <md-option  value="CityBorder">City Border</md-option>\r\n            <md-option  value="StateBorder">State Border</md-option>\r\n            <md-option  value="RepairShop">Repair Shop</md-option>\r\n            <md-option  value="Other">Other</md-option>\r\n          </md-select>\r\n          </span>\r\n\r\n        </div>\r\n\r\n\r\n\r\n        <div style="margin-top: 5%">\r\n          <span>\r\n            Snooze Time:\r\n          </span>\r\n\r\n          <md-input-container style="width: 30%" >\r\n          <input placeholder="Duration" type="number"  mdInput required [(ngModel)]="snoozeTime">\r\n        </md-input-container>\r\n\r\n          <md-select  placeholder="Time Unit"  style="width: 10%" floatPlaceholder="never"  [(ngModel)]="snoozeTimeUnit">\r\n            <md-option  value="min">Min</md-option>\r\n              <md-option  value="hours">Hrs</md-option>\r\n          </md-select>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <div *ngIf="locationSelect==\'Other\'">\r\n          <md-input-container  style="width: 95%" >\r\n            <input placeholder="Other Location"  mdInput required >\r\n          </md-input-container>\r\n        </div>\r\n\r\n\r\n\r\n        <div *ngIf="isModalShown" id="myModal" class="modal">\r\n  \x3c!-- Modal content --\x3e\r\n          <div class="modal-content">\r\n            <span class="close" (click)="isModalShown=false">&times;</span>\r\n            <div >\r\n            <div>\r\n              <span style="font-size: small; font-family: Arial;font-weight: bold ">From Time:</span>\r\n              <div style="margin-top: 6%;">\r\n                <md-select  placeholder="hrs"  style="width: 30%" [(ngModel)]="fromHour">\r\n                  <md-option *ngFor="let hour of hours" [value]="hour">\r\n                      {{ hour }}\r\n                   </md-option>\r\n                </md-select>\r\n\r\n                <md-select  placeholder="min"  style="width: 30%; margin-left: 10%" [(ngModel)]="fromMin">\r\n                  <md-option *ngFor="let min of minutes" [value]="min">\r\n                      {{ min }}\r\n                   </md-option>\r\n                </md-select>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <span style="font-size: small; font-family: Arial;font-weight: bold ">To Time:</span>\r\n              <div style="margin-top: 6%;">\r\n                <md-select  placeholder="hrs"  style="width: 30%" [(ngModel)]="toHour">\r\n                  <md-option *ngFor="let hour of hours" [value]="hour">\r\n                      {{ hour }}\r\n                   </md-option>\r\n                </md-select>\r\n\r\n                <md-select  placeholder="min"  style="width: 30%; margin-left: 10%" [(ngModel)]="toMin">\r\n                  <md-option *ngFor="let min of minutes" [value]="min">\r\n                      {{ min }}\r\n                   </md-option>\r\n                </md-select>\r\n              </div>\r\n            </div>\r\n            </div>\r\n\r\n            <div style="margin-top: 20px">\r\n              <button md-raised-button (click)="setTimeHours()" color="primary" >OK</button>\r\n              <button md-raised-button (click)="isModalShown=false">CANCEL</button>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <div style="width: 100%; height: 50px">\r\n        <button md-raised-button  style="float: right" (click)="showParameterModal()">+ Add Parameter</button>\r\n      </div>\r\n\r\n\r\n        <div style="margin-top: 20px">\r\n              <button md-raised-button (click)="undoSelectEvent()">BACK</button>\r\n              <button md-raised-button color="primary" (click)="saveFields()">NEXT</button>\r\n\r\n         </div>\r\n      </span>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf="!isFieldsFilled">\r\n    <div style="font-size: medium; background-color: #9b9b9b; width: 27px;height: 27px; color: white; text-align: center;border-radius: 15px; ">\r\n      <label style="position: relative;top: 5px;font-weight: bold">3 </label>\r\n      \x3c!--<i style="position: relative;top: 5px;" class="fa fa-check" aria-hidden="true"></i>--\x3e\r\n    </div>\r\n    <div style="float: left; position: relative;top: -22px;left: 40px"><label style="color: #9b9b9b" >Select Action</label></div>\r\n  </div>\r\n\r\n  <div *ngIf="isFieldsFilled">\r\n    <div style="font-size: medium; background-color: #3F51B5; width: 27px;height: 27px; color: white; text-align: center;border-radius: 15px; ">\r\n      <label style="position: relative;top: 5px;font-weight: bold" *ngIf="!isActionsFilled">3 </label>\r\n      <i style="position: relative;top: 5px;" *ngIf="isActionsFilled" class="fa fa-check" aria-hidden="true"></i>\r\n    </div>\r\n    <div style="float: left; position: relative;top: -22px;left: 40px" *ngIf="!isActionsFilled"><label style="color: #3F51B5" >Select Action</label></div>\r\n    <div style="float: left; position: relative;top: -22px;left: 40px"  *ngIf="isActionsFilled" ><label >{{selectedAction}}</label></div>\r\n  </div>\r\n\r\n  <div class="container-with-line">\r\n    <div  style="padding: 20px">\r\n      <span *ngIf="isShowActions">\r\n      <md-select placeholder="Select Action"  [(ngModel)]="selectedAction" style="width: 90%">\r\n        <md-option *ngFor="let action of actionsList" [value]="action">\r\n          {{ action }}\r\n        </md-option>\r\n      </md-select>\r\n      <div *ngIf="selectedAction==\'Email Notification\'">\r\n        <md-input-container style="width: 90%;margin-top: 15px"  >\r\n          <input type="email" placeholder="Enter Email" [(ngModel)]="emailId"  mdInput required >\r\n        </md-input-container>\r\n      </div>\r\n\r\n      <div *ngIf="selectedAction==\'SMS Notification\'">\r\n        <md-input-container style="width: 90%;margin-top: 15px"  >\r\n          <input type="number" maxlength="10" placeholder="Enter Mobile No" [(ngModel)]="mobileno" mdInput required >\r\n        </md-input-container>\r\n      </div>\r\n\r\n      <div *ngIf="selectedAction==\'Log Events\'">\r\n        <md-select  placeholder="Select Log"  style="width: 90%;margin-top: 15px" >\r\n          <md-option  [value]="Safety">Safety Log</md-option>\r\n          <md-option  [value]="Performance">Performance Log</md-option>\r\n          <md-option  [value]="Disconnect">Disconnect Log</md-option>\r\n          <md-option  [value]="Create">Create New Log</md-option>\r\n        </md-select>\r\n\r\n        <md-select  placeholder="Select Criticality Level"  style="width: 90%;margin-top: 15px" >\r\n          <md-option  [value]="Safety">Safety Log</md-option>\r\n          <md-option  [value]="Performance">Performance Log</md-option>\r\n          <md-option  [value]="Disconnect">Disconnect Log</md-option>\r\n          <md-option  [value]="Create">Create New Log</md-option>\r\n        </md-select>\r\n      </div>\r\n\r\n      <div style="margin-top: 20px">\r\n        <button md-raised-button (click)="undoSaveFields()">BACK</button>\r\n        <button md-raised-button color="primary" (click)="saveAction()">NEXT</button>\r\n      </div>\r\n\r\n      </span>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div *ngIf="!isActionsFilled">\r\n    <div style="font-size: medium; background-color: #9b9b9b; width: 27px;height: 27px; color: white; text-align: center;border-radius: 15px; ">\r\n      <label style="position: relative;top: 5px;font-weight: bold">4 </label>\r\n      \x3c!--<i style="position: relative;top: 5px;" class="fa fa-check" aria-hidden="true"></i>--\x3e\r\n    </div>\r\n    <div style="float: left; position: relative;top: -22px;left: 40px"><label style="color: #9b9b9b" >Add Vehicles</label></div>\r\n  </div>\r\n\r\n  <div *ngIf="isActionsFilled">\r\n    <div style="font-size: medium; background-color: #3F51B5; width: 27px;height: 27px; color: white; text-align: center;border-radius: 15px; ">\r\n      <label style="position: relative;top: 5px;font-weight: bold">4 </label>\r\n      \x3c!--<i style="position: relative;top: 5px;" class="fa fa-check" aria-hidden="true"></i>--\x3e\r\n    </div>\r\n    <div style="float: left; position: relative;top: -22px;left: 40px"><label style="color: #3F51B5" >Add Vehicles</label></div>\r\n  </div>\r\n\r\n  <div class="container-with-line">\r\n    <div style="padding: 20px" *ngIf="isShowAddVehicles">\r\n\r\n      <div style="margin: 20px;">\r\n        <vehicle-picker [editableVehicleList]="editVehicleList"></vehicle-picker>\r\n      </div>\r\n\r\n          <div style="margin-top: 20px">\r\n\r\n        <button md-raised-button (click)="goBack()">CANCEL</button>\r\n      <button md-raised-button color="primary" (click)="saveVehicles()">ADD ALERT</button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</md-card>\r\n'},kYDb:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".sebm-google-map-container{height:100%}.marker-info{max-width:400px}.marker-info table{border-collapse:collapse}.marker-info table,td,th{border:1px solid #000}.marker-info td{padding:5px}.vehicle-status{margin-top:-4px;color:#fff;border-radius:4px;padding:4px;position:absolute;right:5px}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}\r\n\r\n\r\n\r\n/*!* search box*!*/.my-select{margin-top:8px;margin-right:8px;margin-left:8px;width:80%}.my-select>>>.mat-select-trigger{min-width:60px!important;font-size:15px;height:28px}",""]),e.exports=e.exports.toString()},kZql:function(e,t,i){"use strict";i.d(t,"c",function(){return n}),i.d(t,"a",function(){return o}),i.d(t,"d",function(){return r}),i.d(t,"e",function(){return s}),i.d(t,"b",function(){return a});var n={IS_ENABLE_ETA:!0,KEY:"AIzaSyBCRowVqghQTO8iJDgOc4QY-GlFwsn85_I",MAX_RANGE_DAYS:15,SUSPENDED_TIME:864e5,GOOGLE_AUTH_ID:"192715049224-7pgm76g34ae6d4l5hr9edbso93oda5fg.apps.googleusercontent.com"},o={google:{clientId:"192715049224-7pgm76g34ae6d4l5hr9edbso93oda5fg.apps.googleusercontent.com"}},r={IP:"http://apis.fretron.com"},s={USER_MANAG:"http://apis.fretron.com/user",TRIP_MANAGER:"http://apis.fretron.com/trip",ORG_MANAGER:"http://apis.fretron.com/organisation",ORG_GROUP_MANAGER:"http://apis.fretron.com/group",REGISTRY_MANAGER:"http://apis.fretron.com/registry",TRIP_TEMPLATE_IP:"http://apis.fretron.com/template",NODE_IP:"http://tracknet.fretron.com",FERIGHT_LOCATION:"http://apis.fretron.com/freight"},a={VEHICLE_LIST_SOCKET_PATH:s.NODE_IP+"/dashboard",TRIP_LIST_SOCKET_PATH:s.NODE_IP+"/trip/dashboard",TRIP_DASH_SOCKET_PATH:s.NODE_IP+"/trip_detail",PATHv2:s.NODE_IP+"",PATH:s.NODE_IP+"",SEND_OTP_PATH:s.NODE_IP+":8094/login?mobileNumber=",SIGNUP_PATH:s.NODE_IP+"",GEOCODE_PATH:"https://maps.googleapis.com/maps/api/geocode",TRIP_PATH:s.TRIP_MANAGER+"/dashboard",TRIP_STATUS_DETAILS_PATH:s.TRIP_MANAGER+"/detail/",TRIP_DISCARD_PATH:s.TRIP_MANAGER+"/discard/",TRIP_UPDATE_PATH:s.TRIP_MANAGER+"/update",TRIP_UPDATE_FROM_STOP_PATH:s.TRIP_MANAGER+"/selectfromstop/",TRIP_CONFIRM_LOCATION_PATH:s.TRIP_MANAGER+"/missing/",TRIP_CREATE_UPDATE_PATH:s.TRIP_MANAGER,GET_SCHEDULE_REPORTS_PATH:s.NODE_IP+"/schedule",CREATE_SCHEDULE_REPORTS_PATH:s.NODE_IP+"/schedule/create",CHANGE_SCHEDULE_STATE_PATH:s.NODE_IP+"/schedule/status?scheduleId=",ETA_PATH:s.NODE_IP+"/address/distance?",CONFIGURE_ALERTS_PATH:r.IP+"/alerts",CREATE_ORGANISATION_PATH:s.ORG_MANAGER+"/create",ORGANIZATION_LIST_PATH:s.ORG_MANAGER+"/organizations",SWITCH_ORG_PATH:r.IP+"/user/switchorg?orgId=",MANAGE_USERS_PATH:s.ORG_MANAGER+"/users",DELETE_USERS_PATH:s.ORG_MANAGER,ADD_EXISTING_USERS_PATH:s.USER_MANAG+"/getUser",MANAGE_VEHICLES_GRP_PATH:s.ORG_GROUP_MANAGER,GET_VEHICLES_BY_GROUP_PATH:s.ORG_GROUP_MANAGER,GET_VEHICLES_BY_ORG_PATH:s.REGISTRY_MANAGER,GET_VEHICLES_FOR_DASHBOARD:s.REGISTRY_MANAGER+"/dashboard",EDIT_VEHICLE_PATH:s.REGISTRY_MANAGER+"/vehicle",ADD_VEHICLE_PATH:s.REGISTRY_MANAGER+"/vehicle",TRIP_TEMPLATE_PATH:s.TRIP_TEMPLATE_IP,QUICK_TRIP_CREATE:s.TRIP_MANAGER+"/quick/create",TEMPLATE_DETAIL_PATH_BY_LATLNG:s.TRIP_TEMPLATE_IP+"/near "}},kmqf:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"TOKEN":return a.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"OTP_GENERATION":return a.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"CUSTOMER_DETAILS":return console.log("customer Details value in store"),console.log(t.payload),a.addAction(t),t.payload;default:return e}}var s=i("H8ZI");t.a=n,t.b=o,t.c=r;var a=new s.a},ktse:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".align-center{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.schedule-list{margin:5px;padding:10px}.chips-div{padding:10px 2px 2px}.report-type-chips{margin-right:5px;padding:4px 9px;background-color:#03a9f4;color:#fff;border-radius:15px;white-space:nowrap;float:left;margin-top:3px}",""]),e.exports=e.exports.toString()},"l/Mu":function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"AUTHORIZATION":return r.addAction(t),t.payload;default:return e}}var o=i("H8ZI");t.a=n;var r=new o.a},"l/YH":function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100" [style.position]="view!=\'web\'?\'absolute\':\'\'" >\r\n  <div class="top-header" id="top-head" *ngIf="view!=\'web\'" >\r\n    <div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">\r\n      <span  (click)="back()" >\r\n        <i style="color:white;" class="fa fa-arrow-left" aria-hidden="true" ></i>\r\n      </span>\r\n      <span>\r\n        <label style="color:white;margin-left: 10px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">Map Dashboard</label>\r\n      </span>\r\n\r\n      <span style="margin-left: auto;margin-right:45px;" >\r\n         <span style="font-size: 23px;color: rgba(245, 245, 245, 0.99);">\r\n             <i class="fa fa-list-alt" aria-hidden="true" (click)="gotoListView()" ></i>\r\n         </span>\r\n      </span>\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n<div class="main-container" style="overflow:hidden" [style.height]="view!=\'web\'? \'height: calc(100vh - 51px)\':\'height: calc(100vh - 201px)\'" >\r\n\r\n\x3c!-- this creates a google map on the page with the given lat/lng from --\x3e\r\n\x3c!-- the component as the initial center of the map: --\x3e\r\n<div [style.height]="view !=\'web\'?\'calc(100vh - 51px)\':\'calc(100vh - 205px)\'">\r\n  <agm-map [latitude]="21.149633" [longitude]="79.081145"   [zoom]="5" >\r\n    \x3c!-- <agm-marker  iconUrl="../../../../images/marker_truck_32X32.png"\r\n                            *ngFor="let vehicle of vehicleList | vehicleFilter: [\'vehicleRegistrationNumber\', search] | vehicleFilterByStatus: [\'state\', status]" [latitude]="vehicle[\'latitude\']"\r\n                            [longitude]="vehicle[\'longitude\']">\r\n      <agm-info-window>\r\n        <div class="marker-info" >\r\n          <table >\r\n            <tr>\r\n              <td colspan="2"><span style="color: black;font-size: 15px;font-weight: 400;">{{vehicle[\'vehicleRegistrationNumber\']}}</span>\r\n              <span style="font-size:11px">({{vehicle[\'vehicleType\']}})</span>\r\n              </td>\r\n            </tr>\r\n            <tr >\r\n              <td >{{vehicle.speed | number:\'1.1-2\'}} km/h</td>\r\n              <td >{{vehicle[\'_duration\']}}</td>\r\n            </tr>\r\n            <tr><td colspan="2">{{vehicle.address}}</td></tr>\r\n            <tr>\r\n              <td colspan="2" style="position: relative;">\r\n                <span>{{vehicle[\'endTime\'] | date:\'dd/MM/yyyy hh:mm a\'}}</span>\r\n                <span class="vehicle-status" style="background-color: red;" *ngIf="vehicle[\'state\']==\'-1\'" >{{\'Disconnected\' | translate }}</span>\r\n                <span class="vehicle-status" style="background-color: royalblue;;" *ngIf="vehicle[\'state\']==\'1\'" >{{\'Moving\' | translate }}</span>\r\n                <label class="vehicle-status" style="background-color: royalblue;;" *ngIf="vehicle[\'state\']==\'2\'" >{{\'Overspeed\' | translate }}</label>\r\n                <span class="vehicle-status" style="background-color:yellow;color:black" *ngIf="vehicle[\'state\']==\'0\'" >{{\'Stop\' | translate }}</span>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n      </agm-info-window>\r\n    </agm-marker> --\x3e\r\n  </agm-map>\r\n</div>\r\n</div>\r\n</div>\r\n'},lhiL:function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("WWmu"),s=i("Ths4"),a=(i.n(s),i("5J2v")),l=i("DLpR"),c=i("fYnu"),d=i("uDr9"),p=i("cXjt");i.d(t,"a",function(){return g});var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,n,o,r,s,l){var c=this;this.media=e,this._translate=t,this.snackBar=n,this._store=o,this.localStorageService=r,this._loginServices=s,this._router=l,this.isSpinner=!1,this.OTP="",this.mobNo=null,this.countryCode="",this.unsub_otpGenration=null,this.unsub_token=null;var d=this.localStorageService.get("TOKEN");console.log(d),null!=d&&void 0!=d&&(console.log("back navigation"),this.navigate()),this.mobNo=this.localStorageService.get("USER-MOB-NO"),this.countryCode=this.localStorageService.get("COUNTRY-CODE"),null==this.mobNo&&null==this.localStorageService.get("TOKEN")&&(console.log("please select Mobile No"),this.openSnackBar("please select Mobile No"),this._store.dispatch(i.i(a.c)(["/userLogin"]))),this.unsub_otpGenration=this._store.select("otpGenaration").subscribe(function(e){if(console.log(e),null!=e)return"X"==e.error?(console.log(e.msg),c.openSnackBar(e.msg),c.localStorageService.remove("USER-MOB-NO"),c.localStorageService.remove("COUNTRY-CODE"),void c._store.dispatch(i.i(a.c)(["/userLogin"]))):void(""==e.error&&(c.openSnackBar("OTP sent to your Mobile Number"),c.mobNo=e.mobNo))})}return e.prototype.ngOnDestroy=function(){void 0!==this.unsub_otpGenration&&null!=this.unsub_otpGenration&&void 0!=this.unsub_otpGenration&&this.unsub_otpGenration.unsubscribe(),void 0!==this.unsub_token&&null!=this.unsub_token&&void 0!=this.unsub_token&&this.unsub_token.unsubscribe()},e.prototype.ngOnInit=function(){var e=""+this.localStorageService.get("LANGUAGE");this._translate.use(e)},e.prototype.login=function(){var e=this;if(null==this.mobNo&&null==this.localStorageService.get("TOKEN")&&(console.log("please select Mobile No"),this.openSnackBar("please select Mobile No"),this._store.dispatch(i.i(a.c)(["/userLogin"]))),""!=this.OTP&&void 0!=this.OTP&&null!=this.OTP){this.OTP;console.log(this.OTP),this._store.dispatch({type:"TOKEN",payload:null}),this._loginServices.login.emit({mobileNo:this.mobNo,otp:this.OTP}),this.unsub_token=this._store.select("token").subscribe(function(t){if(console.log(t),null!=t){if("X"==t.error)return console.log(t.msg),void e.openSnackBar(t.msg);if(""==t.error){var i=t.token;console.log(i),e.navigate()}}})}},e.prototype.resendOTP=function(){console.log("resend"),this._store.dispatch({type:"OTP_GENERATION",payload:null}),this._loginServices.sendOTP.emit({mobileNo:this.mobNo,countryCode:this.countryCode})},e.prototype.navigate=function(){this._store.dispatch(i.i(a.c)(["/vtsdashboard"]))},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e}();g=u([i.i(n.Component)({selector:"app-send-otp",template:i("t9Y4"),styles:[i("Fg9i")]}),h("design:paramtypes",["function"==typeof(f=void 0!==p.b&&p.b)&&f||Object,"function"==typeof(v=void 0!==d.a&&d.a)&&v||Object,"function"==typeof(m=void 0!==c.A&&c.A)&&m||Object,"function"==typeof(y=void 0!==r.b&&r.b)&&y||Object,"function"==typeof(x=void 0!==s.LocalStorageService&&s.LocalStorageService)&&x||Object,"function"==typeof(b=void 0!==l.a&&l.a)&&b||Object,"function"==typeof(T=void 0!==o.b&&o.b)&&T||Object])],g);var f,v,m,y,x,b,T},lke8:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"div,md-card{font-family:Gotham-Rounded-Medium,Sans-Serif!important}md-card{margin-top:3px;padding:5px;color:#46465f;font-size:13px}button{color:#fff;background-color:#1e88e5;padding:0;min-width:0}.vehicle-list{list-style:none;margin-top:-3px;padding-left:10px;margin-bottom:5px;display:block}.vehicle-list li{border-radius:3px;padding:7px;background-color:beige;margin-bottom:7px;float:left;margin-right:10px}.remove-vehicle{padding:4px;line-height:12px;color:#6495ed;float:right;font-size:18px;margin-right:-14px;background-color:#fffacd;margin-top:-16px;border-radius:13px}.remove-vehicle:focus,.remove-vehicle:hover{color:#fff;text-decoration:none;cursor:pointer;background-color:#6495ed}.share-download i{font-size:16px;padding:5px;margin-right:15px}.share-download i span{font-size:8px;vertical-align:8px;margin-left:-4px}.share-download:focus,.share-download i:hover{color:#6495ed;text-decoration:none;cursor:pointer}.timeline-icon{font-size:11px;width:46px;height:46px;background-color:#ffebcd;padding:5px;position:absolute;margin-top:-34px;border-radius:50%;margin-left:-23px;color:#000;overflow:hidden}.vehicle-hover:hover{background-color:beige}.select-vehicle{padding:10px;color:#fff;border-radius:21px;font-size:18px}.img-container{margin-top:-8px;height:35px}.edited-datepicker>>>div.picker-control.footer{font-size:18px!important;line-height:35px!important;height:70px!important}.edited-datepicker>>>div.picker-popup{height:auto}",""]),e.exports=e.exports.toString()},n9aL:function(e,t){e.exports='<md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n<div class ="edited-datepicker"  style="padding: 8px;overflow:auto;height: calc(100vh - 50px);">\r\n  <div *ngIf="view ==\'web\'" style="padding: 10px;color: #959595;font-weight: bold;" >\r\n    <span>Vehicle Stoppage Report</span>\r\n  </div>\r\n  \x3c!--   *************  add new vehicle box **************** --\x3e\r\n  <div *ngIf="isAddVehicleDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isAddVehicleDialog=false;" >&times;</span>\r\n        <label>{{\'Select Vehicle\' | translate }}</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n\r\n        <div style="padding: 5px;display: flex">\r\n          <div style="width: 100%;">\r\n            <md-input-container style="width: 96%;" >\r\n              <input mdTooltip="{{\'Search\' | translate }}" mdInput  placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" >\r\n            </md-input-container>\r\n          </div>\r\n          <div style="padding-top: 6px;">\r\n            <button md-raised-button [disabled]="isDisabled" style="width:47px;line-height: 27px;" (click)="AddVehicle();isAddVehicleDialog=false;">{{\'OK\' | translate}}</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div style="height: 250px;overflow: auto;padding-bottom: 3px;" >\r\n          <div *ngFor="let vehicle of vehicleList | vehicleFilter: [\'vehicleRegistrationNumber\', search]" >\r\n            <md-card  style="margin-top: 2px;cursor: pointer;padding:16px;display: flex;" class="vehicle-hover"\r\n                      (click)="vehicle.select=!vehicle.select;chackValid()" >\r\n              <div style="min-width: 40px">\r\n               <span *ngIf="vehicle.select" class="select-vehicle"\r\n                     style="background-color: deepskyblue;">\r\n                 <i class="fa fa-check" aria-hidden="true"></i>\r\n               </span>\r\n                <span *ngIf="!vehicle.select" class="select-vehicle"\r\n                      style="background-color: grey;">\r\n                 <i class="fa fa-slack" aria-hidden="true"></i>\r\n               </span>\r\n              </div>\r\n              <span style="margin-left: 18px;font-size: 16px;">{{vehicle.vehicleRegistrationNumber}}</span>\r\n            </md-card>\r\n          </div>\r\n        </div>\r\n\r\n        \x3c!--<div style="padding: 5px;margin-top:5px;text-align: right">--\x3e\r\n          \x3c!--<md-input-container  >--\x3e\r\n          \x3c!--</md-input-container>--\x3e\r\n\r\n        \x3c!--</div>--\x3e\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--Add new vehicle dialog ends here--\x3e\r\n\r\n  <md-card>\r\n    <div fxLayout="row">\r\n      <span style="padding-top: 11px;padding-right: 4px;">{{\'Date:\' |translate }}</span>\r\n      <input  placeholder="{{\'Start Date\' | translate }}" [autoClose] = "false" style="min-width: 50px;" [ngModel]="fromDate | date: \'dd/MM/yyyy ,hh:mm  a\'" [(dateTimePicker)]="fromDate" [pickerType]="\'both\'"\r\n             [hourTime]="\'12\'" readonly />\r\n\r\n      <span style="font-size: 17px;padding: 5px;">-</span>\r\n\r\n      <input placeholder="{{\'End Date\' | translate }}" [autoClose] = "false" style="min-width: 50px;" [ngModel]="toDate | date:\'dd/MM/yyyy ,hh:mm a\'" [(dateTimePicker)]="toDate" [pickerType]="\'both\'"\r\n             [hourTime]="\'12\'" readonly />\r\n    </div>\r\n\r\n    <div fxLayout="row" style="padding-top: 15px;margin-bottom: 7px;">\r\n      <span>{{\'Vehicle\' | translate }}:</span>\r\n      <ul class="vehicle-list">\r\n        <li *ngFor="let veh of selectedVehicles;let ind=index" >\r\n          {{veh.vehicleRegistrationNumber}}\r\n          <span  class="remove-vehicle" (click)="unselectVehicle(ind)" >&times;</span>\r\n        </li>\r\n      </ul>\r\n      <div style="margin-left: auto;">\r\n        <button md-raised-button style="width:47px;line-height: 27px;" (click)="openAddVehicleDialog()">Add</button>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n\r\n  <md-card style="margin-top: 0px">\r\n    \x3c!--<div  style="padding: 5px;text-align: right;" class="share-download">--\x3e\r\n      \x3c!--<i class="fa fa-share-alt" aria-hidden="true" mdTooltip="share"></i>--\x3e\r\n      \x3c!--<i class="fa fa-download" aria-hidden="true"  mdTooltip="{{\'Download pdf\' | translate }}">--\x3e\r\n        \x3c!--<span>P</span>--\x3e\r\n      \x3c!--</i>--\x3e\r\n      \x3c!--<i class="fa fa-download" aria-hidden="true"  mdTooltip="{{\'Download XL\' | translate }}">--\x3e\r\n        \x3c!--<span>X</span>--\x3e\r\n      \x3c!--</i>--\x3e\r\n    \x3c!--</div>--\x3e\r\n\r\n    <div fxLayout="row" style="padding-top: 8px">\r\n      <div fxFlex style="margin-top: 8px;font-size: 17px">\r\n        <span>{{vehicleDetails.length}} {{\'Records\' | translate }}</span>\r\n      </div>\r\n      <div fxFlex style="display: grid;text-align: right;color: #757575;font-size:12px;">\r\n        <span style="margin-top:12px;">{{allStoppageTime}}</span>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n\r\n  <hr style="border-style:ridge;border-width:1px;margin-top: 5px">\r\n  <md-card *ngFor="let vehicleDetail of vehicleDetails;let ind=index" style="min-height: 150px">\r\n    <div fxLayout="row" style="margin-right: 50px;">\r\n      <img class="img-container" src="../../../../images/lorry.png" alt="image"  >\r\n      <div fxFlex style="font-size: 17px;margin-left: 5px">\r\n        <span>{{vehicleDetail[\'vehicleRegistrationNumber\']}}</span>\r\n        <span style="color: #403030;font-size: 12px;"> {{vehicleDetail[\'vehicleType\']}}</span>\r\n      </div>\r\n      \x3c!--<div fxFlex style="display: grid;text-align: right;color: #757575;font-size:12px;margin-top: 13px;">--\x3e\r\n        \x3c!--<span>20 min</span>--\x3e\r\n      \x3c!--</div>--\x3e\r\n    </div>\r\n\r\n    <div *ngIf="vehicleDetail[\'details\'].length == 0" style="font-size: 20px;text-align: center;opacity: .5;padding-top: 25px;transform: rotate(-30deg);">\r\n      <span>{{\'No Record\' | translate }}</span>\r\n    </div>\r\n\r\n  <div *ngFor="let detail of vehicleDetail[\'details\']">\r\n    <div style="text-align: right;color: #757575;font-size:12px;margin-top:-23px;">\r\n      <span>{{detail[\'_vehStopDuration\']}}</span>\r\n    </div>\r\n\r\n    <div  style="display: inline-flex;width: 100%;margin-top: 30px;margin-bottom: 20px">\r\n      <div>\r\n        <button  md-button [disabled]=vehicleDetail.isScrollLeftDisable [style.color]="vehicleDetail.isScrollLeftDisable==false?\'steelblue\':\'grey\'"\r\n                 (click)="scrollLeft(ind)"\r\n                 style="margin-top: 32px;background: none;border: none;outline: none;">\r\n          <i class="fa fa-chevron-left" aria-hidden="true" style="font-size: 22px;cursor: pointer" ></i>\r\n        </button>\r\n      </div>\r\n\r\n      \x3c!--   **************  horizontal     time line   ****************   --\x3e\r\n      <ul id="timeline_{{ind}}" style="list-style: none;margin: 0px 10px 0px 10px;width: 95%;position: relative;padding-left: 0px;overflow-x: auto"\r\n          fxLayout="row">\r\n\r\n        <li  style="text-align:center;" fxFlex *ngFor="let value of detail[\'value\']"  >\r\n          <div style="display:grid;color:#707070;font-size:11px;margin-bottom:25px;">\r\n            <span>{{value[\'time\'] | date: \'dd MMM yy ,hh:mm a\'}}</span>\r\n          </div>\r\n          <hr style="border-style:outset;border-width:1px;margin-top: 5px;;min-width:150px">\r\n          <div style="display:grid;color:#707070;">\r\n            <span>\r\n              <span class="timeline-icon">\r\n                <span style="vertical-align: -90%;">{{value[\'stopDuration\']}}</span>\r\n              </span>\r\n            </span>\r\n            <span style="margin-top: 15px;padding: 11px;overflow:hidden;text-overflow: ellipsis" (click)="value.isMore=true" [style.white-space]="value.isMore?\'normal\':\'nowrap\'" >\r\n              {{value[\'endPosition\'][\'address\']}}\r\n            </span>\r\n            \x3c!--<span *ngIf="!value.isMore " (click)="value.isMore=true"  style="margin-top: -6px">--\x3e\r\n                  \x3c!--<i style="cursor: pointer" class="fa fa-ellipsis-h" aria-hidden="true"></i>--\x3e\r\n            \x3c!--</span>--\x3e\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <div>\r\n        <button md-button  [disabled]=vehicleDetail.isScrollRightDisable [style.color]="vehicleDetail.isScrollRightDisable==false?\'steelblue\':\'grey\'"\r\n                style="background: none;border: none;outline: none;margin-top: 32px;" (click)="scrollRight(ind)">\r\n          <i class="fa fa-chevron-right" aria-hidden="true" style="font-size: 22px;cursor:pointer" ></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n  </md-card>\r\n\r\n\r\n\r\n\r\n\r\n  <div style="height: 55px;"></div>\r\n\r\n  <button md-fab class="md-fab-bottom-right" style="position: absolute;right: 10px;bottom: 10px;" (click)="showStopFilterDialogue=true" >\r\n    <i style="font-size: 24px; color:white; " class="fa fa-filter" aria-hidden="true" ></i>\r\n  </button>\r\n\r\n  \x3c!--filter dialogue starts here--\x3e\r\n\r\n  <div *ngIf="showStopFilterDialogue"   class="mycustomDialog" style="padding-top: 70px;">\r\n  <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n  <div class="modal-header">\r\n  <span class="close" (click)="showStopFilterDialogue=false;" >&times;</span>\r\n  <label>Filter Report</label>\r\n  </div>\r\n  <div  style="padding: 5px;font-size: 13px;">\r\n  <div style="min-height: 100px;max-height: 500px;overflow: auto;padding-bottom: 3px;" >\r\n  <div>\r\n  <md-card  style="margin-top: 2px;padding-bottom: 65px; cursor: pointer;display: flex;" class="vehicle-hover"\r\n  >\r\n\r\n  <div style="min-width: 40px">\r\n  <span>\r\n  <h3 style="margin-bottom: 0px">BY TIME:</h3>\r\n  <md-input-container style="width: 50%;top: 7px;" >\r\n  <input type="number" min="0" mdInput pattern="[0-9]" placeholder="{{\'Time Duration\' | translate }}" onkeydown="if(event.target.value.length>=2 && event.keyCode!=8 && event.keyCode!=13 )return false;" required [(ngModel)]="timeDurationStop">\r\n  </md-input-container>\r\n  <md-select style="width: 40%;right: 5px"[(ngModel)]="timeDurationStopUnit">\r\n  <md-option value="Min">Min</md-option>\r\n  <md-option value="Hrs">Hrs</md-option>\r\n  </md-select>\r\n  </span>\r\n\r\n  <button md-button style="position:absolute;right: 65px;background-color:white;margin-right: 37px;bottom: 5px; color: #1E88E5" (click)="showStopFilterDialogue=false"><span>CANCEL</span></button>\r\n  <button md-button style="position:absolute;right: 25px;background-color:white;bottom: 5px; color: #1E88E5" (click)="filterStoppageReport()" ><span>APPLY</span></button>\r\n\r\n\r\n  </div>\r\n  <div>\r\n\r\n  </div>\r\n  </md-card>\r\n  </div>\r\n  </div>\r\n  </div>\r\n  </div>\r\n  </div>\r\n\r\n\r\n  \x3c!--filter dialogue ends here--\x3e\r\n</div>\r\n'},nJr4:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu");i.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this._store=e,this.isSpinner=!1,this.isAddDeviceDialog=!1,this.allDeviceStatistics=[],this.deviceStatistics=[],this.startPageNo=1,this.endPageNo=10,this.totalPage=0,this.selectedTableHeight="10",this._store.dispatch({type:"TITLE",payload:"Statitics"});for(var t=1;t<=9;t++)this.allDeviceStatistics.push({"S.No":t});this.totalPage=this.allDeviceStatistics.length,this.endPageNo=Number(this.selectedTableHeight)<this.totalPage?Number(this.selectedTableHeight):this.totalPage;for(var t=0;t<this.selectedTableHeight&&t<this.totalPage;t++)this.deviceStatistics.push(this.allDeviceStatistics[t]);this.isSpinner=!1}return e.prototype.addDevice=function(){this.isAddDeviceDialog=!0},e.prototype.selectTableHeight=function(){this.deviceStatistics=[],this.startPageNo=1,this.endPageNo=Number(this.selectedTableHeight)<this.totalPage?Number(this.selectedTableHeight):this.totalPage;for(var e=0;e<this.selectedTableHeight&&e<this.totalPage;e++)this.deviceStatistics.push(this.allDeviceStatistics[e])},e.prototype.prevPage=function(){if(this.startPageNo>=1){this.deviceStatistics=[],this.endPageNo=this.startPageNo-1;this.endPageNo,this.startPageNo;this.startPageNo=this.startPageNo-Number(this.selectedTableHeight);for(var e=this.startPageNo-1;e<this.endPageNo;e++)this.deviceStatistics.push(this.allDeviceStatistics[e])}},e.prototype.nextPage=function(){if(this.endPageNo<this.totalPage){this.deviceStatistics=[],this.startPageNo=this.startPageNo+Number(this.selectedTableHeight);var e=this.totalPage-this.endPageNo;this.endPageNo=this.endPageNo+(e<Number(this.selectedTableHeight)?e:Number(this.selectedTableHeight));for(var t=this.startPageNo-1;t<this.endPageNo;t++)this.deviceStatistics.push(this.allDeviceStatistics[t])}},e}();a=r([i.i(n.Component)({selector:"statistics-web",template:i("bHp8"),styles:[i("fMO1")]}),s("design:paramtypes",["function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],a);var l},nVN6:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"nwE+":function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("WWmu"),s=i("Pgz3"),a=i("Ths4");i.n(a);i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i,n){var o=this;this._store=e,this._router=t,this._services=i,this.localStorageService=n,this.isSpinner=!1,this.errorMsg="",this.title="maps",this.mapHeight="0px",this.isfooterDateBar=!1,this.isDrag=!1,this.lat=null,this.long=null,this.isSelectDateDialog=!1,this.startOffsetHeight=0,this.selectedDate=new Date((new Date).setHours(0,0,0,0)),this.selectdVehicle={},this.previousOffset=0,this.isFullScreen=!1,this.locationHislist=[],this.dateList=[],this.unSub_locationHistory=null,this._store.dispatch({type:"TITLE",payload:"Location History"});var r=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()).getTime();console.log(r);for(var s=0;s<30;s++)this.dateList[s]=new Date(r),r-=864e5;var a=this.localStorageService.get("SELECTED-LOCATION-HIS-VEHICLE");console.log(a),void 0==a&&null==a||(this.selectdVehicle=a,this.lat=this.selectdVehicle.latitude,this.long=this.selectdVehicle.longitude,this.getLocationHistory(this.selectedDate)),this.unSub_locationHistory=e.select("locationHistory").subscribe(function(e){if(o.isSpinner=!1,o.locationHislist=[],o.errorMsg="",console.log(e),null!=e){""==e.error?(o.locationHislist=e.data,console.log(o.locationHislist)):o.errorMsg=e.errorMsg;for(var t=0;t<o.locationHislist.length;t++)o.locationHislist[t]._duration=o.msToTime(o.locationHislist[t].duration)}})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_locationHistory&&null!=this.unSub_locationHistory&&void 0!=this.unSub_locationHistory&&this.unSub_locationHistory.unsubscribe()},e.prototype.ngAfterViewChecked=function(){screen.width<600?this.isfooterDateBar=!1:this.isfooterDateBar=!0},e.prototype.ngOnInit=function(){var e=document.getElementById("timeline_card").getBoundingClientRect();this.startOffsetHeight=e.top,this.previousOffset=e.top},e.prototype.fullScreen=function(){if(35!=document.getElementById("timeline_card").getBoundingClientRect().top){var e=document.getElementById("map").getBoundingClientRect();this.mapHeight=-e.height+"px",this.isFullScreen=!0}},e.prototype.hideScreen=function(){var e=document.getElementById("map").getBoundingClientRect();this.mapHeight=-e.height+"px",this.isFullScreen=!1},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.previousDate=function(){this.selectedDate=new Date(this.selectedDate.setHours(-24,0,0,0)),this.getLocationHistory(this.selectedDate)},e.prototype.nextDate=function(){this.selectedDate=new Date(this.selectedDate.setHours(24,0,0,0)),this.getLocationHistory(this.selectedDate)},e.prototype.getLocationHistory=function(e){this.selectedDate=new Date(e.getTime()),this.isSpinner=!0,this.locationHislist=[],this.errorMsg="";var t=new Date(e.getTime()),i={startTime:t.getTime(),endTime:t.getTime()+864e5,vehicle:this.selectdVehicle.vtsDeviceId};console.log(i),this._services.getLocationHistory.emit(i)},e.prototype.goToMapLocation=function(e){console.log(e),this.lat=e.startPosition.latitude,this.long=e.startPosition.longitude},e}();d=l([i.i(n.Component)({selector:"trip-history",template:i("56h4"),styles:[i("1DCd")]}),c("design:paramtypes",["function"==typeof(p=void 0!==r.b&&r.b)&&p||Object,"function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],d);var p,u,h,g},o4y2:function(e,t){e.exports='<md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n\r\n\x3c!--   *************  add new vehicle box **************** --\x3e\r\n<div *ngIf="isSelectDateDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n  <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n    <div class="modal-header">\r\n      <span class="close" (click)="isSelectDateDialog=false;" >&times;</span>\r\n      <label>{{\'Select Date\' | translate }}</label>\r\n    </div>\r\n    <div  style="padding: 5px;font-size: 13px;">\r\n      <div style="height:250px;overflow:auto;padding:3px;" >\r\n        <md-card *ngFor="let curDate of dateList" style="margin-top: 3px;font-size: 18px;text-align: center;cursor: pointer" (click)="getLocationHistory(curDate);isSelectDateDialog=false;">\r\n          <span style="color: cadetblue;">{{curDate | date }}</span>\r\n        </md-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--Add new vehicle dialog ends here--\x3e\r\n\r\n\r\n<div style="width: 100%;top: 0px;z-index:100" [style.position]="view !=\'web\'?\'absolute\':\'\'"  >\r\n  <div class="top-header" id="top-head" *ngIf="view !=\'web\'">\r\n    <div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">\r\n      <span fxFlex="10%" (click)="back()" >\r\n        <i style="color:white;" class="fa fa-arrow-left" aria-hidden="true" ></i>\r\n      </span>\r\n      <span fxFlex="82%">\r\n        <label style="color:white;margin-left: 17px;margin-top: 4px;font-weight:bold;font-size:larger;font-family: Gotham-Rounded-Medium, Sans-Serif">{{selectdVehicle[\'vehicleRegistrationNumber\']}}</label>\r\n      </span>\r\n\r\n      <span fxFlex="10%">\r\n        <i style="font-size: 20px; color:white; " class="fa fa-filter" aria-hidden="true" (click)="showFilterDialogue=true"></i>\r\n      </span>\r\n    </div>\r\n\r\n  </div>\r\n\r\n<div [style.height]="view !=\'web\'?\'calc(100vh - 51px)\':\'calc(100vh - 200px)\'"  fxLayout="row" fxLayout.xs="column"   style="overflow: hidden;box-shadow: 0px 4px 17px darkgrey;" >\r\n\r\n  <div   fxFlex.xs="50" fxFlex="60" fxFlex.gt-md="70" id="map" style="position: relative">\r\n    \x3c!--<div style="width: 100%;text-align: center;position: absolute;z-index: 1;padding: 5px">--\x3e\r\n      \x3c!--<label class="vehicle_no_header">{{selectdVehicle[\'vehicleRegistrationNumber\']}}</label>--\x3e\r\n    \x3c!--</div>--\x3e\r\n    <div *ngIf="view ==\'web\'" class="vehicle-no-desktop" >\r\n      <label style="background-color: #00ffe7;box-shadow: 2px 2px 1px grey;padding: 1px">{{selectdVehicle[\'vehicleRegistrationNumber\']}}</label>\r\n    </div>\r\n    <button *ngIf="view ==\'web\'" style="position: absolute;z-index:10;right: 5px;top:5px;"  md-mini-fab color="primary" (click)="showFilterDialogue =true" >\r\n      <i style="font-size: 20px; color:white; " class="fa fa-filter" aria-hidden="true" ></i>\r\n    </button>\r\n    <agm-map [zoom]="zoom" [latitude]="lat" [longitude]="long"  style="height: 100%">\r\n      <agm-marker *ngFor="let stopPos of polyLineStoppedArray"  [latitude]="stopPos.lat" [longitude]="stopPos.long" [iconUrl]="stopPos.isInfoWindowOpen?\'\':\'../../images/dot1.png\'">\r\n        <agm-info-window [isOpen] = "stopPos.isInfoWindowOpen" >\r\n          <div style="max-width: 150px;text-align:center">\r\n            {{stopPos.address}}\r\n          </div>\r\n        </agm-info-window>\r\n      </agm-marker>\r\n\r\n        <agm-polyline geodesic=true strokeColor="#098e02"  *ngFor="let poly of polyLineMovingArray">\r\n            <agm-polyline-point *ngFor="let point of poly" [latitude]="point[0]"  [longitude]="point[1]"  ></agm-polyline-point>\r\n        </agm-polyline>\r\n\r\n      <agm-polyline geodesic=true strokeColor="#87d80d"  *ngFor="let poly of stoppedPolyLineArray">\r\n        <agm-polyline-point *ngFor="let point of poly" [latitude]="point[0]"  [longitude]="point[1]"  ></agm-polyline-point>\r\n      </agm-polyline>\r\n      \x3c!--87d80d--\x3e\r\n    </agm-map>\r\n\r\n\x3c!-- at bottom of map show date picker scrollable bar , only show in desktop view--\x3e\r\n    <div *ngIf="isfooterDateBar == true" style="position:absolute;bottom:8px;z-index: 2;width:90%;overflow:auto;padding-left: 10px">\r\n      <ul drag-scroll (scroll)="isDrag = true;"  style="list-style: none;width: 99%;position: relative;overflow-x: auto;padding-left: 3px;"\r\n          fxLayout="row" >\r\n         <li style="text-align:center;" *ngFor="let curDate of dateList" class="select-date" >\r\n           <md-card style="display: grid;margin-left: 4px;min-height: 76px;" [class.selected-date]="curDate.getTime()==selectedDate.getTime()"\r\n                 fxLayout="row" (click)="(isDrag==true)?(isDrag=false):getLocationHistory(curDate)">\r\n            <label fxFlex="30" style="font-size: 35px;cursor: pointer">{{curDate | date:\'d\'}}</label>\r\n            <label fxFlex="70" style="font-size: 17px;width: 100px;white-space: initial;cursor: pointer">{{curDate | date:\'EEEE  MMMM  y\'}}</label>\r\n           </md-card>\r\n         </li>\r\n      </ul>\r\n    </div>\r\n    \x3c!-- ******* at bottom of map date picker scrollable bar close here ***********88--\x3e\r\n\r\n  </div>\r\n\r\n  <md-card   fxFlex.xs="100"  fxFlex="40" fxFlex.gt-md="30" id="timeline_card"  [style.margin-top]="isFullScreen?mapHeight:\'0px\'" class="show-fullscreen"\r\n             name="aa" style="overflow: hidden;z-index:2" >\r\n\r\n    <div  (panup)="fullScreen()"  (pandown)="hideScreen()"   class="timeline-header" style="margin-top: -8px">\r\n      <i class="fa fa-chevron-left" aria-hidden="true" style="float:left;font-size: 21px;color: cornflowerblue;cursor: pointer" (click)="previousDate()"></i>\r\n      <span  (click)="isSelectDateDialog = true" style="color: black;font-size: 16px;padding: 4px 20% 4px 20%;cursor:pointer">{{selectedDate | date }}</span>\r\n      <i class="fa fa-chevron-right" aria-hidden="true" style="float:right;font-size: 21px;color: cornflowerblue;cursor: pointer" (click)="nextDate()"></i>\r\n    </div>\r\n    <div *ngIf="errorMsg != \'\'" style="width: 100%;text-align: center;padding-top: 10px;">\r\n      <span style="font-size: 15px" >{{errorMsg}}</span>\r\n    </div>\r\n    <div style="overflow: auto;height: 98%;padding-top: 10px;" >\r\n    <section class="cd-timeline" *ngFor="let location of locationHislist;" style="padding-bottom: 30px;">\r\n      <div style="color: rgba(0, 0, 0, 0.54);"  *ngIf="location[\'state\']==\'0\' || location[\'state\']==\'Stopped\'" >\r\n        <button style="position: absolute"  md-icon-button class="timeline-icon">\r\n          <i class="fa fa-circle" aria-hidden="true"></i>\r\n        </button>\r\n        <div style="margin-left:45px;padding-top: 5px;">\r\n          <div style="font-size: 10px;">\r\n            <span > {{location[\'startTime\'] | date:\'dd MMM yy hh:mm a\' }}</span>\r\n          </div>\r\n          <div style="margin-top: 7px">\r\n            <span style="border-radius: 3px;padding: 1px;font-size: 14px;" >{{\'Stop\' | translate }}</span>\r\n            <span style="float: right;margin-right: 5px;font-size: 10px;" >{{location[\'_duration\']}}</span>\r\n          </div>\r\n          <div (click)="location.isMore=true;goToMapLocation(location)" style="cursor: pointer;overflow:hidden;text-overflow:ellipsis;margin-top:4px">\r\n                  <span (click)="location.isMore=true"  #childEle style="font-size: 16px;font-weight: bold" [style.white-space]="location.isMore?\'normal\':\'nowrap\'" >\r\n                     {{(location.endPosition?.address)?(location.endPosition?.address):(location.startPosition.address)}}\r\n                  </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style="color: rgba(0, 0, 0, 0.54);"  *ngIf="location[\'state\']==\'-1\' || location[\'state\']==\'Disconnected\'" >\r\n        <button style="position: absolute"  md-icon-button class="timeline-icon"><i style="color: #F44336" class="fa fa-stop" aria-hidden="true"></i></button>\r\n        <div style="margin-left:45px;padding-top: 5px;">\r\n          <div style="font-size: 10px;">\r\n            <span > {{location[\'startTime\'] | date:\'dd MMM yy hh:mm a\' }}</span>\r\n          </div>\r\n          <div style="margin-top: 7px">\r\n            <span style="color: #F44336;border-radius: 3px;padding: 3px;font-size: 14px;" >{{\'Disconnected\' | translate }}</span>\r\n            <span style="float: right;margin-right: 5px;font-size: 10px;" >{{location[\'_duration\']}}</span>\r\n          </div>\r\n          <div  (click)="location.isMore=true;" style="color:#F44336;overflow:hidden;text-overflow:ellipsis;margin-top:4px" >\r\n                  <span (click)="location.isMore=true" style="font-size: 16px;font-weight: bold"   #childEle class="header-text" [style.white-space]="location.isMore?\'normal\':\'nowrap\'" >\r\n                     {{(location.endPosition?.address)?(location.endPosition?.address):(location.startPosition.address)}}\r\n                  </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div *ngIf="location[\'state\']==\'1\'||location[\'state\']==\'Moving\'"  style="margin-left:45px;color: rgba(0, 0, 0, 0.54);padding-bottom: 8px;">\r\n        <div style="display: flex" >\r\n          \x3c!--<span > {{location[\'startTime\'] | date:\'dd MMM yy hh:mm a\' }}</span>--\x3e\r\n          <span style="margin-left:auto;margin-right: 5px;font-size: 10px" >{{location[\'_formattedDistance\']/1000  | number : \'1.2-2\' }} km</span>\r\n        </div>\r\n        <div style="padding-top: 4px;" >\r\n          <img style="height: 14px;" src="../../../../images/Truck_logo.png" alt="image" >\r\n          <span style="border-radius: 3px;padding: 3px;font-size: 14px;" >{{\'Moving\' | translate }}</span>\r\n          <span style="float: right;margin-right: 5px;font-size: 10px;margin-top: 5px;" >{{location[\'_duration\']}}</span>\r\n        </div>\r\n      </div>\r\n      \x3c!-- ********************************* old time line view  ***************************************** --\x3e\r\n      \x3c!--<div fxLayout="row" style="padding-bottom: 3px" >--\x3e\r\n        \x3c!--<div fxFlex="20%">--\x3e\r\n          \x3c!--<button  md-icon-button class="timeline-icon"><i class="fa fa-map-marker" aria-hidden="true"></i></button>--\x3e\r\n        \x3c!--</div>--\x3e\r\n\r\n        \x3c!--<div fxFlex="65%" #parentEle  (click)="location.isMore=true;goToMapLocation(location)" style="overflow: hidden;text-overflow: ellipsis" >--\x3e\r\n          \x3c!--<span (click)="location.isMore=true"  #childEle style="font-size: 18px;color: black;" [style.white-space]="location.isMore?\'normal\':\'nowrap\'" >--\x3e\r\n            \x3c!--{{(location.endPosition?.address)?(location.endPosition?.address):(location.startPosition.address)}}--\x3e\r\n          \x3c!--</span>--\x3e\r\n          \x3c!--&lt;!&ndash;<span  (click)="location.isMore=true" style="float:right">&ndash;&gt;--\x3e\r\n            \x3c!--&lt;!&ndash;<i  *ngIf="(parentEle.offsetWidth < childEle.offsetWidth) && !location.isMore" class="fa fa-ellipsis-h" aria-hidden="true"></i>&ndash;&gt;--\x3e\r\n          \x3c!--&lt;!&ndash;</span>&ndash;&gt;--\x3e\r\n\r\n        \x3c!--</div>--\x3e\r\n        \x3c!--<div *ngIf="location[\'state\'] == \'Moving\'"  fxFlex="25%" style="text-align: right;padding-top: 3px;">--\x3e\r\n          \x3c!--<span >{{location[\'distance\']/1000  | number : \'1.2-2\' }} km</span>--\x3e\r\n        \x3c!--</div>--\x3e\r\n      \x3c!--</div>--\x3e\r\n\r\n      \x3c!--<div style="margin-left: 21%;margin-top: 5px">--\x3e\r\n        \x3c!--<div fxLayout="row">--\x3e\r\n          \x3c!--<span fxFlex="70%"> {{location[\'startTime\'] | date:\'short\' }}</span>--\x3e\r\n          \x3c!--<span fxFlex="30%" style="text-align: right">{{location[\'_duration\']}}</span>--\x3e\r\n        \x3c!--</div>--\x3e\r\n      \x3c!--</div>--\x3e\r\n\r\n      \x3c!--<div style="margin-left: 21%;margin-top: 5px">--\x3e\r\n        \x3c!--<label  style="background-color: red;color: white;border-radius: 3px;padding: 3px" *ngIf="(location[\'state\']==\'-1\'||location[\'state\']==\'Disconnected\')">{{\'Disconnected\' | translate }}</label>--\x3e\r\n        \x3c!--<label  style="background-color: royalblue;color: white;border-radius: 3px;padding: 3px" *ngIf="(location[\'state\']==\'2\'||location[\'state\']==\'Overspeed\')">{{\'Overspeed\' | translate }}</label>--\x3e\r\n        \x3c!--<label  style="background-color: green;color: white;border-radius: 3px;padding: 3px" *ngIf="(location[\'state\']==\'1\'||location[\'state\']==\'Moving\')" >{{\'Moving\' | translate }}</label>--\x3e\r\n        \x3c!--<label  style="background-color: yellow;color: black;border-radius: 3px;padding: 3px" *ngIf="(location[\'state\']==\'0\'||location[\'state\']==\'Stopped\')">{{\'Stopped\' | translate }}</label>--\x3e\r\n      \x3c!--</div>--\x3e\r\n\r\n      \x3c!-- **********  close  old time line view  --\x3e\r\n      \x3c!-- cd-timeline-img --\x3e\r\n    </section>\r\n\r\n    <div style="height:50px"></div>\r\n    \x3c!--<button md-fab class="md-fab-bottom-right" style="position: fixed;right: 10px;bottom: 10px;" (click)="showFilterDialogue=true" >--\x3e\r\n      \x3c!--<i style="font-size: 24px; color:white; " class="fa fa-filter" aria-hidden="true" ></i>--\x3e\r\n    \x3c!--</button>--\x3e\r\n      </div>\r\n  </md-card>\r\n\r\n  \x3c!--filter dialogue starts here--\x3e\r\n\r\n  <div *ngIf="showFilterDialogue"   class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="showFilterDialogue=false;" >&times;</span>\r\n        <label>Filter History</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="min-height: 100px;max-height: 500px;overflow: auto;padding-bottom: 3px;" >\r\n          <div>\r\n            <md-card  style="margin-top: 2px;padding-bottom: 65px; cursor: pointer;display: flex;" class="vehicle-hover"\r\n                       >\r\n\r\n              <div style="min-width: 40px">\r\n                <h3 style="margin-bottom:-9px">BY STATUS:</h3>\r\n                <span>\r\n                  <md-list>\r\n                    <md-list-item>\r\n                      <md-checkbox #chk0 [(ngModel)]="chkStopped" value="Stopped" >\r\n                        STOPPED\r\n                      </md-checkbox>\r\n                    </md-list-item>\r\n\r\n                    <md-list-item>\r\n                      <md-checkbox #chk1 [(ngModel)]="chkMoving" value="Moving" >\r\n                        MOVING\r\n                      </md-checkbox>\r\n                    </md-list-item>\r\n\r\n                    <md-list-item>\r\n                      <md-checkbox #chk2 [(ngModel)]="chkOverspeed" value="Overspeeding" >\r\n                        OVERSPEEDING\r\n                      </md-checkbox>\r\n                    </md-list-item>\r\n\r\n                    <md-list-item>\r\n                      <md-checkbox #chk3 [(ngModel)]="chkDisconnected" value="Disconnected">\r\n                        DISCONNECTED\r\n                      </md-checkbox>\r\n                    </md-list-item>\r\n                  </md-list>\r\n                </span>\r\n                <md-divider></md-divider>\r\n                <span>\r\n                   <h3 style="margin-bottom: 0px">BY TIME:</h3>\r\n      <md-input-container style="width: 50%;top: 7px;" >\r\n        <input type="number" min="0" mdInput pattern="[0-9]{10}" placeholder="{{\'Time Duration\' | translate }}" required [(ngModel)]="timeDuration">\r\n      </md-input-container>\r\n                  <md-select style="width: 40%;right: 5px"[(ngModel)]="timeDurationUnit">\r\n                    <md-option value="Min">Min</md-option>\r\n                    <md-option value="Hrs">Hrs</md-option>\r\n                  </md-select>\r\n                </span>\r\n\r\n             <button md-button style="position:absolute;right: 65px;margin-right: 37px;bottom: 5px; color: #1E88E5" (click)="showFilterDialogue=false;"><span>CANCEL</span></button>\r\n              <button md-button style="position:absolute;right: 5px;bottom: 5px; color: #1E88E5" (click)="setFilterValues(chk0,chk1,chk2,chk3)" ><span>APPLY</span></button>\r\n\r\n\r\n              </div>\r\n              <div>\r\n\r\n              </div>\r\n            </md-card>\r\n          </div>\r\n        </div>\r\n        \x3c!--filter dialogue ends here--\x3e\r\n</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n'},oN5c:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"div{font-family:Helvetica}.custome-button button{height:26px;font-size:13px;line-height:26px;border-radius:5px}.customCheckBox>>>.mat-checkbox-inner-container{height:15px!important;width:15px!important}.customePaginator>>>.mat-paginator-range-label{min-width:92px}.container{padding:5px;width:99%}md-card{padding:15px;font-family:Helvetica}.cards-toggle{height:38px;font-size:12px;margin-left:8px;width:9%}.cards-toggle div{text-align:center}.cards-toggle:hover{background-color:#6433ba;color:#fff;cursor:pointer}.cards-toggle:active{background-color:#1976d2;color:#fff}.overlay{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.doughnut-chart{position:relative;margin-top:-19px;width:97px}.expand-search{border:1.5px solid #03a9f4;width:100%;font-size:12px;padding:3px 26px 4px 12px;display:inline-block;border-radius:17px;box-sizing:border-box;outline:none}.doughnut-chart-label{padding:0 6px;font-size:10px;margin-right:5px}.list-header{color:#46465f;font-size:13px;font-weight:700;padding:8px}td,th{border-right:1px solid #eee;text-align:center;padding:8px}.list-body{font-size:12px;padding:8px}.list-body span{margin-left:5px}tr:nth-child(2n){background-color:#f6f9fd}.select-row:hover{background-color:#f0f8ff}.button-align button{line-height:25px}.imgcontainer{padding-left:20px}.pagination-button{line-height:25px;min-width:0;padding:0 10px;color:#46465f;background-color:#f5f5f5}.pagination-text{color:#828395;text-align:center!important;font-weight:bolder;font-size:14px;padding:0 5px;width:200px}.pagination-text span{display:inline-block;min-width:30px}md-option{height:35px;line-height:35px}.my-select{width:130px;padding:0 16px;vertical-align:6px}.add-button{width:22px;height:22px;line-height:22px}.no-vts-info{white-space:nowrap;color:#d0d0d0;margin-top:22px;padding-left:85px;font-size:15px;-webkit-transform:rotate(-9deg);transform:rotate(-9deg)}",""]),e.exports=e.exports.toString()},"p30/":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".trip-container{padding:4px}.trip-container div{font-family:Gotham-Rounded-Medium,Sans-Serif!important;color:#46465f}agm-map{height:calc(100vh - 230px)}button{color:#fff;background-color:#1e88e5}.searchbox:focus{width:100%}.top-header{width:100%;padding-bottom:3px}.searchBox{position:absolute;z-index:10;width:100%;text-align:center}.searchBox input{padding-left:5px;padding-right:24px;width:calc(93% - 24px);height:30px;margin-top:7px;border:2px solid #5f9ea0;border-radius:10px;font-size:15px;outline:none}.clear_search_box{font-size:26px;border-radius:13%;position:absolute;right:4%;top:10px;cursor:pointer}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}.design{min-width:50px;height:21px;border:none;border-bottom:1px solid #d3d3d3;font-size:15px}.vehicle-hover:hover{background-color:beige}.select-vehicle{padding:10px;color:#fff;border-radius:21px;font-size:18px}.vehicle-list{list-style:none;margin-top:-3px;padding-left:10px;margin-bottom:5px;display:block}.vehicle-list li{border-radius:3px;padding:7px;background-color:beige;margin-bottom:7px;float:left;margin-right:10px}.remove-vehicle{padding:4px;line-height:12px;color:#6495ed;float:right;font-size:18px;margin-right:-14px;background-color:#fffacd;margin-top:-16px;border-radius:13px}.remove-vehicle:focus,.remove-vehicle:hover{color:#fff;text-decoration:none;cursor:pointer;background-color:#6495ed}.slow-expand{padding-bottom:6px;position:absolute;top:2px;right:0;width:calc(100% - 50px)}",""]),e.exports=e.exports.toString()},pjGp:function(e,t,i){"use strict";var n=i("3j3K"),o=i("tGq5"),r=i("WWmu"),s=i("5J2v"),a=i("Ths4"),l=(i.n(a),i("CihD")),c=i("5oXY");i.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,o,r){if(this._router=e,this.localStorageService=t,this.mapApiWrapper=n,this._store=o,this.tripServices=r,this.view="",this.latitude=null,this.longitude=null,this.zoom=5,this.isMarkerDragable=!1,this.isDiscardDialog=!1,this.isUpdateDialog=!1,this.isUpdateConfirmDialog=!1,this.isEditPlaceFromList=!1,this.currentPolygonPoints=[],this.mapType="roadmap",this.headerName="",this.selectedFromTime="",this.selectedTillTime="",this.markers=[],this.vehicleTripDetailsObject=null,this.isPolygonEditable=!1,this.isDiscard=!1,this.selectedLocation="",this.selectedTrip=null,this.selectedConfirmLocation=null,this.view=document.view,"/vtsdashboard/trip/status/details/editTripLocation"==this._router.url&&"web"==this.view)return void this._store.dispatch(i.i(s.c)(["vtsdashboard/trip/status"]));var a=this.localStorageService.get("VEHICLE-TRIP-DETAIL-OBJ");if(void 0!=a&&null!=a){if(console.log(a),this.vehicleTripDetailsObject=JSON.parse(JSON.stringify(a)),"destination"==this.vehicleTripDetailsObject.forEditPlace?this.headerName="Edit Destination":"pickup"==this.vehicleTripDetailsObject.forEditPlace&&(this.headerName="Edit Pickup"),this._store.dispatch({type:"TITLE",payload:this.headerName}),o.dispatch({type:"IS_BACK",payload:{isBack:!0,backToComponent:"trip/status/details"}}),null!=this.vehicleTripDetailsObject.vehicleTripDetails.movementLegs)for(var l=0;l<this.vehicleTripDetailsObject.vehicleTripDetails.movementLegs.length;l++)this.vehicleTripDetailsObject.vehicleTripDetails.movementLegs[l]._totalTime=this.msToTime(this.vehicleTripDetailsObject.vehicleTripDetails.movementLegs[l].totalTime);console.log(this.vehicleTripDetailsObject),this.setupUI(this.vehicleTripDetailsObject)}}return e.prototype.ngOnDestroy=function(){this._store.dispatch({type:"IS_BACK",payload:{isBack:!1,backToComponent:""}})},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnInit=function(){var e=this;this.agmMap.mapReady.subscribe(function(t){e.map=t,console.log("oninit"),e.zoom=12,e.polygon=e.addPolygone(e.map,e.currentPolygonPoints,!1,"#858585","#353535")})},e.prototype.setupUI=function(e){"WaitingForLoad"==e.vehicleTripDetails.vts.state?"destination"==e.forEditPlace&&"LT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.isDiscard=!0,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.lastTrip)),this.selectedLocation=e.vehicleTripDetails.lastTrip.destination[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.lastTrip.destination[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.lastTrip.destination[0].tillTime,this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"pickup"==e.forEditPlace&&"LT"==e.tripName&&(this.selectedLocation=e.vehicleTripDetails.lastTrip.origin[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.lastTrip.origin[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.lastTrip.origin[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.lastTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.lastTrip.origin[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.lastTrip.origin[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.lastTrip.origin[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"EnrouteForPickUp"==e.vehicleTripDetails.vts.state?"destination"==e.forEditPlace&&"LT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.isDiscard=!0,this.selectedLocation=e.vehicleTripDetails.lastTrip.destination[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.lastTrip.destination[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.lastTrip.destination[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.lastTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"pickup"==e.forEditPlace&&"LT"==e.tripName?(this.selectedLocation=e.vehicleTripDetails.lastTrip.origin[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.lastTrip.origin[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.lastTrip.origin[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.lastTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.lastTrip.origin[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.lastTrip.origin[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.lastTrip.origin[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"destination"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.name,this.selectedFromTime=null,this.selectedTillTime=null,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.currentTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"pickup"==e.forEditPlace&&"CT"==e.tripName&&(this.selectedLocation=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.name,this.selectedFromTime=null,this.selectedTillTime=null,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.currentTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.center.longitude,this.isEditPlaceFromList=!0,console.log(this.currentPolygonPoints)):"AtPickUpPoint"==e.vehicleTripDetails.vts.state?"destination"==e.forEditPlace&&"LT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.isDiscard=!0,this.selectedLocation=e.vehicleTripDetails.lastTrip.destination[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.lastTrip.destination[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.lastTrip.destination[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.lastTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.lastTrip.destination[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"pickup"==e.forEditPlace&&"LT"==e.tripName?(this.selectedLocation=e.vehicleTripDetails.lastTrip.origin[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.lastTrip.origin[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.lastTrip.origin[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.lastTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.lastTrip.origin[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.lastTrip.origin[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.lastTrip.origin[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"destination"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.currentTrip.destination[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.currentTrip.destination[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.currentTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"pickup"==e.forEditPlace&&"CT"==e.tripName&&(this.selectedLocation=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.currentTrip.origin[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.currentTrip.origin[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.currentTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"EnrouteForDestination"==e.vehicleTripDetails.vts.state?"pickup"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.isDiscard=!0,this.selectedLocation=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.currentTrip.origin[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.currentTrip.origin[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.currentTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints),console.log(this.latitude)):"destination"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.name,this.selectedFromTime=null,this.selectedTillTime=null,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.currentTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.longitude,this.isEditPlaceFromList=!0,console.log(this.currentPolygonPoints)):"pickup"==e.forEditPlace&&"NT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.vehicleTripDetails.nextTrip.origin[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.nextTrip.origin[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.nextTrip.origin[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.nextTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.nextTrip.origin[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.nextTrip.origin[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.nextTrip.origin[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"destination"==e.forEditPlace&&"NT"==e.tripName&&(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.vehicleTripDetails.nextTrip.destination[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.nextTrip.destination[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.nextTrip.destination[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.nextTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.nextTrip.destination[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.nextTrip.destination[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.nextTrip.destination[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"AtDestination"==e.vehicleTripDetails.vts.state&&("pickup"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.isDiscard=!0,this.selectedLocation=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.currentTrip.origin[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.currentTrip.origin[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.currentTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.currentTrip.origin[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"destination"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.currentTrip.destination[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.currentTrip.destination[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.currentTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.currentTrip.destination[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"pickup"==e.forEditPlace&&"NT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.vehicleTripDetails.nextTrip.origin[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.nextTrip.origin[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.nextTrip.origin[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.nextTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.nextTrip.origin[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.nextTrip.origin[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.nextTrip.origin[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"destination"==e.forEditPlace&&"NT"==e.tripName&&(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.vehicleTripDetails.nextTrip.destination[0].freightLocation.name,this.selectedFromTime=e.vehicleTripDetails.nextTrip.destination[0].fromTime,this.selectedTillTime=e.vehicleTripDetails.nextTrip.destination[0].tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.vehicleTripDetails.nextTrip)),this.currentPolygonPoints=this.changeLatLng(e.vehicleTripDetails.nextTrip.destination[0].freightLocation.geofence.boundry),this.latitude=e.vehicleTripDetails.nextTrip.destination[0].freightLocation.geofence.center.latitude,this.longitude=e.vehicleTripDetails.nextTrip.destination[0].freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)))},e.prototype.changeLatLng=function(e){console.log(e);for(var t=[],i=0;i<e.length;i++)t.push({lat:e[i].latitude,lng:e[i].longitude});return t},e.prototype.addPolygone=function(e,t,i,n,o){var r=new google.maps.Polygon({paths:t,editable:i,strokeColor:o,strokeOpacity:.8,strokeWeight:2,fillColor:n,fillOpacity:.35});return r.setMap(e),r},e.prototype.getNPointsCircularPolygone=function(e,t,i){function n(e){return e*Math.PI/180}function o(e){return 180*e/Math.PI}function r(e,t,i){i/=6371,t=n(t);var r=n(e.lat),s=n(e.lng),a=Math.asin(Math.sin(r)*Math.cos(i)+Math.cos(r)*Math.sin(i)*Math.cos(t)),l=s+Math.atan2(Math.sin(t)*Math.sin(i)*Math.cos(r),Math.cos(i)-Math.sin(r)*Math.sin(a));return isNaN(a)||isNaN(l)?null:new google.maps.LatLng(o(a),o(l))}var s=0,a=[];for(s=1;s<=i;s++)a.push(r(e,360/i*s,t));return a},e.prototype.editLocation=function(){this.isPolygonEditable=!0,this.polygon.setEditable(!0),this.polygon.setOptions({fillColor:"#FF0000",strokeColor:"#FF0000"}),this.placesServices()},e.prototype.back=function(){this.setUrlForDesktop()},e.prototype.setUrlForDesktop=function(){"web"==this.view?this._store.dispatch({type:"CLOSE_DIALOG",payload:{isClose:!1}}):this._store.dispatch(i.i(s.c)(["vtsdashboard/trip/status/details"]))},e.prototype.placesServices=function(){var e=this,t=document.getElementById("pac-input");console.log(t);var i=new google.maps.places.SearchBox(t);this.map.addListener("bounds_changed",function(){i.setBounds(e.map.getBounds())}),this.markers=[],i.addListener("places_changed",function(){var t=i.getPlaces();if(0!=t.length){e.markers.forEach(function(e){e.setMap(null)}),e.markers=[];var n=new google.maps.LatLngBounds;t.forEach(function(t){if(!t.geometry)return void console.log("Returned place contains no geometry");var i=(t.icon,new google.maps.Size(71,71),new google.maps.Point(0,0),new google.maps.Point(17,34),new google.maps.Size(25,25),new google.maps.Marker({title:t.name,position:t.geometry.location}));e.markers.push(i),t.geometry.viewport?n.union(t.geometry.viewport):n.extend(t.geometry.location)}),e.map.fitBounds(n),1==e.markers.length&&(e.selectedLocation=e.markers[0].title)}})},e.prototype.setNewLocation=function(e){this.latitude=e.position.lat(),this.longitude=e.position.lng();var t=this.getNPointsCircularPolygone({lat:this.latitude,lng:this.longitude},.5,5);this.polygon.setPath(t),this.map.setZoom(15),this.map.setCenter(e.getPosition()),this.selectedLocation=e.title;for(var i=0;i<this.markers.length;i++)this.markers[i].setMap(null);this.markers=[]},e.prototype.discard=function(){if("CT"==this.vehicleTripDetailsObject.tripName){var e={forEditPlace:this.vehicleTripDetailsObject.forEditPlace,discardObj:{vehicleId:this.vehicleTripDetailsObject.vehicleTripDetails.currentTrip.vehicleId,tripId:this.vehicleTripDetailsObject.vehicleTripDetails.currentTrip.tripId}};console.log(e),this.tripServices.discardTrip.emit(e),this.setUrlForDesktop()}else if("LT"==this.vehicleTripDetailsObject.tripName){var e={forEditPlace:this.vehicleTripDetailsObject.forEditPlace,discardObj:{vehicleId:this.vehicleTripDetailsObject.vehicleTripDetails.lastTrip.vehicleId,tripId:this.vehicleTripDetailsObject.vehicleTripDetails.lastTrip.tripId}};console.log(e),this.tripServices.discardTrip.emit(e),this.setUrlForDesktop()}},e.prototype.save=function(){for(var e=this.polygon.getPath(),t=[],i=0;i<e.getLength();i++){var n=e.getAt(i);t.push({latitude:n.lat(),longitude:n.lng()})}console.log(t);var o=JSON.parse(JSON.stringify(this.selectedTrip));"destination"==this.vehicleTripDetailsObject.forEditPlace?(o.destination[0].freightLocation.geofence.boundry=t,o.destination[0].freightLocation.name=this.selectedLocation):"pickup"==this.vehicleTripDetailsObject.forEditPlace&&(o.origin[0].freightLocation.geofence.boundry=t,o.origin[0].freightLocation.name=this.selectedLocation),null!=o&&(this.tripServices.updateTrip.emit(o),this.setUrlForDesktop()),console.log(this.vehicleTripDetailsObject),console.log(this.selectedTrip)},e.prototype.editLocationByMovementLog=function(e){console.log(e);var t={forEditPlace:this.vehicleTripDetailsObject.forEditPlace,movementObj:{tripId:this.vehicleTripDetailsObject.vehicleTripDetails.vts.tripId,vehicleId:this.vehicleTripDetailsObject.vehicleTripDetails.vts.vehicleId,startTime:e.startTime}};this.tripServices.updateTripFromStop.emit(t),console.log(t),this.back()},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t);console.log(r);var s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e}();d([i.i(n.ViewChild)(o.c),p("design:type",Object)],u.prototype,"agmMap",void 0),u=d([i.i(n.Component)({selector:"app-edit-trip-location",template:i("9sEU"),styles:[i("jDsV")]}),p("design:paramtypes",["function"==typeof(h=void 0!==c.b&&c.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object,"function"==typeof(f=void 0!==o.b&&o.b)&&f||Object,"function"==typeof(v=void 0!==r.b&&r.b)&&v||Object,"function"==typeof(m=void 0!==l.a&&l.a)&&m||Object])],u);var h,g,f,v,m},pqfg:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("/lY3"),s=(i.n(r),i("+pb+")),a=(i.n(s),i("Pgz3")),l=i("fYnu"),c=i("5fbh"),d=i("Dkvd");i.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,i,n,o){var r=this;this._store=e,this._services=t,this.vehReportServices=i,this.snackBar=n,this._angularitics=o,this.view="",this.isSpinner=!1,this.isAddVehicleDialog=!1,this.isDisabled=!0,this.search="",this.selectedVehicles=[],this.vehicleList=[],this.vehicleDetails=[],this.errorMsg="",this.totalDuration="",this.totalDistance=0,this.unSub_vehicleList=null,this.unSub_customerDetails=null,this.unSub_vehRunningReport=null,this.fromDate=null,this.toDate=null;var s={};this._store.dispatch({type:"TITLE",payload:"Running Report"}),this.unSub_customerDetails=e.select("customerDetails").subscribe(function(i){null!=i&&""==i.error&&(s=i.customer,console.log(s),r.unSub_vehicleList=e.select("vehicleListRes").subscribe(function(e){if(console.log(e),r.errorMsg="",null==e)return void t.getVehicleList.emit(s.id);if(""==e.error){r.vehicleList=e.data,console.log(r.vehicleList);for(var i=0;i<r.vehicleList.length;i++)r.vehicleList[i].select=!1}else console.log(e.errorMsg),r.errorMsg=e.errorMsg}))})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&this.unSub_vehicleList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_vehRunningReport&&null!=this.unSub_vehRunningReport&&void 0!=this.unSub_vehRunningReport&&this.unSub_vehRunningReport.unsubscribe()},e.prototype.openAddVehicleDialog=function(){return null==this.fromDate||null==this.toDate?(console.log(this.fromDate),console.log(this.toDate),void this.openSnackBar("Please select Date first")):this.toDate-this.fromDate<0?void this.openSnackBar("Start date must be less than End date"):this.fromDate.getTime()>(new Date).getTime()||this.toDate.getTime()>(new Date).getTime()?void this.openSnackBar("Date should not be greater than current Date"):void(this.isAddVehicleDialog=!0)},e.prototype.AddVehicle=function(){var e=this;if(null==this.fromDate||null==this.toDate)return void this.openSnackBar("Please select Date first");var t=[],i=[];this.selectedVehicles=[],this.vehicleDetails=[];for(var n=0;n<this.vehicleList.length;n++)1==this.vehicleList[n].select&&(this.selectedVehicles.push(JSON.parse(JSON.stringify(this.vehicleList[n]))),t.push(JSON.parse(JSON.stringify(this.vehicleList[n]))),t[t.length-1].details=[],i.push(this.vehicleList[n].uuid));console.log(this.selectedVehicles);var o={startTime:this.fromDate.getTime(),endTime:this.toDate.getTime(),vehicleList:i,minimumTime:1e3};this.isSpinner=!0,this.totalDuration=this.msToTime(this.toDate-this.fromDate),console.log(this.totalDuration),void 0!==this.unSub_vehRunningReport&&null!=this.unSub_vehRunningReport&&void 0!=this.unSub_vehRunningReport&&this.unSub_vehRunningReport.unsubscribe(),this._angularitics.eventTrack("Running_Report_Parameters_Set",o),this.vehReportServices.getRunningReport.emit(o),this.unSub_vehRunningReport=this._store.select("vehRunningReport").subscribe(function(i){if(console.log(i),e.vehicleDetails=[],e.errorMsg="",null!=i)if(e.isSpinner=!1,""==i.error){for(var n=i.data,o=0,r=0;r<n.length;r++)n[r].vehStoppageTime=e.msToTime(Number(n[r].stoppageTime)),n[r].vehDriveTime=e.msToTime(Number(n[r].driveTime)),n[r].vehOverSpeedDuration=e.msToTime(Number(n[r].overSpeedDuration)),o+=Number(n[r].distance/1e3),n[r].isLocShow=!1;for(var r=0;r<t.length;r++){console.log(t[r]);for(var s=0;s<n.length;s++)console.log(n[s]),t[r].uuid==n[s].vehicleId&&(t[r].details.push(n[s]),console.log(t[r],n[s])),console.log(t[r])}e.totalDistance=o,console.log(t),e.vehicleDetails=t,console.log(e.vehicleDetails),console.log(e.vehicleDetails[0].details.length),console.log(e.vehicleDetails[0].details),console.log(e.selectedVehicles)}else console.log(i.errorMsg),e.vehicleDetails=t,e.openSnackBar(i.errorMsg),e._store.dispatch({type:"VEH_RUNNING_REPORT",payload:null})})},e.prototype.unselectVehicle=function(e){console.log(this.vehicleDetails),this.selectedVehicles.splice(e,1),this.vehicleDetails[e].details.length>0&&(this.totalDistance=this.totalDistance-this.vehicleDetails[e].details[0].distance/1e3),this.vehicleDetails.splice(e,1)},e.prototype.chackValid=function(){for(var e=0;e<this.vehicleList.length;e++){if(1==this.vehicleList[e].select){this.isDisabled=!1;break}this.isDisabled=!0}},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:4e3})},e}();h=p([i.i(n.Component)({selector:"app-running-report",template:i("dAUx"),styles:[i("VcMs")]}),u("design:paramtypes",["function"==typeof(g=void 0!==o.b&&o.b)&&g||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(v=void 0!==c.a&&c.a)&&v||Object,"function"==typeof(m=void 0!==l.A&&l.A)&&m||Object,"function"==typeof(y=void 0!==d.a&&d.a)&&y||Object])],h);var g,f,v,m,y},qDcV:function(e,t){e.exports="<app-users-list></app-users-list>\r\n"},qas2:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("1ZaY"),a=i("fYnu"),l=i("Ths4");i.n(l);i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n,o){var s=this;this._store=e,this.vehicleMgmntService=t,this.snackBar=n,this.localStorageService=o,this.view="",this.orgId="",this.groupId="",this.isShowConfirmDelete=!1,this.selectedGroup={},this.vehiclesByGroupList=[],this.unSub_SelectedGroup=null,this.unSub_DeleteGroupResponse=null,this.unSub_vehiclesByGroupList=null,this.unSub_customerDetails=null,this.view=document.view,this.unSub_customerDetails=e.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&(s.orgId=e.customer.orgId)}),this.unSub_SelectedGroup=e.select("selectedVehicleGroupForEdit").subscribe(function(e){null!=e&&(console.log("selected Vehicle Group For Edit in component"),console.log(e),s.selectedGroup=e,s.groupId=e.uuid,s.vehicleMgmntService.getAllVehiclesByGroup.emit(s.groupId))}),this.unSub_DeleteGroupResponse=e.select("deleteGroupResponse").subscribe(function(e){null!=e&&(console.log("Delete group response:"),console.log(e),s.openSnackBar("Group Deleted Successfully !!"),s.localStorageService.set("LAST_CALLED_FROM_ORG_MANAGEMENT","vehicle Group"),s._store.dispatch(i.i(r.c)(["/vtsdashboard/manageVehicles"])))}),this.unSub_vehiclesByGroupList=e.select("getVehiclesByGroup").subscribe(function(e){null!=e&&(200==e.status&&console.log("Vehicles by group list"),console.log(e),s.vehiclesByGroupList=e.list)})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_SelectedGroup&&null!=this.unSub_SelectedGroup&&void 0!=this.unSub_SelectedGroup&&this.unSub_SelectedGroup.unsubscribe(),void 0!==this.unSub_DeleteGroupResponse&&null!=this.unSub_DeleteGroupResponse&&void 0!=this.unSub_DeleteGroupResponse&&this.unSub_DeleteGroupResponse.unsubscribe(),void 0!==this.unSub_vehiclesByGroupList&&null!=this.unSub_vehiclesByGroupList&&void 0!=this.unSub_vehiclesByGroupList&&this.unSub_vehiclesByGroupList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.ngOnInit=function(){},e.prototype.goToManageVehicles=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/manageVehicles"]))},e.prototype.goToEditVehicles=function(e){this._store.dispatch({type:"CALLED_EDIT_VEHICLE_SOURCE",payload:"GroupedVehicleList"}),this._store.dispatch({type:"SELECTED_VEHICLE_FOR_EDIT",payload:e}),this._store.dispatch(i.i(r.c)(["/vtsdashboard/editVehicles"]))},e.prototype.showAddNewGroup=function(){},e.prototype.showDeleteGroupConfirmation=function(){this.isShowConfirmDelete=!0},e.prototype.deleteSelecetedGroup=function(){console.log("selected group for DELETE ==> :"),console.log(this.selectedGroup),this.isShowConfirmDelete=!1,this.vehicleMgmntService.deleteGroup.emit(this.selectedGroup)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e}();p=c([i.i(n.Component)({selector:"app-grouped-vehicles-list",template:i("e5+H"),styles:[i("5U1O")]}),d("design:paramtypes",["function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(g=void 0!==a.A&&a.A)&&g||Object,"function"==typeof(f=void 0!==l.LocalStorageService&&l.LocalStorageService)&&f||Object])],p);var u,h,g,f},qazM:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("/lY3"),s=(i.n(r),i("+pb+")),a=(i.n(s),i("Pgz3")),l=i("fYnu"),c=i("5fbh"),d=i("Ths4"),p=(i.n(d),i("5J2v")),u=i("kZql"),h=i("Dkvd");i.d(t,"a",function(){return v});var g=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function e(e,t,i,n,o,r){var s=this;this.localStorageService=e,this._store=t,this._services=i,this.vehReportServices=n,this.snackBar=o,this._angularitics=r,this.view="",this.isSpinner=!1,this.isAddVehicleDialog=!1,this.search="",this.vehicleNo="Select vehicle here",this.selectedVehicle={},this.vehicleList=[],this.errorMsg="",this.totalDuration="",this.totalDistance=0,this.unSub_vehicleList=null,this.unSub_customerDetails=null,this.fromDate=null,this.toDate=null,this.currenDate=new Date,this.myDateRangePickerOptions={dateFormat:"dd.mmm.yyyy",showClearDateRangeBtn:!1,width:"100%",showApplyBtn:!1,markCurrentDay:!0,editableDateRangeField:!1,openSelectorOnInputClick:!0,indicateInvalidDateRange:!0,disableSince:{year:this.currenDate.getFullYear(),month:this.currenDate.getMonth()+1,day:this.currenDate.getDate()+1}};var a={};this.view=document.view,this._store.dispatch({type:"TITLE",payload:"Vehicle Timeline Report"}),this.unSub_customerDetails=t.select("customerDetails").subscribe(function(e){null!=e&&""==e.error&&(a=e.customer,console.log(a),s.unSub_vehicleList=t.select("vehicleListRes").subscribe(function(e){if(console.log(e),s.errorMsg="",null==e)return void i.getVehicleList.emit(a.id);if(""==e.error){s.vehicleList=e.data,console.log(s.vehicleList);for(var t=0;t<s.vehicleList.length;t++)s.vehicleList[t].select=!1}else console.log(e.errorMsg),s.errorMsg=e.errorMsg}))})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&this.unSub_vehicleList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.onDateRangeChanged=function(e){if(e.endEpoc+86400-1-e.beginEpoc>86400*u.c.MAX_RANGE_DAYS)return this.openSnackBar("you can select max  15 day range"),this.fromDate=null,void(this.toDate=null);this.fromDate=1e3*e.beginEpoc,this.toDate=1e3*(e.endEpoc+86400-1)},e.prototype.AddVehicle=function(){if(console.log(this.fromDate),console.log(this.toDate),null==this.fromDate||null==this.toDate||0==this.fromDate||86399e3==this.toDate)return void this.openSnackBar("Please select valid date");if(this.toDate-this.fromDate>864e5*u.c.MAX_RANGE_DAYS)return void this.openSnackBar("you can select max  15 day range !!");if(""==this.selectedVehicle.uuid||null==this.selectedVehicle.uuid)return void this.openSnackBar("vehicle no should not be empty");var e={startTime:this.fromDate,endTime:this.toDate,selectedVehicle:this.selectedVehicle};this._angularitics.eventTrack("Timeline_Report_Parameters_Set",e),this.localStorageService.set("VEHICLE_TIMELINE_REQUEST_OBJ",e),this._store.dispatch({type:"LOCATION_HISTORY",payload:null}),this._store.dispatch(i.i(p.c)(["/vtsdashboard/vehicleTimelineReport"])),console.log(e)},e.prototype.selectVehicle=function(e){this.isAddVehicleDialog=!1,this.vehicleNo=e.vehicleRegistrationNumber,this.selectedVehicle=e},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:4e3})},e}();v=g([i.i(n.Component)({selector:"app-select-vehicle-timeline-report",template:i("siAS"),styles:[i("61JY")]}),f("design:paramtypes",["function"==typeof(m=void 0!==d.LocalStorageService&&d.LocalStorageService)&&m||Object,"function"==typeof(y=void 0!==o.b&&o.b)&&y||Object,"function"==typeof(x=void 0!==a.a&&a.a)&&x||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object,"function"==typeof(T=void 0!==l.A&&l.A)&&T||Object,"function"==typeof(S=void 0!==h.a&&h.a)&&S||Object])],v);var m,y,x,b,T,S},qdP6:function(e,t,i){"use strict";var n=i("3j3K"),o=i("5oXY"),r=i("WWmu"),s=i("Pgz3"),a=i("5J2v"),l=i("Ths4"),c=(i.n(l),i("Dkvd")),d=i("tGq5"),p=i("fYnu"),u=i("kZql");i.d(t,"a",function(){return f});var h=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t,n,o,r,s){var l=this;this.snackBar=e,this._store=t,this._router=n,this._services=o,this.localStorageService=r,this._angularitics=s,this.view="",this.isSpinner=!1,this.errorMsg="",this.title="maps",this.mapHeight="0px",this.lat=null,this.long=null,this.zoom=10,this.isDrag=!1,this.mapType="roadmap",this.startOffsetHeight=0,this.selectedVehicle={},this.dateList=[],this.previousOffset=0,this.divHeight="50%",this.isFullScreen=!1,this.showFilterDialogue=!1,this.timeDurationUnit="Min",this.timeDuration=5,this.locationHislist=[],this.unSub_locationHistory=null,this.filterStatusList=[],this.filterDuration=0,this.startFilterTime=0,this.endFilterTime=0,this.polyLinePosList=[],this.polyLineStoppedArray=[],this.polyLineMovingArray=[],this.stoppedPolyLineArray=[],this.polyLineOverspeedArray=[],this.decodedPolyline=[],this.chkStopped=!0,this.chkOverspeed=!0,this.chkMoving=!0,this.chkDisconnected=!0,this.isfooterDateBar=!1,this.totalDistance=0,this.totalDisconnectDuration=0,this.totalStopDuration=null,this.totalMovingDuration=null,this.isDownload=!1,this.currenDate=new Date,this.myDateRangePickerOptions={dateFormat:"dd.mmm.yyyy",showClearDateRangeBtn:!1,width:"100%",showApplyBtn:!1,markCurrentDay:!0,editableDateRangeField:!1,openSelectorOnInputClick:!0,indicateInvalidDateRange:!0,disableSince:{year:this.currenDate.getFullYear(),month:this.currenDate.getMonth()+1,day:this.currenDate.getDate()+1}},this.dateRange={beginDate:{year:this.currenDate.getFullYear(),month:this.currenDate.getMonth()+1,day:this.currenDate.getDate()},endDate:{year:this.currenDate.getFullYear(),month:this.currenDate.getMonth()+1,day:this.currenDate.getDate()}},this._store.dispatch({type:"TITLE",payload:"Vehicle Timeline Report"}),this.view=document.view,console.log(this.view),this._map=new Promise(function(e){l._mapResolver=e});var c=this.localStorageService.get("VEHICLE_TIMELINE_REQUEST_OBJ");console.log(c),console.log(c),void 0!=c||null!=c?(this.selectedVehicle=c.selectedVehicle,this.setTimeFormat(c.startTime,c.endTime),this.lat=this.selectedVehicle.latitude,this.long=this.selectedVehicle.longitude,this.getLocationHistory(c)):(this.localStorageService.clearAll(),this._store.dispatch(i.i(a.c)([""]))),console.log(this.selectedVehicle),this.unSub_locationHistory=t.select("locationHistory").subscribe(function(e){if(l.locationHislist=[],l.errorMsg="",null!=e){l.isSpinner=!1,""==e.error?(l.locationHislist=JSON.parse(JSON.stringify(e.data)),console.log(l.locationHislist),l.setPolyLine(l.locationHislist)):l.errorMsg=e.errorMsg;for(var t=0,i=0,n=0,o=0,r=0;r<l.locationHislist.length;r++)"Stopped"==l.locationHislist[r].state&&(i+=l.locationHislist[r].duration,o=l.locationHislist[r].distance),l.locationHislist[r]._duration=l.msToTime(l.locationHislist[r].duration),t+=l.locationHislist[r].distance,"Moving"==l.locationHislist[r].state&&(n+=l.locationHislist[r].duration,l.locationHislist[r]._formattedDistance=l.locationHislist[r].distance+o,o=0);l.isDownload=!0,console.log(t),console.log(i),l.totalDistance=t,l.totalStopDuration=l.msToTime(i),l.totalMovingDuration=l.msToTime(n)}})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_locationHistory&&null!=this.unSub_locationHistory&&void 0!=this.unSub_locationHistory&&this.unSub_locationHistory.unsubscribe()},e.prototype.ngAfterViewChecked=function(){},e.prototype.ngOnInit=function(){var e=document.getElementById("timeline_card").getBoundingClientRect();this.startOffsetHeight=e.top,this.previousOffset=e.top},e.prototype.setTimeFormat=function(e,t){this.dateRange.beginDate={year:new Date(e).getFullYear(),month:new Date(e).getMonth()+1,day:new Date(e).getDate()},this.dateRange.endDate={year:new Date(t).getFullYear(),month:new Date(t).getMonth()+1,day:new Date(t).getDate()}},e.prototype.fullScreen=function(){if(51!=document.getElementById("timeline_card").getBoundingClientRect().top){var e=document.getElementById("map").getBoundingClientRect();this.mapHeight=-e.height+"px",this.isFullScreen=!0}},e.prototype.hideScreen=function(){var e=document.getElementById("map").getBoundingClientRect();this.mapHeight=-e.height+"px",this.isFullScreen=!1},e.prototype.getLocationHistory=function(e){this.totalDistance=0,this.totalStopDuration=null,this.totalMovingDuration=null,this.chkStopped=!0,this.chkOverspeed=!0,this.chkMoving=!0,this.chkDisconnected=!0,this.isSpinner=!0,this.locationHislist=[],this.polyLineMovingArray=[],this.polyLineStoppedArray=[],this.errorMsg="";var t={startTime:e.startTime,endTime:e.endTime,vehicleId:e.selectedVehicle.uuid,minimumTime:3e5,type:["Overspeeding","Stopped","Moving","Disconnected"]};console.log(t),this.isDownload=!1,this._services.getLocationHistory.emit(t)},e.prototype.back=function(){this._store.dispatch(i.i(a.c)(["/vtsdashboard/selectVehicleTimelineReport"]))},e.prototype.goToMapLocation=function(e){if(console.log(e),"Stopped"==e.state){console.log(this.polyLineStoppedArray);for(var t=0;t<this.polyLineStoppedArray.length;t++)this.polyLineStoppedArray[t].isInfoWindowOpen=!1,e.endPosition.latitude==this.polyLineStoppedArray[t].lat&&e.endPosition.longitude==this.polyLineStoppedArray[t].long&&(console.log(t),this.lat=e.endPosition.latitude,this.long=e.endPosition.longitude,this.polyLineStoppedArray[t].isInfoWindowOpen=!0,this.zoom=12)}},e.prototype.setPolyLine=function(e){for(var t=[],i=[],n=[],o=[],r={},s={},a=0;a<this.locationHislist.length;a++)"Stopped"!=this.locationHislist[a].state&&0!=this.locationHislist[a].state||(s={lat:this.locationHislist[a].endPosition.latitude,long:this.locationHislist[a].endPosition.longitude,address:null!=this.locationHislist[a].endPosition.address?this.locationHislist[a].endPosition.address:this.locationHislist[a].startPosition.address,isInfoWindowOpen:!1},o=MyPolylineUtil.decode(this.locationHislist[a].encodedPolyline),this.stoppedPolyLineArray.push(o),t.push(s)),"Moving"!=this.locationHislist[a].state&&1!=this.locationHislist[a].state||(n=MyPolylineUtil.decode(this.locationHislist[a].encodedPolyline),this.polyLineMovingArray.push(n)),"Overspeeding"!=this.locationHislist[a].state&&2!=this.locationHislist[a].state||(r={lat:this.locationHislist[a].startPosition.latitude,long:this.locationHislist[a].startPosition.longitude},i.push(r),s={lat:this.locationHislist[a].endPosition.latitude,long:this.locationHislist[a].endPosition.longitude},i.push(s)),this.lat=this.locationHislist[a].endPosition.latitude,this.long=this.locationHislist[a].endPosition.longitude,this.polyLineStoppedArray=t,this.polyLineOverspeedArray=i;console.log(r),console.log(r)},e.prototype.setValues=function(e){console.log(e)},e.prototype.onDateRangeChanged=function(e){if(console.log(e.beginEpoc),this.errorMsg="",null==e.beginEpoc||0==e.beginEpoc||null==e.endEpoc||0==e.endEpoc)return console.log("Please select Date"),void this.openSnackBar("dates should not be blank");if(e.endEpoc+86400-1-e.beginEpoc>86400*u.c.MAX_RANGE_DAYS)return void(this.errorMsg="you can select max  15 day range");var t={startTime:1e3*e.beginEpoc,endTime:1e3*(e.endEpoc+86400-1)};this.setTimeFormat(t.startTime,t.endTime);var i={startTime:t.startTime,endTime:t.endTime,selectedVehicle:this.selectedVehicle};this.localStorageService.set("VEHICLE_TIMELINE_REQUEST_OBJ",i),this.getLocationHistory(i),console.log(i),console.log(this.dateRange)},e.prototype.getNativeMap=function(){return this._map},e.prototype.download=function(){this._angularitics.eventTrack("Download_Report_Clicked",{category:"DashboardMaps"}),console.log(this.selectedVehicle),console.log(this.locationHislist);var e=JSON.parse(JSON.stringify(this.locationHislist)).reverse();console.log(e);var t=null,i=null;e.length>0&&(t=null!=e[0].startPosition.address?e[0].startPosition.address:null!=e[0].endPosition.address?e[0].endPosition.address:e[0].mean.address,i=null!=e[e.length-1].endPosition.address?e[e.length-1].endPosition.address:null!=e[e.length-1].startPosition.address?e[e.length-1].startPosition.address:e[e.length-1].mean.address);var n,o,r=[{"Vehicle Number":this.selectedVehicle.vehicleRegistrationNumber,"Start Time":this.dateRange.beginDate.day+" "+this.getMonthName(this.dateRange.beginDate.month)+" "+this.dateRange.beginDate.year,"Start Location":t,"End Time":this.dateRange.endDate.day+" "+this.getMonthName(this.dateRange.endDate.month)+" "+this.dateRange.endDate.year,"End Location":i,Distance:(this.totalDistance/1e3).toFixed(2)+" km","Drive Time":this.totalMovingDuration,"Stop Time":this.totalStopDuration,"Disconnect Time":0},{"Vehicle Number":"Details","Start Time":"","Start Location":"","End Time":"","End Location":"",Distance:"","Drive Time":"","Stop Time":"","Disconnect Time":""}],s=" ",a=" ",l=0,c=0,d=0,p=0,u=!1;console.log("done");for(var h=0;h<e.length;h++){if(0==u&&(s=null!=e[h].startPosition.address?e[h].startPosition.address:null!=e[h].endPosition.address?e[h].endPosition.address:e[h].mean.address,n=new Date(Number(e[h].startTime)),u=!0),"Moving"==e[h].state&&(l+=e[h].duration,d+=e[h]._formattedDistance),"Disconnected"==e[h].state&&(p+=e[h].duration,this.totalDisconnectDuration=this.totalDisconnectDuration+e[h].duration),"Stopped"==e[h].state){c=e[h].duration,a=null!=e[h].endPosition.address?e[h].endPosition.address:null!=e[h].startPosition.address?e[h].startPosition.address:e[h].mean.address,o=new Date(Number(e[h].endTime)),console.log(this.to12HourFormat(n)),console.log(n);var g={"Vehicle Number":" ","Start Time":n.getDate()+" "+this.getMonthName(n.getMonth())+" "+n.getFullYear()+" "+this.to12HourFormat(n),"Start Location":s,"End Time":o.getDate()+" "+this.getMonthName(o.getMonth())+" "+o.getFullYear()+" "+this.to12HourFormat(o),"End Location":a,Distance:(d/1e3).toFixed(2)+" km","Drive Time":this.msToTime(l),"Stop Time":this.msToTime(c),"Disconnect Time":this.msToTime(p)};r.push(g),s=" ",a=" ",l=0,c=0,d=0,p=0,u=!1}if(h==e.length-1&&"Stopped"!=e[e.length-1].state){a=null!=e[h].endPosition.address?e[h].endPosition.address:null!=e[h].startPosition.address?e[h].startPosition.address:e[h].mean.address,o=new Date(Number(e[h].endTime));var g={"Vehicle Number":" ","Start Time":n.getDate()+" "+this.getMonthName(n.getMonth())+" "+n.getFullYear(),"Start Location":s,"End Time":o.getDate()+" "+this.getMonthName(o.getMonth())+" "+o.getFullYear(),"End Location":a,Distance:(d/1e3).toFixed(2)+" km","Drive Time":this.msToTime(l),"Stop Time":this.msToTime(c),"Disconnect Time":this.msToTime(p)};r.push(g)}}r[0]["Disconnect Time"]=this.msToTime(this.totalDisconnectDuration),console.log(r);var f=this.ConvertToCSV(r),v=document.createElement("a");v.setAttribute("style","display:none;"),document.body.appendChild(v);var m=new Blob([f],{type:"text/csv"}),y=window.URL.createObjectURL(m);v.href=y,v.download="vehicle_report.csv",v.click()},e.prototype.to12HourFormat=function(e){return(e.getHours()+11)%12+1+":"+e.getMinutes()+" "+(e.getHours()>=12?"PM":"AM")},e.prototype.ConvertToCSV=function(e){var t=e,i="",n="";for(var o in e[0])n+=o+",";n=n.slice(0,-1),i+=n+"\r\n";for(var r=0;r<t.length;r++){var s="";for(var o in t[r])""!=s&&(s+=","),s+=JSON.stringify(t[r][o]);i+=s+"\r\n"}return i},e.prototype.getMonthName=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(e)]},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+" d "),o>0&&(s=s+o+" hr "),r>=1?s:n>0?s=s+n+" min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e}();h([i.i(n.ViewChild)(d.c),g("design:type",Object)],f.prototype,"agmMap",void 0),f=h([i.i(n.Component)({selector:"app-vehicle-timeline-report",template:i("X1G1"),styles:[i("gXhj")]}),g("design:paramtypes",["function"==typeof(v=void 0!==p.A&&p.A)&&v||Object,"function"==typeof(m=void 0!==r.b&&r.b)&&m||Object,"function"==typeof(y=void 0!==o.b&&o.b)&&y||Object,"function"==typeof(x=void 0!==s.a&&s.a)&&x||Object,"function"==typeof(b=void 0!==l.LocalStorageService&&l.LocalStorageService)&&b||Object,"function"==typeof(T=void 0!==c.a&&c.a)&&T||Object])],f);var v,m,y,x,b,T},queZ:function(e,t){e.exports='<md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n<div style="padding: 8px;overflow:auto;height: calc(100vh - 50px);">\r\n  \x3c!--   *************  add new vehicle box **************** --\x3e\r\n  <div *ngIf="isAddVehicleDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isAddVehicleDialog=false;" >&times;</span>\r\n        <label>{{\'Select Vehicle\' | translate }}</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="height: 250px;overflow: auto;padding-bottom: 3px;" >\r\n          <div *ngFor="let vehicle of vehicleList | vehicleFilter: [\'vehicleRegistrationNumber\', search]" >\r\n            <md-card  style="margin-top: 2px;cursor: pointer;padding:16px;display: flex;" class="vehicle-hover"\r\n                      (click)="vehicle.select=!vehicle.select;chackValid()" >\r\n              <div style="min-width: 40px">\r\n               <span *ngIf="vehicle.select" class="select-vehicle"\r\n                     style="background-color: deepskyblue;">\r\n                 <i class="fa fa-check" aria-hidden="true"></i>\r\n               </span>\r\n                <span *ngIf="!vehicle.select" class="select-vehicle"\r\n                      style="background-color: grey;">\r\n                 <i class="fa fa-slack" aria-hidden="true"></i>\r\n               </span>\r\n              </div>\r\n              <span style="margin-left: 18px;font-size: 16px;">{{vehicle.vehicleRegistrationNumber}}</span>\r\n            </md-card>\r\n          </div>\r\n        </div>\r\n\r\n        <div style="padding: 5px;margin-top:5px;text-align: right">\r\n          <md-input-container  >\r\n            <input mdTooltip="{{\'Search\'|translate }}" mdInput  placeholder="{{\'Search\'|translate }}" [(ngModel)]="search" >\r\n          </md-input-container>\r\n\r\n          <button md-raised-button [disabled]="isDisabled" style="width:47px;line-height: 27px;" (click)="AddVehicle();isAddVehicleDialog=false;">{{\'OK\' | translate }}</button>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--Add new vehicle dialog ends here--\x3e\r\n\r\n  <md-card>\r\n    <div fxLayout="row">\r\n      <span style="padding-top: 11px;padding-right: 4px;">{{\'Date:\' | translate }}</span>\r\n      <input placeholder="{{\'Start Date\' | translate }}" [autoClose] = "false" style="min-width: 50px;" [ngModel]="fromDate | date: \'dd/MM/yyyy,hh:mm a\'" [(dateTimePicker)]="fromDate" [pickerType]="\'both\'"\r\n             [hourTime]="\'12\'" readonly />\r\n\r\n      <span style="font-size: 17px;padding: 5px;">-</span>\r\n      <input placeholder="{{\'End Date\' | translate }}" [autoClose] = "false" style="min-width: 50px;" [ngModel]="toDate | date:\'dd/MM/yyyy,hh:mm a\'" [(dateTimePicker)]="toDate" [pickerType]="\'both\'"\r\n             [hourTime]="\'12\'" readonly />\r\n    </div>\r\n\r\n    <div fxLayout="row" style="padding-top: 15px;margin-bottom: 7px;">\r\n      <span>{{\'Vehicle\' | translate }}:</span>\r\n      <ul class="vehicle-list">\r\n        <li *ngFor="let veh of selectedVehicles;let ind=index" >\r\n          {{veh.vehicleRegistrationNumber}}\r\n          <span  class="remove-vehicle" (click)="unselectVehicle(ind)" >&times;</span>\r\n        </li>\r\n      </ul>\r\n      <div style="margin-left: auto;">\r\n        <button md-raised-button style="width:47px;line-height: 27px;" (click)="openAddVehicleDialog()">Add</button>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n\r\n  <md-card style="margin-top: 0px">\r\n    <div  style="padding: 5px;text-align: right" class="share-download">\r\n      <i class="fa fa-share-alt" aria-hidden="true" mdTooltip="Share"></i>\r\n      <i class="fa fa-download" aria-hidden="true"  mdTooltip="{{\'Download pdf\' | translate }}">\r\n        <span>P</span>\r\n      </i>\r\n      <i class="fa fa-download" aria-hidden="true"  mdTooltip="{{\'Download XL\' | translate }}">\r\n        <span>X</span>\r\n      </i>\r\n    </div>\r\n\r\n    <div fxLayout="row" style="padding-top: 8px">\r\n      <div fxFlex style="margin-top: 8px;font-size: 17px">\r\n        <span>{{vehicleDetails.length}} {{\'Records\' |translate }}</span>\r\n      </div>\r\n      <div fxFlex style="display: grid;text-align: right;color: #616161;font-size:12px;">\r\n        <span *ngIf="allVehicleTravelDistance != 0.00 ">{{allVehicleTravelDistance | number : \'1.1-2\'}} km</span>\r\n        <span>{{allVehOverspeedDuration}}</span>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n\r\n  <hr style="border-style:ridge;border-width:1px;margin-top: 5px">\r\n\r\n  <md-card *ngFor="let vehicleDetail of vehicleDetails;let ind=index" style=" min-height: 151px;">\r\n    <div fxLayout="row">\r\n      <img class="img-container" src="../../../../images/lorry.png" alt="image"  >\r\n      <div fxFlex style="font-size: 17px;margin-left: 5px">\r\n        <span>{{vehicleDetail[\'vehicleRegistrationNumber\']}}</span>\r\n        <span style="color: #403030;font-size: 12px;"> ({{vehicleDetail[\'vehicleType\']}})</span>\r\n      </div>\r\n      \x3c!--<div fxFlex style="display: grid;text-align: right;color: #757575;font-size:12px;">--\x3e\r\n      \x3c!--<span>(5 kms)</span>--\x3e\r\n      \x3c!--<span>18 min</span>--\x3e\r\n      \x3c!--</div>--\x3e\r\n    </div>\r\n    <div *ngIf="vehicleDetail[\'details\'].length == 0" style="font-size: 20px;text-align: center;opacity: .5;padding-top: 25px;transform: rotate(-30deg);">\r\n      <span>{{\'No Record\' | translate }}</span>\r\n    </div>\r\n    <div *ngFor="let detail of vehicleDetail[\'details\']">\r\n      <div style="text-align: right;color: #757575;font-size:12px;margin-top:-21px;display:grid;">\r\n        <span>{{detail[\'vehTravelDistance\'] | number : \'1.1-2\'}} km</span>\r\n        <span>{{detail[\'_vehOverspeedDuration\']}}</span>\r\n      </div>\r\n      <div  style="display: inline-flex;width: 100%;margin-top: 30px;margin-bottom: 20px">\r\n        <div>\r\n          <button  md-button [disabled]=vehicleDetail.isScrollLeftDisable [style.color]="vehicleDetail.isScrollLeftDisable==false?\'steelblue\':\'grey\'"\r\n                   (click)="scrollLeft(ind)"\r\n                   style="margin-top: 32px;background: none;border: none;outline: none;">\r\n            <i class="fa fa-chevron-left" aria-hidden="true" style="font-size: 22px;cursor: pointer" ></i>\r\n          </button>\r\n        </div>\r\n        <ul id="timeline_{{ind}}" style="list-style: none;margin: 0px 10px 0px 10px;width: 95%;position: relative;padding-left: 0px;overflow-x: auto"\r\n            fxLayout="row">\r\n          <li *ngFor="let value of detail[\'value\']"  style="text-align:center;" fxFlex >\r\n            <div style="display:grid;color:#707070;font-size:11px;margin-bottom:25px;">\r\n              <span>{{value[\'time\'] | date: \'dd/MM/yyyy ,hh:mm\'}}</span>\r\n              <span>{{value[\'overspeedDuration\']}}</span>\r\n            </div>\r\n            <hr style="border-style:outset;border-width:1px;margin-top: 5px;;min-width:150px">\r\n            <div style="display:grid;color:#707070;">\r\n              <span><span class="timeline-icon">{{value[\'averageSpeed\'] | number : \'1.2-2\'}} km/h</span></span>\r\n              <span (click)="value.isMore=true" [style.white-space]="value.isMore?\'normal\':\'nowrap\'"\r\n                    style="overflow:hidden;margin-top: 9px;padding: 11px;cursor: pointer">{{value[\'formattedSourceAddress\']?.formatted_address }}\r\n              </span>\r\n              <span *ngIf="!value.isMore " (click)="value.isMore=true" style="margin-top: -6px">\r\n                  <i style="cursor: pointer" class="fa fa-ellipsis-h" aria-hidden="true"></i>\r\n              </span>\r\n            </div>\r\n          </li>\r\n\r\n        </ul>\r\n        <div>\r\n          <button md-button  [disabled]=vehicleDetail.isScrollRightDisable [style.color]="vehicleDetail.isScrollRightDisable==false?\'steelblue\':\'grey\'"\r\n                  style="background: none;border: none;outline: none;margin-top: 32px;" (click)="scrollRight(ind)">\r\n            <i class="fa fa-chevron-right" aria-hidden="true" style="font-size: 22px;cursor:pointer" ></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n  </md-card>\r\n\r\n  <div style="height: 55px;">\r\n\r\n  </div>\r\n\r\n  <button md-fab class="md-fab-bottom-right" style="position: absolute;right: 10px;bottom: 10px;" (click)="showOSFilterDialogue=true" >\r\n    <i style="font-size: 24px; color:white; " class="fa fa-filter" aria-hidden="true" ></i>\r\n  </button>\r\n\r\n  \x3c!--filter dialogue starts here--\x3e\r\n\r\n  <div *ngIf="showOSFilterDialogue"   class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="showOSFilterDialogue=false;" >&times;</span>\r\n        <label>Filter Report</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="min-height: 100px;max-height: 500px;overflow: auto;padding-bottom: 3px;" >\r\n          <div>\r\n            <md-card  style="margin-top: 2px;padding-bottom: 65px; cursor: pointer;display: flex;" class="vehicle-hover"\r\n            >\r\n\r\n              <div style="min-width: 40px">\r\n  <span>\r\n  <h3 style="margin-bottom: 0px">BY TIME:</h3>\r\n  <md-input-container style="width: 50%;top: 7px;" >\r\n  <input type="number" min="0" mdInput pattern="[0-9]" placeholder="{{\'Time Duration\' | translate }}" onkeydown="if(event.target.value.length>=2 && event.keyCode!=8 && event.keyCode!=13 )return false;" onkeyup="if(event.target.value>59)return timeDurationOSUnit=\'Hrs\';" required [(ngModel)]="timeDurationOS">\r\n  </md-input-container>\r\n  <md-select style="width: 40%;right: 5px"[(ngModel)]="timeDurationOSUnit">\r\n  <md-option value="Min">Min</md-option>\r\n  <md-option value="Hrs">Hrs</md-option>\r\n  </md-select>\r\n  </span>\r\n\r\n                <button md-button style="position:absolute;right: 65px;background-color:white;margin-right: 37px;bottom: 5px; color: #1E88E5" (click)="showOSFilterDialogue=false"><span>CANCEL</span></button>\r\n                <button md-button style="position:absolute;right: 25px;background-color:white;bottom: 5px; color: #1E88E5" (click)="filterOverspeedReport()" ><span>APPLY</span></button>\r\n\r\n\r\n              </div>\r\n              <div>\r\n\r\n              </div>\r\n            </md-card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  \x3c!--filter dialogue ends here--\x3e\r\n</div>\r\n'},"r+hm":function(e,t){e.exports='\x3c!--<div style="padding: 8px 4px;box-shadow: 0px 4px 17px darkgrey;" angulartics2On="load" angularticsEvent="vehicleListView" >--\x3e\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n  \x3c!--<hr style="border-style:ridge;border-width:1px;margin-top: 6px;min-width: 250px">--\x3e\r\n  <span style="color:red" >{{errorMsg}}</span>\r\n\x3c!--<div style="overflow:auto;height: calc(100vh - 205px);">    &lt;!&ndash;change the value of calc here&ndash;&gt;--\x3e\r\n<div style="overflow:auto;" [style.height]="view==\'web\'? \'calc(100vh - 205px)\':\'calc(100vh - 96px)\'">    \x3c!--change the value of calc here--\x3e\r\n\r\n  <md-card style="display: flex;cursor: pointer" *ngFor="let vehicle of vehicleList | vehicleFilter: [\'vehicleRegistrationNumber\', search] | vehicleFilterByStatus: [\'state\', status]"\r\n           (click)="goToLoactionHisView(vehicle);selectedVeh=vehicle.vehicleRegistrationNumber"\r\n           [style.background-color]="selectedVeh == vehicle.vehicleRegistrationNumber?\'#8b98ad\':\'\'" >\r\n    <div >\r\n      <img *ngIf="vehicle[\'state\']==\'Disconnected\' || vehicle[\'state\']==\'Suspended\'" src="../../../../images/dashboardIcons/Disconnect-72.png" alt="image"  >\r\n      <img *ngIf="vehicle[\'state\']==\'Moving\'" src="../../../../images/dashboardIcons/vehMov72.png" alt="image"  >\r\n      <img *ngIf="vehicle[\'state\']==\'Stopped\'" src="../../../../images/dashboardIcons/vehStop72.png" alt="image"  >\r\n    </div>\r\n    <div style="width:calc(100% - 70px);">\r\n      <div style="margin-left: 9px;" fxLayout="row" >\r\n        <label style="font-size: large; font-weight: bold">{{vehicle.vehicleRegistrationNumber}}</label>\r\n        <span *ngIf="vehicle[\'state\']==\'Moving\'" style="margin-left: auto" class="sub-header-text" >{{vehicle.speed | number:\'1.1-1\'}} km/h</span>\r\n      </div>\r\n      <div style="margin-top: 1px;margin-left: 10px;" fxLayout="row">\r\n        <div style="overflow: hidden;text-overflow: ellipsis;"  (click)="vehicle.isMore =true">\r\n          <label style="font-size: small " [style.white-space]="vehicle.isMore?\'normal\':\'normal\'" >{{vehicle.address}}</label>\r\n          \x3c!--<span *ngIf="aa.scrollWidth < bb.scrollWidth && !vehicle.isMore ">--\x3e\r\n          \x3c!--<i  class="fa fa-ellipsis-h" aria-hidden="true"></i>--\x3e\r\n        \x3c!--</span>--\x3e\r\n        </div>\r\n        <div style="text-align: right;margin-left: auto;padding-left: 5px;" >\r\n          <label style="font-size: small; font-weight: bold">{{vehicle[\'state\']}}</label><br>\r\n          <label class="fade-sub-header-text" style="font-size: 11px;white-space: nowrap" >Since {{vehicle[\'_duration\']}}</label>\r\n        </div>\r\n      </div>\r\n      <div fxLayout="row">\r\n        <div fxFlex="100">\r\n          <div *ngFor="let confAlerts of configAlertsList">\r\n            <div  *ngFor="let alertVehicle of confAlerts[\'alert\'][\'vehicles\']">\r\n            <div *ngIf="vehicle[\'uuid\']== alertVehicle">\r\n        <label *ngIf="confAlerts?.eventTopic == \'vehiclegpsstatetopic\'" style="font-size: x-small; color: darkorange; float: right">\r\n          <i class="fa fa-circle" aria-hidden="true"></i>\r\n        </label>\r\n\r\n          <label *ngIf="confAlerts?.eventTopic == \'hourMovTopic\'" style="font-size: x-small; color: blue; float: right">\r\n            <i class="fa fa-circle" aria-hidden="true"></i>\r\n          </label>\r\n\r\n          <label *ngIf="confAlerts?.eventTopic == \'deviceEvent\'" style="font-size: x-small    ; color: red; float: right">\r\n            <i class="fa fa-circle" aria-hidden="true"></i>\r\n          </label>\r\n          </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n  <div style="height:55px"></div>\r\n</div>\r\n\r\n\r\n\x3c!--</div>--\x3e\r\n'},s0Fm:function(e,t){e.exports='<div class="container" style="min-width: 700px;box-sizing: border-box;">\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n  <div style="display:flex;padding:20px 5px 10px 12px;" >\r\n    <md-card class="cards-toggle" (click)="filterVehicleStatus(\'\')" [style.background-color]="status == \'\'?\'#1976d2\':\'\'"  [style.color]="status == \'\'?\'#FFFFFF\':\'\'">\r\n      <div ><span >{{vehicleCount.all}}</span></div>\r\n      <div style="margin-top: 6px;" ><span><b>All</b></span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="filterVehicleStatus(\'Moving\')" [style.background-color]="status == \'Moving\'?\'#1976d2\':\'\'"  [style.color]="status == \'Moving\'?\'#FFFFFF\':\'\'" >\r\n      <div  ><span >{{vehicleCount.moving}}</span></div>\r\n      <div style="margin-top: 6px;" ><span><b>Moving</b></span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="filterVehicleStatus(\'Stopped\')" [style.background-color]="status == \'Stopped\'?\'#1976d2\':\'\'"  [style.color]="status == \'Stopped\'?\'#FFFFFF\':\'\'" >\r\n      <div  ><span >{{vehicleCount.stopped}}</span></div>\r\n      <div  style="margin-top: 6px;"><span><b>Stopped</b></span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="filterVehicleStatus(\'Disconnected\')" [style.background-color]="status == \'Disconnected\'?\'#1976d2\':\'\'"  [style.color]="status == \'Disconnected\'?\'#FFFFFF\':\'\'" >\r\n      <div  ><span >{{vehicleCount.disconnected}}</span></div>\r\n      <div style="margin-top: 6px;" ><span><b>Disconnected</b></span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="filterVehicleStatus(\'Suspended\')" [style.background-color]="status == \'Suspended\'?\'#1976d2\':\'\'"  [style.color]="status == \'Suspended\'?\'#FFFFFF\':\'\'" >\r\n      <div ><span >{{vehicleCount.suspended}}</span></div>\r\n      <div style="margin-top: 6px;" >\r\n        <span><b>Suspended</b></span>\r\n      </div>\r\n    </md-card>\r\n\r\n    \x3c!--<div style="display: flex;margin-left: auto;margin-right: 45px;" >--\x3e\r\n\r\n    \x3c!--</div>--\x3e\r\n    <div style="display: flex;padding: 5px 5px;margin-top:auto" >\r\n      <div class="custome-button" style="display: inline-flex;margin-left: auto;" >\r\n        <div style="position:relative;margin-top: -1px;" >\r\n          <i  class="fa fa-search "  aria-hidden="true" style="margin-top: 5px;right: -10px;position: absolute;font-size: 13px;color: black;"></i>\r\n          <input myAutofocus  [(ngModel)]="search" class="expand-search"  placeholder="Search" (keyup)="searchVehicle()">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <hr>\r\n</div>\r\n\r\n<div fxLayout="row" class="vehicle-details-maps-container">\r\n<div fxFlex="30" style="background-color: #e1e6ef; margin-left: 10px;height: calc(100vh - 190px);padding-left: 1%; padding-right: 1%; padding-bottom: 0px">\r\n  <app-vehicle-list></app-vehicle-list>\r\n</div>\r\n\r\n  \x3c!--mapview div starts here--\x3e\r\n<div *ngIf="!isShowLocationHistory" fxFlex="67" style="padding-left: 10px;height: calc(100vh - 190px);">\r\n  \x3c!--<span style="padding-top: 20%">--\x3e\r\n    <app-maps></app-maps>\r\n  \x3c!--</span>--\x3e\r\n</div>\r\n  \x3c!--map view div ends here--\x3e\r\n\r\n  \x3c!--location history view div starts here--\x3e\r\n<div *ngIf="isShowLocationHistory" fxFlex="68" style="background-color: #e1e6ef;height: calc(100vh - 190px);" >\r\n  <span class="close-timeline" mdTooltip="{{\'close Timeline\' | translate }}"  (click)="showMapView()" ><i class="fa fa-times-circle-o" aria-hidden="true"></i></span>\r\n<div  style="padding-left: 10px;margin-top: 1px" >\r\n  \x3c!--<span style="padding-top: 20%">--\x3e\r\n    <app-location-history></app-location-history>\r\n  \x3c!--</span>--\x3e\r\n</div>\r\n\r\n</div>\r\n  \x3c!--location history view in this div--\x3e\r\n\r\n\r\n</div>\r\n'},sRtd:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".stepperIcon{position:relative;border-radius:50%;padding:11px;color:#fff;background-color:#3f51b5;font-size:13px;height:0}.custom-date-picker>>>div.picker-popup{height:77%!important}.customeSelect>>>.mat-select-value-text{font-size:13px!important;color:#858585!important}.customSelectDateNo>>>.mat-select-trigger{min-width:50px}.day-list div md-card{padding:6px 7px;font-size:13px;width:10px}.add-email-button{border-radius:20px;width:50px;height:25px;font-size:12px;padding:0;line-height:12px;background-color:#b1b1b1}",""]),e.exports=e.exports.toString()},siAS:function(e,t){e.exports='<md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n<div class ="edited-datepicker"  style="padding: 8px;overflow:auto;height: calc(100vh - 50px);">\r\n  <div *ngIf="view ==\'web\'" style="padding: 10px;color: #959595;font-weight: bold;" >\r\n    <span>Vehicle Timeline Report</span>\r\n  </div>\r\n  \x3c!--   *************  add new vehicle dialog box **************** --\x3e\r\n  <div *ngIf="isAddVehicleDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isAddVehicleDialog=false;" >&times;</span>\r\n        <label>{{\'Select Vehicle\' | translate }}</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="margin-bottom: -10px;" >\r\n          <md-input-container style="width: 100%;" >\r\n            <input mdTooltip="{{\'Search\' | translate }}" mdInput  placeholder="{{\'Search\' | translate }}" [(ngModel)]="search" >\r\n          </md-input-container>\r\n        </div>\r\n\r\n        <div style="min-height: 100px;max-height: 250px;overflow: auto;padding-bottom: 3px;" >\r\n          <div *ngFor="let vehicle of vehicleList | vehicleFilter: [\'vehicleRegistrationNumber\', search]" >\r\n            <md-card  style="margin-top: 2px;cursor: pointer;padding:16px;display: flex;" class="vehicle-hover"\r\n                      (click)="selectVehicle(vehicle)" >\r\n              <i  style="font-size: 22px;color: darkcyan;" class="fa fa-truck" aria-hidden="true"></i>\r\n              <span style="margin-left: 18px;font-size: 16px;">{{vehicle.vehicleRegistrationNumber}}</span>\r\n              <span style="margin-left: 10px;color: #9E9E9E;font-size: 12px;margin-top: auto;" >{{vehicle.vehicleType}}</span>\r\n            </md-card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--Add new vehicle dialog box ends here--\x3e\r\n\r\n  <md-card style="max-width: 500px">\r\n    <my-date-range-picker  name="myDate" [options]="myDateRangePickerOptions" (dateRangeChanged)="onDateRangeChanged($event)"\r\n                         placeholder="{{\'Select Start and End date\' | translate }}"  required></my-date-range-picker>\r\n\r\n    <div fxLayout="row" style="padding-top: 20px;margin-bottom: 7px;">\r\n      <md-input-container style="width: 100%;margin-right: 11px;font-size:18px;max-width: 300px;color: #757575" >\r\n        <input readonly (click)="isAddVehicleDialog=true;" [ngModel] ="vehicleNo | translate"  mdTooltip="{{\'This field is required\' | translate }}"  mdInput  id="vehicleNo" required>\r\n      </md-input-container>\r\n      <div style="margin-left: auto;margin-top: 8px;">\r\n        <button id="go" md-raised-button style="width:47px;line-height: 27px;margin-top:6px;" (click)="AddVehicle()" >{{\'Go\' | translate}}</button>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n\r\n  <div style="height:50px"></div>\r\n</div>\r\n'},srgl:function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100">\r\n<div class="main-container" style="padding-bottom:10px;height: calc(100vh - 61px)" >\r\n\x3c!--&lt;!&ndash;   *************  choose location box **************** &ndash;&gt;--\x3e\r\n\x3c!--<div *ngIf="isShowLocationDialog"   class="mycustomDialog" style="padding-top: 70px;">--\x3e\r\n    \x3c!--<div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;max-height: 450px;min-height: 329px;">--\x3e\r\n\r\n    \x3c!--<div class="modal-header">--\x3e\r\n      \x3c!--<span class="close" (click)="isShowLocationDialog=false;" >&times;</span>--\x3e\r\n      \x3c!--<label style="color: white; font-weight: bold">{{\'Select Location\' | translate }}</label>--\x3e\r\n    \x3c!--</div>--\x3e\r\n    \x3c!--<app-freight-location-picker  (onLocationPick)=\'setLocation($event)\'></app-freight-location-picker>--\x3e\r\n    \x3c!--</div>--\x3e\r\n  \x3c!--</div>--\x3e\r\n \x3c!--&lt;!&ndash;choose location dialog ends here&ndash;&gt;--\x3e\r\n  <div class="trip-container">\r\n      \x3c!--<div style="padding: 6px 6px;margin-top: 0px;">--\x3e\r\n          \x3c!--<md-input-container style="width: 100%;" >--\x3e\r\n            \x3c!--<input  placeholder="Trip Origin" name="tripOrigin" id="tripOrigin" (focus)="setLocationType(\'origin\');" --\x3e\r\n                   \x3c!--onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;" required>--\x3e\r\n          \x3c!--</md-input-container>--\x3e\r\n        \x3c!--</div>--\x3e\r\n\r\n    <div>\r\n      <app-freight-location-picker [pickerLocationType]="typeOfLocationCreator" (onLocationPick)=\'setOriginLocation($event)\'></app-freight-location-picker>\r\n    </div>\r\n\r\n        \x3c!--<div style="padding: 6px 6px;margin-top: -13px;">--\x3e\r\n            \x3c!--<md-input-container style="width: 100%;" >--\x3e\r\n              \x3c!--<input  placeholder="Trip Destination" (focus)="setLocationType(\'destination\');" (keyup)="searchString()"   mdInput [ngModel]="destinationName" name="tripDestination" id="tripDestination"--\x3e\r\n                     \x3c!--onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;" required>--\x3e\r\n            \x3c!--</md-input-container>--\x3e\r\n          \x3c!--</div>--\x3e\r\n\r\n    <div>\r\n      <app-freight-location-picker [pickerLocationType]="typeOfLocationCreator" (onLocationPick)=\'setDestinationLocation($event)\'></app-freight-location-picker>\r\n    </div>\r\n\r\n\r\n      <div style="width: 100%">\r\n        <md-input-container style="width: 100%" >\r\n        <input type="number" placeholder="Transit Days"  mdInput [(ngModel)]="transitDays" required>\r\n        </md-input-container>\r\n      </div>\r\n    <div style="width: 100%">\r\n      <md-input-container style="width: 100%" >\r\n        <input type="number" placeholder="Distance in km"  mdInput [(ngModel)]="distance">\r\n      </md-input-container>\r\n    </div>\r\n\r\n\r\n      <div style="width: 100%">\r\n        <md-input-container style="width: 100%" >\r\n          <input placeholder="Material"  mdInput [(ngModel)]="material" required>\r\n        </md-input-container>\r\n      </div>\r\n\r\n      <div style="width: 100%">\r\n        <md-input-container style="width: 100%" >\r\n          <input type="number" placeholder="Quantity"  mdInput [(ngModel)]="quantity" >\r\n        </md-input-container>\r\n      </div>\r\n\r\n    <div style="margin-top:0px;text-align:right;" >\r\n      <button md-raised-button  (click)="cancelAddTrip()" style="margin-right: 15px">{{\'Cancel\' | translate}}</button>\r\n      <button md-raised-button [disabled]="isClicked" (click)="addTemplateData()"  >{{\'Save\' | translate}}</button>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n</div>\r\n'},t9Y4:function(e,t){e.exports='<div class="main">\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\n  <md-card >\n    <form (ngSubmit)="login()" #otpForm="ngForm">\n      <div class="imgcontainer">\n        <img style="padding: 5px;background-color: darkgray; width: 60%;" src="../../../../images/fretron_logo.png" alt="Avatar"  >\n      </div>\n      <div class="label-quote">\n        <label>{{\'(Enter OTP Below)\' | translate }}</label>\n      </div>\n      <div fcLayout="row">\n        <div fxFlex="85%" style="text-align: center">\n          <span style="color: #808080;font-size: 12px" id="e2e_mobNo">{{mobNo}}</span>\n        <md-input-container  >\n          <input autocomplete="off"  mdTooltip="{{\'This field is required\' | translate }}" mdInput [(ngModel)]="OTP"  placeholder="{{\'Enter OTP\' | translate }}" name="OTP" required>\n        </md-input-container>\n        </div>\n        <div fxFlex="14%" style="margin-top: 20px;">\n        <button *ngIf="mobNo != null" type="reset"  class="resend-otp-button"  mdTooltip="{{\'Resend OTP\' | translate }}" (click)="resendOTP()"  md-raised-button  >\n          <i class="fa fa-rotate-right" aria-hidden="true"></i>\n        </button>\n        </div>\n      </div>\n      <div style="text-align: center;padding: 15px;">\n        \x3c!--<button mdTooltip="Register here"  style="margin-top: 20px;width: 100%;" md-raised-button  (click)="login()">LOGIN</button>--\x3e\n        <button id="login" type="submit" mdTooltip="{{\'Click here to Login\' | translate }}"  md-raised-button  [disabled]="!otpForm.form.valid">\n          {{\'Login\' | translate }}\n        </button>\n      </div>\n    </form>\n  </md-card>\n</div>\n<div class="footer-text">\n  \x3c!--<a href="#">{{\'Help\' | translate }}</a>--\x3e\n</div>\n'},tDHq:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"SIGNUP-TOKEN-VALIDATION":return a.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"SIGNUP_OTP_GENERATION":return a.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"SIGNUP_NEW_USER":return a.addAction(t),t.payload;default:return e}}var s=i("H8ZI");t.a=n,t.b=o,t.c=r;var a=new s.a},"tMY/":function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("OMJi"),a=(i.n(s),i("0Xiv")),l=i("CihD"),c=i("Ths4"),d=(i.n(c),i("MbBB"));i.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,i,o,r){var s=this;this._store=e,this.templateServices=t,this.tripServices=i,this.localStorageService=o,this.eta_distance=r,this.isClicked=!1,this.originObj=null,this.originName="",this.originAddress="",this.destinObj=null,this.destinationName="",this.destinationAddress="",this.etaDistanceData=[],this.transitDays=0,this.distance=null,this.material=null,this.quantity=null,this.locationNameList=[],this.showAddressList=!1,this.showDestAddressList=!1,this.waitForLastResp=!1,this.unSub_freightLocation=null,this.isAddVehicleDialog=!1,this.isShowLocationDialog=!1,this.unSub_etaDistance=null,this.unSub_searchName=null,this.unSub_detailsAddTripTemplate=null,this.unSub_sourceAddress=null,this.unSub_destinationAddress=null,this.unSub_templateDetails=null,this.selectedTemplateLoc=new n.EventEmitter,this.typeOfLocationCreator={type:"Polygon"},this.orgId=this.localStorageService.get("ORGID"),this._store.dispatch({type:"TITLE",payload:"Edit Trip Template"}),this.templateDetail=this.localStorageService.get("TRIP-TEMPLATE-DETAIL-OBJ"),null!=this.templateDetail&&(this.originObj=this.templateDetail.origin,this.destinObj=this.templateDetail.destination,null!==this.originObj&&(this.originName=this.originObj.name),null!==this.destinObj&&(this.destinationName=this.destinObj.name),this.transitDays=this.templateDetail.transitDays,this.quantity=this.templateDetail.quantity,this.distance=this.templateDetail.distance,this.material=this.templateDetail.material,this.templateId=this.templateDetail.uuid,console.log(this.distance),setTimeout(function(){s.selectedTemplateLoc.emit({source:s.originObj.name,destination:s.destinObj.name})},500)),this.unSub_etaDistance=this._store.select("etaDistanceStore").subscribe(function(e){null!=e&&(console.log(e.value),s.etaDistanceData=e.value,null!=s.etaDistanceData&&(console.log(s.etaDistanceData[0].status),"OK"==s.etaDistanceData[0].status?s.setETA_Distance():(s.transitDays=0,s.distance="0"),console.log(s.etaDistanceData)))})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this._store.dispatch({type:"IS_BACK",payload:{isBack:!1,backToComponent:""}}),this._store.dispatch({type:"ETA_DISTANCE",payload:null}),void 0!==this.unSub_templateDetails&&null!=this.unSub_templateDetails&&void 0!=this.unSub_templateDetails&&this.unSub_templateDetails.unsubscribe(),void 0!==this.unSub_detailsAddTripTemplate&&null!=this.unSub_detailsAddTripTemplate&&void 0!=this.unSub_detailsAddTripTemplate&&this.unSub_detailsAddTripTemplate.unsubscribe(),void 0!==this.unSub_sourceAddress&&null!=this.unSub_sourceAddress&&void 0!=this.unSub_sourceAddress&&this.unSub_sourceAddress.unsubscribe(),void 0!==this.unSub_destinationAddress&&null!=this.unSub_destinationAddress&&void 0!=this.unSub_destinationAddress&&this.unSub_destinationAddress.unsubscribe(),void 0!==this.unSub_searchName&&null!=this.unSub_searchName&&void 0!=this.unSub_searchName&&this.unSub_searchName.unsubscribe()},e.prototype.setLocationType=function(e){this.locationType=e,this.isShowLocationDialog=!0},e.prototype.setOriginLocation=function(e){console.log(e);var t=(this.locationType,{});null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj source"),t=e.freightLocation):(console.log("contains No freight location Obj source"),t=e),(i.i(s.isNullOrUndefined)(t.address)||""==t.address)&&(t.address=e.name),this.originName=t.name,this.oLat="Proximity"==t.geofence.type?t.geofence.circle.center.latitude:t.geofence.center.latitude,this.oLng="Proximity"==t.geofence.type?t.geofence.circle.center.longitude:t.geofence.center.longitude,this.etaDistanceCalaculater(this.oLat,this.oLng,this.dLat,this.dLng),this.originObj=t,this.isShowLocationDialog=!1},e.prototype.setDestinationLocation=function(e){var t={};null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj Destination"),t=e.freightLocation):(console.log("contains No freight location Obj Destination"),t=e),(i.i(s.isNullOrUndefined)(t.address)||""==t.address)&&(t.address=e.name),this.destinationName=t.name,this.dLat="Proximity"==t.geofence.type?t.geofence.circle.center.latitude:t.geofence.center.latitude,this.dLng="Proximity"==t.geofence.type?t.geofence.circle.center.longitude:t.geofence.center.longitude,this.etaDistanceCalaculater(this.oLat,this.oLng,this.dLat,this.dLng),this.destinObj=t,this.isShowLocationDialog=!1},e.prototype.deleteTemplate=function(){var e={uuid:this.templateId};this.templateServices.deleteTripTemplate.emit(e),this.templateServices.tripTemplateStatus.emit(),this._store.dispatch(i.i(r.c)(["/vtsdashboard/tripTemplateStatus"]))},e.prototype.confirmEdit=function(){var e={uuid:this.templateId,origin:this.origin,destination:this.destination,material:this.material,transitDays:this.transitDays,distance:this.distance,quantity:this.quantity};this.isClicked=!0,console.log(e),this.templateServices.updateTripTemplate.emit(e),this.templateServices.tripTemplateStatus.emit(),this._store.dispatch(i.i(r.c)(["/vtsdashboard/tripTemplateStatus"]))},e.prototype.etaDistanceCalaculater=function(e,t,i,n){if(null!=n&&null!=i&&null!=e&&null!=t){var o={oLat:e,oLng:t,dLat:i,dLng:n};this.eta_distance.getEtaDistance.emit(o)}},e.prototype.setETA_Distance=function(){var e=Number(this.etaDistanceData[0].duration.value)/86400;console.log(Math.ceil(e)),console.log(e),this.transitDays=Math.ceil(e),this.distance=String(Number(this.etaDistanceData[0].distance.value/1e3).toFixed(2))},e.prototype.cancelEdit=function(){this._store.dispatch(i.i(r.c)(["/vtsdashboard/tripTemplateStatus"]))},e}();p([i.i(n.ViewChild)("searchOrigin"),u("design:type","function"==typeof(g=void 0!==n.ElementRef&&n.ElementRef)&&g||Object)],h.prototype,"searchOrigineElementRef",void 0),p([i.i(n.ViewChild)("searchDestination"),u("design:type","function"==typeof(f=void 0!==n.ElementRef&&n.ElementRef)&&f||Object)],h.prototype,"searchDestElementRef",void 0),h=p([i.i(n.Component)({selector:"app-edit-trip-template",template:i("cCTx"),styles:[i("V88l")]}),u("design:paramtypes",["function"==typeof(v=void 0!==o.b&&o.b)&&v||Object,"function"==typeof(m=void 0!==a.a&&a.a)&&m||Object,"function"==typeof(y=void 0!==l.a&&l.a)&&y||Object,"function"==typeof(x=void 0!==c.LocalStorageService&&c.LocalStorageService)&&x||Object,"function"==typeof(b=void 0!==d.a&&d.a)&&b||Object])],h);var g,f,v,m,y,x,b},tTLD:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".trip-container{padding:4px}.trip-container div{font-family:Gotham-Rounded-Medium,Sans-Serif!important;color:#46465f}agm-map{height:calc(100vh - 230px)}button{color:#fff;background-color:#1e88e5}.searchbox:focus{width:100%}.top-header{width:100%;padding-bottom:3px}.searchBox{position:absolute;z-index:10;width:100%;text-align:center}.searchBox input{padding-left:5px;padding-right:24px;width:calc(93% - 24px);height:30px;margin-top:7px;border:2px solid #5f9ea0;border-radius:10px;font-size:15px;outline:none}.clear_search_box{font-size:26px;border-radius:13%;position:absolute;right:4%;top:10px;cursor:pointer}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}.design{min-width:50px;height:21px;border:none;border-bottom:1px solid #d3d3d3;font-size:15px}.vehicle-hover:hover{background-color:beige}.select-vehicle{padding:10px;color:#fff;border-radius:21px;font-size:18px}.vehicle-list{list-style:none;margin-top:-3px;padding-left:10px;margin-bottom:5px;display:block}.vehicle-list li{border-radius:3px;padding:7px;background-color:beige;margin-bottom:7px;float:left;margin-right:10px}.remove-vehicle{padding:4px;line-height:12px;color:#6495ed;float:right;font-size:18px;margin-right:-14px;background-color:#fffacd;margin-top:-16px;border-radius:13px}.remove-vehicle:focus,.remove-vehicle:hover{color:#fff;text-decoration:none;cursor:pointer;background-color:#6495ed}.slow-expand{padding-bottom:6px;position:absolute;top:2px;right:0;width:calc(100% - 50px)}",""]),e.exports=e.exports.toString()},tgTv:function(e,t,i){"use strict";var n=i("3j3K");i.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.fileterCoordinator=new n.EventEmitter}return e.prototype.ngOnDestroy=function(){},e}();s=o([i.i(n.Injectable)(),r("design:paramtypes",[])],s)},thxL:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.getTripStatus=new n.EventEmitter,this.getTripDetails=new n.EventEmitter,this.addTripFreightLocation=new n.EventEmitter,this.createTrip=new n.EventEmitter,this.createQuickTrip=new n.EventEmitter,this.searchLocation=new n.EventEmitter,this.discardTrip=new n.EventEmitter,this.updateTrip=new n.EventEmitter,this.updateTripFromStop=new n.EventEmitter,this.confirmLocation=new n.EventEmitter,this.addTripFreightLocation.subscribe(function(e){var t=l.b.TRIP_CREATE_UPDATE_PATH+"/freight/create";console.log(t),r.addFretLocation(e,t).subscribe(function(e){r._store.dispatch({type:"ADD_FREIGHT_TRIP_DETAILS",payload:e})},function(e){console.log(e)})}),this.searchLocation.subscribe(function(e){var t=l.b.TRIP_CREATE_UPDATE_PATH+"/freight?name="+e;r.searchLocationByName(t,e).subscribe(function(e){r._store.dispatch({type:"SEARCH_LOCATION_NAME",payload:e})},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.addFretLocation=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n=new o.d({method:o.e.Post,headers:i,body:e});return this.http.request(t,n).map(function(e){if(200==e.status)return e.json()})},e.prototype.searchLocationByName=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n=new o.d({method:o.e.Get,headers:i});return this.http.request(e,n).map(function(e){if(console.log(e.status),console.log(e),200==e.status){return{status:e.status,data:e.json()}}})},e}();p=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],p);var u,h,g},uCrX:function(e,t,i){"use strict";var n=i("3j3K"),o=i("tGq5");i.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.mapApiWrapper=e,this.latitude=null,this.longitude=null,this.zoom=5,this.isMarkerDragable=!1,this.isPolygonEditable=!1,this.mapType="roadmap",this.markers=[],this.name="",this.freightObj={},this.isVisible=!1,this.isSearched=!1,this.circle=null,this.toAddProximity=!0,this.toAddBoundary=!0,this.onLocationCreation=new n.EventEmitter,this.latitude=null,this.longitude=null,console.log(this.latitude),this.zoom=14,console.log("constructor")}return e.prototype.ngOnInit=function(){var e=this;console.log("in on init"),console.log("oninit"),this.agmMap.mapReady.subscribe(function(t){e.map=t;var i=[];console.log(i),e.selectedValue=e.selectedValueFromParent,console.log(e.selectedValueFromParent),console.log(e.selectedValue),"Proximity"==e.selectedValue.type?(e.toAddProximity=!0,e.toAddBoundary=!1):"Polygon"==e.selectedValue.type?(e.toAddBoundary=!0,e.toAddProximity=!1):(e.toAddProximity=!0,e.toAddBoundary=!0),e.polygon=e.addPolygone(e.map,i,!1,"#858585","#353535"),e.editLocation()})},e.prototype.ngOnDestroy=function(){},e.prototype.addPolygone=function(e,t,i,n,o){var r=new google.maps.Polygon({paths:t,editable:i,strokeColor:o,strokeOpacity:.8,strokeWeight:2,fillColor:n,fillOpacity:.35});return r.setMap(e),r},e.prototype.getNPointsCircularPolygone=function(e,t,i){function n(e){return e*Math.PI/180}function o(e){return 180*e/Math.PI}function r(e,t,i){i/=6371,t=n(t);var r=n(e.latitude),s=n(e.longitude),a=Math.asin(Math.sin(r)*Math.cos(i)+Math.cos(r)*Math.sin(i)*Math.cos(t)),l=s+Math.atan2(Math.sin(t)*Math.sin(i)*Math.cos(r),Math.cos(i)-Math.sin(r)*Math.sin(a));return isNaN(a)||isNaN(l)?null:new google.maps.LatLng(o(a),o(l))}var s=0,a=[];for(s=1;s<=i;s++)a.push(r(e,360/i*s,t));return a},e.prototype.editLocation=function(){this.isPolygonEditable=!0,this.polygon.setEditable(!0),this.polygon.setOptions({fillColor:"#FF0000",strokeColor:"#FF0000"}),this.placesServices()},e.prototype.back=function(){},e.prototype.placesServices=function(){var e=this,t=document.getElementById("pac-input");console.log(t);var i=new google.maps.places.SearchBox(t);if(this.map.addListener("bounds_changed",function(){i.setBounds(e.map.getBounds())}),this.markers=[],null!=this.res)if(null==this.res.data.radius){var n=this.getNPointsCircularPolygone({latitude:this.latitude,longitude:this.longitude},.5,5);this.polygon.setPath(n),this.polygon.setMap(this.map)}else this.drawCircel(Number(this.res.data.radius));i.addListener("places_changed",function(){var t=i.getPlaces();if(0!=t.length){e.markers.forEach(function(e){e.setMap(null)}),e.markers=[];var n=new google.maps.LatLngBounds;t.forEach(function(t){if(!t.geometry)return void console.log("Returned place contains no geometry");var i=(t.icon,new google.maps.Size(71,71),new google.maps.Point(0,0),new google.maps.Point(17,34),new google.maps.Size(25,25),new google.maps.Marker({title:t.formatted_address,position:t.geometry.location}));e.latitude=i.position.lat(),e.longitude=i.position.lng(),e.isSearched=!0,console.log(e.latitude+" "+e.longitude),e.address=t.formatted_address,console.log(t.formatted_address),e.markers.push(i),t.geometry.viewport?n.union(t.geometry.viewport):n.extend(t.geometry.location)}),e.map.fitBounds(n)}})},e.prototype.openSnackBar=function(e){},e.prototype.onAddProximity=function(){this.isVisible=!0,this.isCircle=!0},e.prototype.drawCircel=function(e){this.isCircle=!0,null!=this.circle&&this.circle.setMap(null),null!=this.polygon&&this.polygon.setMap(null),this.circle=new google.maps.Circle({radius:e,center:new google.maps.LatLng(this.latitude,this.longitude)}),this.circle.setMap(this.map)},e.prototype.onAddLocation=function(){this.radius=null,this.isCircle=!1,this.isVisible=!1;var e={latitude:this.latitude,longitude:this.longitude};console.log("Set New Location Obj"),console.log(e),null!=this.circle&&this.circle.setMap(null),null!=this.polygon&&this.polygon.setMap(null);var t=this.getNPointsCircularPolygone({latitude:this.latitude,longitude:this.longitude},.5,5);this.polygon.setPath(t),this.polygon.setMap(this.map),this.map.setZoom(14),console.log(this.fretDetails)},e.prototype.onKeyEvent=function(e){(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||8==e.keyCode)&&this.drawCircel(Number(this.radius))},e.prototype.saveLocation=function(){if(null==this.radius){for(var e=this.polygon.getPath(),t=[],i=0;i<e.getLength();i++){var n=e.getAt(i);t.push({latitude:n.lat(),longitude:n.lng()}),console.log(n.lat()+"     "+n.lng())}this.freightObj={name:this.name,address:this.address,geofence:{boundry:t,center:{latitude:this.latitude,longitude:this.longitude},type:"Polygon"}},console.log(this.freightObj)}else this.freightObj={name:this.name,address:this.address,geofence:{type:"Proximity",circle:{center:{latitude:this.latitude,longitude:this.longitude},radius:this.radius}}},console.log(this.freightObj);var o=this.onLocationCreation.emit(this.freightObj);console.log(o)},e}();r([i.i(n.ViewChild)(o.c),s("design:type",Object)],a.prototype,"agmMap",void 0),r([i.i(n.Output)(),s("design:type",Object)],a.prototype,"onLocationCreation",void 0),r([i.i(n.Input)(),s("design:type",Object)],a.prototype,"selectedValueFromParent",void 0),a=r([i.i(n.Component)({selector:"app-freight-location-creater",template:i("PIuO"),styles:[i("+n18")]}),s("design:paramtypes",["function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],a);var l},uDr9:function(e,t,i){"use strict";var n=i("3j3K"),o=i("CQG7"),r=i("Ths4");i.n(r);i.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},c=function(){function e(e,t){this._translations=e,this.localStorageService=t,this._currentLang=null}return Object.defineProperty(e.prototype,"currentLang",{get:function(){return this._currentLang},enumerable:!0,configurable:!0}),e.prototype.use=function(e){this._currentLang=e,this.localStorageService.set("LANGUAGE",this._currentLang)},e.prototype.translate=function(e){var t=e;this._currentLang;return this._translations[this._currentLang]&&this._translations[this._currentLang][e]?this._translations[this._currentLang][e]:t},e.prototype.instant=function(e){return this.translate(e)},e}();c=s([i.i(n.Injectable)(),l(0,i.i(n.Inject)(o.b)),a("design:paramtypes",[Object,"function"==typeof(d=void 0!==r.LocalStorageService&&r.LocalStorageService)&&d||Object])],c);var d},upgf:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},uslO:function(e,t,i){function n(e){return i(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id="uslO"},uvar:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("Ths4"),s=(i.n(r),i("5J2v")),a=i("DLpR"),l=i("fYnu"),c=i("uDr9"),d=i("cXjt");i.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,n,o,r,a){this.media=e,this._translate=t,this.snackBar=n,this._store=o,this.localStorageService=r,this._loginServices=a,this.isSpinner=!1,this.mobileNo="",this.countryCode="+91",this.countryCodeList=[{countryID:"IND",countryCode:"+91"}],this.selectedLanguage="en",this.supportedLangs=[{name:"English",code:"en"},{name:"हिंदी",code:"hi"}];var l=this.localStorageService.get("TOKEN");console.log(l),null!=l&&void 0!=l&&this._store.dispatch(i.i(s.c)(["/vtsdashboard"]))}return e.prototype.ngOnInit=function(){this.selectedLanguage=this.localStorageService.get("LANGUAGE")?""+this.localStorageService.get("LANGUAGE"):"en",this.selectLang()},e.prototype.selectLang=function(){this._translate.use(this.selectedLanguage)},e.prototype.sendOtp=function(){if(this._store.dispatch({type:"OTP_GENERATION",payload:null}),!this.fieldsValidation())return void console.log("Required parameter not blank.");this.mobileNo;console.log(this.mobileNo),console.log(this.countryCode),this._loginServices.sendOTP.emit({mobileNo:this.mobileNo,countryCode:this.countryCode}),this.localStorageService.set("USER-MOB-NO",this.mobileNo),this.localStorageService.set("COUNTRY-CODE",this.countryCode),this._store.dispatch(i.i(s.c)(["/sendOTP"]))},e.prototype.fieldsValidation=function(){return""==this.mobileNo||void 0==this.mobileNo?(console.log("please fill mobile no"),!1):""!=this.countryCode&&void 0!=this.countryCode||(console.log("please fill country code"),!1)},e}();h=p([i.i(n.Component)({selector:"app-user-login",template:i("zLJs"),styles:[i("ix47")]}),u("design:paramtypes",["function"==typeof(g=void 0!==d.b&&d.b)&&g||Object,"function"==typeof(f=void 0!==c.a&&c.a)&&f||Object,"function"==typeof(v=void 0!==l.A&&l.A)&&v||Object,"function"==typeof(m=void 0!==o.b&&o.b)&&m||Object,"function"==typeof(y=void 0!==r.LocalStorageService&&r.LocalStorageService)&&y||Object,"function"==typeof(x=void 0!==a.a&&a.a)&&x||Object])],h);var g,f,v,m,y,x},v5bf:function(e,t,i){"use strict";function n(e,t){switch(void 0===e&&(e=null),t.type){case"TRIP_STATUS_LIST":return u.addAction(t),t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"VEHICLE_TRIP_DETAILS":return u.addAction(t),t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"ADD_FREIGHT_TRIP_DETAILS":return u.addAction(t),t.payload;default:return e}}function s(e,t){switch(void 0===e&&(e=null),t.type){case"CREATE_TRIP_DETAILS":return u.addAction(t),t.payload;default:return e}}function a(e,t){switch(void 0===e&&(e=null),t.type){case"CREATE_QUICK_TRIP_DETAILS":return u.addAction(t),t.payload;default:return e}}function l(e,t){switch(void 0===e&&(e=null),t.type){case"SEARCH_LOCATION_NAME":return u.addAction(t),t.payload;default:return e}}function c(e,t){switch(void 0===e&&(e=null),t.type){case"UPDATE_TRIP_DATA":return u.addAction(t),t.payload;default:return e}}function d(e,t){switch(void 0===e&&(e=null),t.type){case"REFERSH_TRIP_TEMPALTE":return u.addAction(t),t.payload;default:return e}}var p=i("H8ZI");t.a=n,t.b=o,t.c=r,t.d=s,t.e=a,t.f=l,t.g=c,t.h=d;var u=new p.a},v7U5:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("5J2v"),s=i("1ZaY");i.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){var i=this;this._store=e,this.vehicleMgmntService=t,this.view="",this.vehicleTypeList=["Tata 407 2.5MT","Canter/Swaraj Mazda 3.5MT","LPT 709 4.5MT","LPT 1109 7.5MT","Taurus 15MT","Containerized Vehicle 7 MT","Containerized Vehicle 14 MT","Open Truck 9MT","JCB 8MT","High Bed Trailer Double Axle Upto 22 MT","Trailer Triple Axle Upto 27 MT","Horse for Mobile Unit upto 49 MT","Low Bed Trailer for ODC Upto 49 MT","Volvo/Mann/4923/4921 49 MT","Volvo/Mann/AMW 150 MT","boxTruck"],this.vehicleStatusList=["Own Vehicle","Partner Vehicle"],this.vehicleNumber="",this.vehicleType="",this.groupId="",this.vehicleStatus="",this.selectedVehicle={},this.unSub_SelectedVehicle=null,this.unSub_editVehicleResponse=null,this.unSub_deleteVehicleResponse=null,this.unSub_calledFromSource=null,this.unSub_SelectedGroup=null,this.view=document.view,this.unSub_SelectedVehicle=e.select("selectedVehicleForEdit").subscribe(function(e){null!=e&&(console.log("selected Vehicle For Edit"),console.log(e),i.selectedVehicle=e,i.vehicleNumber=e.vehicleRegistrationNumber,i.vehicleType=e.vehicleType)}),this.unSub_SelectedGroup=e.select("selectedVehicleGroupForEdit").subscribe(function(e){null!=e&&(console.log("selected Vehicle Group For Edit in component"),console.log(e),i.groupId=e.uuid)}),this.unSub_editVehicleResponse=e.select("editVehicleResponse").subscribe(function(e){null!=e&&(console.log(e),console.log("EDIT selected vehicle"),i.goToManageVehicles())}),this.unSub_deleteVehicleResponse=e.select("deleteVehiclesFromGroup").subscribe(function(e){null!=e&&(console.log("Delete selected vehicle"),console.log(e),i.goToManageVehicles())}),this.unSub_calledFromSource=e.select("calledEditVehicleSource").subscribe(function(e){null!=e&&(console.log(e),i._calledFrom=e)})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_SelectedVehicle&&null!=this.unSub_SelectedVehicle&&void 0!=this.unSub_SelectedVehicle&&this.unSub_SelectedVehicle.unsubscribe(),void 0!==this.unSub_calledFromSource&&null!=this.unSub_calledFromSource&&void 0!=this.unSub_calledFromSource&&this.unSub_calledFromSource.unsubscribe(),void 0!==this.unSub_editVehicleResponse&&null!=this.unSub_editVehicleResponse&&void 0!=this.unSub_editVehicleResponse&&this.unSub_editVehicleResponse.unsubscribe(),void 0!==this.unSub_deleteVehicleResponse&&null!=this.unSub_deleteVehicleResponse&&void 0!=this.unSub_deleteVehicleResponse&&this.unSub_deleteVehicleResponse.unsubscribe()},e.prototype.goToManageVehicles=function(){this._store.dispatch({type:"REFRESH_LIST",payload:"Reload Vehicle List"}),this._store.dispatch(i.i(r.c)(["/vtsdashboard/manageVehicles"]))},e.prototype.deleteSelectedVehicleFromGroup=function(){console.log(this.selectedVehicle),console.log(this.groupId);var e={groupId:this.groupId,vehicleId:this.selectedVehicle.uuid};console.log(this.groupId),console.log(e),this.vehicleMgmntService.deleteSelecetedVehicle.emit(e)},e.prototype.saveEditVehicles=function(){var e={vehicleRegistrationNumber:this.vehicleNumber,vehicleType:this.vehicleType,uuid:this.selectedVehicle.uuid};this.vehicleMgmntService.editSelecetedVehicle.emit(e),this.goToManageVehicles(),console.log(e)},e}();c=a([i.i(n.Component)({selector:"app-edit-vehicles",template:i("21eo"),styles:[i("7uNe")]}),l("design:paramtypes",["function"==typeof(d=void 0!==o.b&&o.b)&&d||Object,"function"==typeof(p=void 0!==s.a&&s.a)&&p||Object])],c);var d,p},vwgX:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n="http://192.168.0.91:9099/freightLocation"},wp1f:function(e,t,i){"use strict";var n=i("DmT9"),o=(i.n(n),i("3j3K")),r=i("Ths4"),s=(i.n(r),i("WWmu")),a=i("Pgz3"),l=i("kZql");i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var n=this;this._services=e,this._store=t,this.localStorageService=i,this.url=l.b.VEHICLE_LIST_SOCKET_PATH,this.vehicleList=[],this.customer=null,this.unSub_customerDetails=null,this.unSub_customerDetails=t.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&""==e.error&&(n.customer=e.customer,n.token=n.localStorageService.get("AUTH_TOKEN"))}),t.select("vehicleListRes").subscribe(function(e){null!=e&&(n.vehicleList=e.data)})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.getVehicleList=function(){var e=this;this.socket=n(this.url),null!=this.customer&&null!=this.token&&(console.log(this.customer.orgId),this._services.getVehicleList.emit(this.customer.orgId),this.socket.emit("joinVehicleDashboard",this.token),this.socket.on("update",function(t){if(null!=e.vehicleList){"string"==typeof t&&(t=JSON.parse(t));for(var i=0;i<e.vehicleList.length;i++)e.vehicleList[i]._id==t.vehicleId.string&&(e.vehicleList[i].speed=t.speed,e.vehicleList[i].latitude=t.latitude,e.vehicleList[i].longitude=t.longitude,t.state&&(e.vehicleList[i].state=t.state))}}))},e.prototype.disconnectSocket=function(){console.log("disconnected"),null==this.socket&&void 0==this.socket||this.socket.disconnect()},e}();p=c([i.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==r.LocalStorageService&&r.LocalStorageService)&&g||Object])],p);var u,h,g},x2BW:function(e,t){e.exports='\n<div id="map" class="map" > </div>\n\n\n'},x35b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("3j3K"),o=i("O61y"),r=i("Iksp");i.i(n.enableProdMode)(),i.i(o.a)().bootstrapModule(r.a)},x3AG:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},yFKR:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("Ths4"),s=(i.n(r),i("CihD")),a=i("5J2v"),l=i("MbBB"),c=i("ZAU6"),d=i("Dkvd"),p=i("0Xiv");i.d(t,"a",function(){return g});var u=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,i,n,o,r,s){var a=this;this.tripSocketObj=e,this.templateServices=t,this.localStorageService=i,this._store=n,this.tripServices=o,this.tripEtaDistance=r,this._angularitics=s,this.doughnutChartData=[0,0],this.doughnutChartType="doughnut",this.doughnutColor=[{backgroundColor:["#add160","#a7a9b2"]}],this.doughnutChartOptions={cutoutPercentage:65},this.isShowDetails=!1,this.previousSelectedVehicle={_isShowDetails:!1},this.distanceToGo=[],this.isTripTemplateDialog=!1,this.index_latLng=[],this.isSearch=!1,this.selectedTripTemplate={_selected:!1},this.vehicleObjList=[],this.search="",this.isSpinner=!1,this.isDesable=!0,this.viewTrip="",this.tripStatusList=[],this.unSub_TripStatus=null,this.unSub_ETA_DistanceStore=null,this.unSub_customerDetails=null,this.unSub_updateTripData=null,this.connection=null,this.tripTemplateList=[],this.unSub_templateList=null,this.vehicleTripCount={all:0,unassigned:0,underLoading:0,underUnloading:0,inTransite:0,atPickupPt:0},this.gpsState={connected:0,disconncted:0},this.isSpinner=!0,this.token=this.localStorageService.get("AUTH_TOKEN"),this.customerDetail(this.token),this.templateServices.tripTemplateStatus.emit(),this.unSub_templateList=this._store.select("tripTemplateList").subscribe(function(e){if(console.log(e),null!=e){var t=[];t=e.data,""==e.error&&200==t.status&&(a.tripTemplateList=t.list,console.log(a.tripTemplateList))}}),this.unSub_customerDetails=n.select("customerDetails").subscribe(function(e){null!=e&&(console.log(e),a.tripSocketObj.getTripList())}),this.unSub_updateTripData=n.select("updateTripData").subscribe(function(e){var t=e;if(null!=t&&null!=a.tripStatusList)for(var i=0;i<a.tripStatusList.length;i++)a.tripStatusList[i].vts!=t.vts&&a.tripStatusList[i].uuid==t.vehicleId&&(a.merge(a.tripStatusList[i],t),console.log(a.tripStatusList[i]),a.updateList())}),this.unSub_TripStatus=n.select("tripStatusList").subscribe(function(e){console.log(e),null!=e&&(a.isSpinner=!1,a.tripStatusList=JSON.parse(JSON.stringify(e)),console.log(a.tripStatusList),a.updateList())}),this.unSub_ETA_DistanceStore=n.select("etaListDistanceStore").subscribe(function(e){if(null!=e){var t=(e.value[0].distance.value/1e3).toFixed(2)+" km",i=e.index;a.tripStatusList.length>i&&(a.tripStatusList[i].distanceToGo=t,a.tripStatusList[i].eta=a.msToTime(1e3*e.value[0].duration.value),a.tripStatusList[i].timeValue=e.value[0].duration.value)}})}return e.prototype.ngOnDestroy=function(){this.tripSocketObj.disconnectTripListSocket(),void 0!==this.unSub_TripStatus&&null!=this.unSub_TripStatus&&void 0!=this.unSub_TripStatus&&this.unSub_TripStatus.unsubscribe(),void 0!==this.unSub_ETA_DistanceStore&&null!=this.unSub_ETA_DistanceStore&&void 0!=this.unSub_ETA_DistanceStore&&this.unSub_ETA_DistanceStore.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_updateTripData&&null!=this.unSub_updateTripData&&void 0!=this.unSub_updateTripData&&this.unSub_updateTripData.unsubscribe()},e.prototype.updateList=function(){console.log("update value"),this.gpsState={connected:0,disconncted:0},this.vehicleTripCount={all:0,unassigned:0,underLoading:0,underUnloading:0,inTransite:0,atPickupPt:0},this.vehicleTripCount.all=this.tripStatusList.length;for(var e=0;e<this.tripStatusList.length;e++)this.tripStatusList[e]._isChecked=!1,this.tripStatusList[e]._vtsDuration=this.msToTime(this.tripStatusList[e].vtsDuration),"WaitingForLoad"==this.tripStatusList[e].vts&&(this.vehicleTripCount.unassigned=this.vehicleTripCount.unassigned+1),"AtDestination"==this.tripStatusList[e].vts&&(this.vehicleTripCount.underUnloading=this.vehicleTripCount.underUnloading+1),"EnrouteForPickUp"==this.tripStatusList[e].vts&&(this.vehicleTripCount.underLoading=this.vehicleTripCount.underLoading+1,this.oLat=this.tripStatusList[e].latitude,this.oLng=this.tripStatusList[e].longitude,this.dLat=this.tripStatusList[e].tripStartLocation.geofence.center.latitude,this.dLng=this.tripStatusList[e].tripStartLocation.geofence.center.longitude,this.index_latLng.push({index:e,oLat:this.oLat,oLng:this.oLng,dLat:this.dLat,dLng:this.dLng})),"EnrouteForDestination"==this.tripStatusList[e].vts&&(this.vehicleTripCount.inTransite=this.vehicleTripCount.inTransite+1,this.oLat=this.tripStatusList[e].latitude,this.oLng=this.tripStatusList[e].longitude,this.dLat=this.tripStatusList[e].tripEndLocation.geofence.center.latitude,this.dLng=this.tripStatusList[e].tripEndLocation.geofence.center.longitude,this.index_latLng.push({index:e,oLat:this.oLat,oLng:this.oLng,dLat:this.dLat,dLng:this.dLng})),"AtPickUpPoint"==this.tripStatusList[e].vts&&(this.vehicleTripCount.atPickupPt=this.vehicleTripCount.atPickupPt+1),void 0!=this.tripStatusList[e].gpsState&&"Disconnected"!=this.tripStatusList[e].gpsState&&null!=this.tripStatusList[e].gpsState||(this.gpsState.disconncted=this.gpsState.disconncted+1);this.tripEtaDistance.getEtaDistanceList.emit(this.index_latLng),this.gpsState.connected=this.vehicleTripCount.all-this.gpsState.disconncted,this.doughnutChartData=[],this.doughnutChartData.push(this.gpsState.connected),this.doughnutChartData.push(this.gpsState.disconncted)},e.prototype.getVehicliObj=function(e){console.log(e._isChecked)},e.prototype.customerDetail=function(e){var t={},i=e.split(".")[0],n=i.replace("-","+").replace("_","/");return t.userType=JSON.parse(window.atob(n)),i=e.split(".")[1],n=i.replace("-","+").replace("_","/"),t.details=JSON.parse(window.atob(n)),t.details.id=t.details.userId,this.orgId=t.details.orgId,console.log(t),t},e.prototype.merge=function(e,t){for(var i in t)e[i]=t[i]},e.prototype.changeBgColor=function(e){e!=this.previousSelectedVehicle&&(e._isShowDetails=!0,this.previousSelectedVehicle._isShowDetails=!1,this.previousSelectedVehicle=e)},e.prototype.closeDetails=function(){this.previousSelectedVehicle._isShowDetails=!1},e.prototype.showDetails=function(e){var t=this;console.log(e),this.isShowDetails=!1,this._angularitics.eventTrack("TripView_Item_Clicked",e),console.log(this.previousSelectedVehicle._isShowDetails),setTimeout(function(){console.log(e);var i=JSON.parse(JSON.stringify(e));t.localStorageService.set("CURRENT_TRIP_VEHICLE",i),t._store.dispatch({type:"VEHICLE_TRIP_DETAILS",payload:null}),t.isShowDetails=!0},10)},e.prototype.goToTripTemplateDialog=function(){this.isTripTemplateDialog=!0},e.prototype.goToAddTripView=function(e){this.localStorageService.set("TEMPLATE_TYPE",e);for(var t=0;t<this.tripStatusList.length;t++)!0===this.tripStatusList[t]._isChecked&&this.vehicleObjList.push(this.tripStatusList[t].vehicleRegistrationNumber);console.log(this.vehicleObjList),this.localStorageService.set("SELECTED_VEHICLE_LIST",this.vehicleObjList),this._store.dispatch(i.i(a.c)(["/vtsdashboard/addTrip"]))},e.prototype.goselectedTemplate=function(e){this.isDesable=!1,this.selectedTemplate=e,this.localStorageService.set("TRIP_TEMPLATE",this.selectedTemplate),console.log(this.selectedTemplate)},e.prototype.changeBgColor2=function(e){e!=this.selectedTripTemplate&&(e._selected=!0,this.selectedTripTemplate._selected=!1,this.selectedTripTemplate=e,console.log(this.selectedTripTemplate._selected))},e.prototype.tripTemplateStatus=function(){this._store.dispatch(i.i(a.c)(["/vtsdashboard/tripTemplateStatus"]))},e.prototype.filterTripList=function(e){this.viewTrip=e,this._angularitics.eventTrack("Trip_Filter_Web_Clicked",e)},e.prototype.msToTime=function(e){var t=e/1e3,i=Math.floor(t%60);t/=60;var n=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:n>0?s=s+n+"min":(i>0&&""==s&&(s=s+i+" sec"),""==s?"0 sec":s)},e}();g=u([i.i(n.Component)({selector:"app-trip-status-desktop",template:i("/ZSX"),styles:[i("oN5c")]}),h("design:paramtypes",["function"==typeof(f=void 0!==c.a&&c.a)&&f||Object,"function"==typeof(v=void 0!==p.a&&p.a)&&v||Object,"function"==typeof(m=void 0!==r.LocalStorageService&&r.LocalStorageService)&&m||Object,"function"==typeof(y=void 0!==o.b&&o.b)&&y||Object,"function"==typeof(x=void 0!==s.a&&s.a)&&x||Object,"function"==typeof(b=void 0!==l.a&&l.a)&&b||Object,"function"==typeof(T=void 0!==d.a&&d.a)&&T||Object])],g);var f,v,m,y,x,b,T},yJmJ:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Dkvd");i.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this._angularitics=e,this.view="",this.view=document.view,console.log(this.view)}return e.prototype.ngOnInit=function(){this._angularitics.eventTrack("TripView_Opened",{category:"TripDashboard"})},e}();a=r([i.i(n.Component)({selector:"app-trip-status",template:i("NBXt"),styles:[i("U4oe")]}),s("design:paramtypes",["function"==typeof(l=void 0!==o.a&&o.a)&&l||Object])],a);var l},yMY0:function(e,t,i){"use strict";var n=i("3j3K"),o=i("Fzro"),r=i("+pb+"),s=(i.n(r),i("WWmu")),a=i("Ths4"),l=(i.n(a),i("kZql"));i.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){var r=this;this.http=e,this._store=t,this.localStorageService=i,this.defaultHeaders=new o.c,this.token="",this.getScheduleReport=new n.EventEmitter,this.createNewSchedule=new n.EventEmitter,this.changeScheduleState=new n.EventEmitter,this.defaultHeaders.append("Access-Control-Allow-Origin","*"),this.defaultHeaders.append("Access-Control-Allow-Methods","GET,POST, OPTIONS, PUT, PATCH, DELETE"),this.getScheduleReport.subscribe(function(){r.token=r.localStorageService.get("TOKEN"),null!=r.token?r.getScheduleReportList().subscribe(function(e){console.log(e),r._store.dispatch({type:"SCHEDULE_REPORT_LIST",payload:{error:"",list:e}})},function(e){r._store.dispatch({type:"SCHEDULE_REPORT_LIST",payload:{error:"X",msg:"error occur : "+e.json().message}}),console.log(e),console.log(e.json().message)}):console.log("please login")}),this.createNewSchedule.subscribe(function(e){r.token=r.localStorageService.get("TOKEN"),null!=r.token?r.createSchedule(e).subscribe(function(e){200==e.status?(console.log(e.json()),r._store.dispatch({type:"SCHEDULE_CREATED_ACK",payload:{error:"",errorMsg:"successfull created"}})):r._store.dispatch({type:"SCHEDULE_CREATED_ACK",payload:{error:"X",errorMsg:"Not created"}})},function(e){r._store.dispatch({type:"SCHEDULE_CREATED_ACK",payload:{error:"X",errorMsg:"Not created"}}),console.log(e),console.log(e.json().message)}):console.log("please login")}),this.changeScheduleState.subscribe(function(e){var t=l.b.CHANGE_SCHEDULE_STATE_PATH+e.scheduleId+"&active="+e.activeState;console.log(t),r.token=r.localStorageService.get("TOKEN"),null!=r.token?r.changeState(t,e).subscribe(function(e){200==e.status?(console.log(e.json()),r._store.dispatch({type:"CHANGE_SCHEDULE_REPORT_STATE_ACK",payload:{error:"",errorMsg:e.json().message}})):(console.log(e.json()),r._store.dispatch({type:"CHANGE_SCHEDULE_REPORT_STATE_ACK",payload:{error:"X",errorMsg:e.json().message}}))},function(e){r._store.dispatch({type:"CHANGE_SCHEDULE_REPORT_STATE_ACK",payload:{error:"X",errorMsg:"error occur : Not updated"}}),console.log(e),console.log(e.json().message)}):console.log("please login first")})}return e.prototype.ngOnDestroy=function(){},e.prototype.getScheduleReportList=function(){var e=new o.c(this.defaultHeaders.toJSON());e.set("Content-Type","application/json");var t="Bearer "+this.token;e.set("authorization",t);var i=new o.d({method:o.e.Get,headers:e}),n=l.b.GET_SCHEDULE_REPORTS_PATH;return console.log(this.token),console.log(n),this.http.request(n,i).map(function(e){return console.log(e),e.json()})},e.prototype.createSchedule=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var i="Bearer "+this.token;t.set("authorization",i);var n=new o.d({method:o.e.Post,headers:t,body:e}),r=l.b.CREATE_SCHEDULE_REPORTS_PATH;return console.log(this.token),console.log(r),this.http.request(r,n).map(function(e){return console.log(e),e})},e.prototype.changeState=function(e,t){var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var n="Bearer "+this.token;i.set("authorization",n);var r=new o.d({method:o.e.Get,headers:i});return this.http.request(e,r).map(function(e){return console.log(e),e})},e}();p=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object])],p);var u,h,g},yXZo:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,"md-card{cursor:pointer}",""]),e.exports=e.exports.toString()},"yuB/":function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".search{width:100%;font-size:17px;padding:9px 35px 9px 22px;display:inline-block;border:1.5px solid #ccc;border-radius:12px;box-sizing:border-box}.search:focus{outline:none;border:1.5px solid #03a9f4}.vehicle-hover:hover{background-color:beige}",""]),e.exports=e.exports.toString()},yvhv:function(e,t,i){"use strict";var n=i("3j3K");i.d(t,"a",function(){return s});var o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.ngOnInit=function(){new ol.Map({controls:ol.control.defaults({attributionOptions:{collapsible:!1}}).extend([new ol.control.ZoomToExtent({extent:[813079.7791264898,5929220.284081122,848966.9639063801,5936863.986909639]})]),layers:[new ol.layer.Tile({source:new ol.source.OSM})],target:"map",view:new ol.View({projection:"EPSG:900913",center:[28.45,77.07],zoom:5})})},e}();s=o([i.i(n.Component)({selector:"app-osm-map",template:i("x2BW"),styles:[i("b7d8")]}),r("design:paramtypes",[])],s)},yypu:function(e,t){e.exports='<div style="overflow: auto; height: calc( 100vh - 50px)">\r\n<div *ngFor="let group of vehicleGroupList" >\r\n  \x3c!--style="overflow: auto;height: calc(100vh - 45px);"--\x3e\r\n  <md-card  style="padding-top:10px; margin-bottom: 1%" (click)="goToGroupedVehiclesList(group)">\r\n    <md-card-content>\r\n      <div fxLayout="column">\r\n        <div fxFlex="50"><h3>{{group[\'groupName\']}}</h3></div>\r\n        \x3c!--<div fxFlex="50"><div fxLayout="column">--\x3e\r\n          \x3c!--&lt;!&ndash;<div fxFlex="50"><label>14 vehicles</label></div>&ndash;&gt;--\x3e\r\n          \x3c!--&lt;!&ndash;<div fxFlex="50"><label style="float: right">Active Since 5 weeks</label></div>&ndash;&gt;--\x3e\r\n      </div>\r\n    </md-card-content>\r\n  </md-card>\r\n</div>\r\n\r\n  <div style="width: 100%; height: 50px"></div>\r\n\r\n  <button md-fab color="primary" style="position: absolute; top: 90%" [style.left]="(view ==\'web\')?\'90%\':\'80%\'" (click)="showAddNewGroup()" >\r\n    <i class="fa fa-plus" aria-hidden="true" style="font-size: 20px;color: white "></i>\r\n  </button>\r\n</div>\r\n\r\n\r\n<div  *ngIf="isShowAddNewGroup" id="myParameterModal" class="modal">\r\n  \x3c!-- Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowAddNewGroup=false">&times;</span>\r\n\r\n    <h4 style="margin-bottom: 0px">Add New Group</h4>\r\n\r\n    <div style="width: 100%">\r\n      <md-input-container style="width:85%" >\r\n        <input placeholder="Group Name"  mdInput required [(ngModel)]="groupName" >\r\n      </md-input-container>\r\n    </div>\r\n\r\n    <div style="width: 100%">\r\n      \x3c!--<md-input-container style="width:85%" >--\x3e\r\n        \x3c!--<input placeholder="Vehicle Number"  mdInput required [(ngModel)]="vehicleNumber" >--\x3e\r\n      \x3c!--</md-input-container>--\x3e\r\n\r\n      <div>\r\n        <vehicle-picker [editableVehicleList]="editVehicleList"></vehicle-picker>\r\n      </div>\r\n\r\n      <div *ngIf="iscreateErrMsg"><label style="color: red">*All Feilds are mandatory</label></div>\r\n\r\n    </div>\r\n\r\n    <div style="margin-top: 5%">\r\n      <button md-raised-button (click)="isShowAddNewGroup=false">CANCEL</button>\r\n      <button md-raised-button color="primary" style="margin-left: 15%" (click)="createNewGroup()">ADD GROUP</button>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</div>\r\n'},zD8p:function(e,t,i){"use strict";var n=i("3j3K"),o=i("WWmu"),r=i("Pgz3"),s=i("5J2v"),a=i("Ths4");i.n(a);i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i){var n=this;this._store=e,this._services=t,this.localStorageService=i,this.isSpinner=!0,this.vehicles=[],this.search="",this.vehicleList=[],this.errorMsg="",this.unSub_vehicleList=null,this.unSub_customerDetails=null;var o={};this._store.dispatch({type:"TITLE",payload:"Location History"}),this.unSub_customerDetails=e.select("customerDetails").subscribe(function(i){null!=i&&""==i.error&&(o=i.customer,console.log(o),n.unSub_vehicleList=e.select("vehicleListRes").subscribe(function(e){if(n.errorMsg="",null==e)return void t.getVehicleList.emit(o.id);if(""==e.error){var i=JSON.parse(JSON.stringify(e.data));n.vehicleList=i.sort(n.compare);for(var r=0;r<n.vehicleList.length;r++)n.vehicleList[r].select=!1}else console.log(e.errorMsg),n.errorMsg=e.errorMsg;n.isSpinner=!1}))})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_vehicleList&&null!=this.unSub_vehicleList&&void 0!=this.unSub_vehicleList&&this.unSub_vehicleList.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.ngOnInit=function(){},e.prototype.compare=function(e,t){return e.vehicleType.toUpperCase()<t.vehicleType.toUpperCase()?-1:e.vehicleType.toUpperCase()>t.vehicleType.toUpperCase()?1:0},e.prototype.goToLoactionHisView=function(e){console.log(e),this._store.dispatch({type:"LOCATION_HISTORY",payload:null}),this.localStorageService.set("SELECTED-LOCATION-HIS-VEHICLE",e),this._store.dispatch(i.i(s.c)(["/vtsdashboard/locationHistory"]))},e}();d=l([i.i(n.Component)({selector:"app-location-history-vehicle-list",template:i("O84T"),styles:[i("yuB/")]}),c("design:paramtypes",["function"==typeof(p=void 0!==o.b&&o.b)&&p||Object,"function"==typeof(u=void 0!==r.a&&r.a)&&u||Object,"function"==typeof(h=void 0!==a.LocalStorageService&&a.LocalStorageService)&&h||Object])],d);var p,u,h},zLJs:function(e,t){e.exports='<div class="main">\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\n  <md-card >\n    <div style="text-align: right">\n      <md-select class="language" (change)="selectLang()" [(ngModel)]="selectedLanguage"  name="language" >\n        <md-option value={{lang.code}} *ngFor="let lang of supportedLangs" >{{lang.name}}</md-option>\n      </md-select>\n    </div>\n\n   <form (ngSubmit)="sendOtp()" #loginForm="ngForm">\n    <div class="imgcontainer">\n      <img style="padding: 5px;background-color: darkgray; width: 60%;" src="../../../../images/fretron_logo.png" alt="Avatar"  >\n    </div>\n     <div class="label-quote" >\n       <label>{{\'(Enter your Mobile number)\' | translate }}</label>\n     </div>\n    <div fxLayout="row" >\n      <md-select class="my-select" [(ngModel)]="countryCode"  name="countryCode" >\n        <md-option *ngFor="let country of countryCodeList" value=\'{{country.countryCode}}\'>{{country.countryID}} {{country.countryCode}}</md-option>\n      </md-select>\n\n      <md-input-container style="width: 100%" >\n        <input type="number" min="0" mdTooltip="{{\'This field is required\' | translate }}"  mdInput [(ngModel)]="mobileNo"\n               onkeydown="if(event.target.value.length>=10 && event.keyCode!=8 && event.keyCode!=13 )return false;"\n              pattern="[0-9]{10}" placeholder="{{\'Mobile Number\' | translate }}" name="mobileNo" id="mobileNo" required>\n      </md-input-container>\n    </div>\n    <div style="text-align: center;padding: 15px;">\n      \x3c!--<button mdTooltip="Register here"  style="margin-top: 20px;width: 100%;" md-raised-button  (click)="login()">LOGIN</button>--\x3e\n      <button name="go"  type="submit"  class="add-button" mdTooltip="{{\'send OTP\' | translate }}"  md-raised-button  [disabled]="!loginForm.form.valid">\n        <i class="fa fa-arrow-right" aria-hidden="true"></i>\n      </button>\n    </div>\n    </form>\n  </md-card>\n</div>\n<div class="footer-text">\n  \x3c!--<a href="#">{{\'Help\' | translate }}</a>--\x3e\n</div>\n'},zQPx:function(e,t,i){t=e.exports=i("FZ+f")(!1),t.push([e.i,".mycustomDialog-Location{position:fixed;z-index:999;padding-top:10%;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{position:relative;background-color:#fefefe;margin:auto;padding:0;border-radius:5px;border:1px solid #888;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.3);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;-webkit-animation-duration:.2s;animation-duration:.2s}.modal-header{font-family:Gotham-Rounded-Medium,Sans-Serif!important;font-size:16px;padding:5px;background-color:#1e88e5;color:#fff;text-align:center}.button1{color:gray;line-height:40px;font-size:13px;font-weight:500;text-overflow:ellipsis;font-family:Arial,Helvetica,sans-serif}.button1 :focus{background-color:#5b89ff!important;color:#fff}ul{list-style:none;margin-left:-32px}li{border:1px solid #ddd;margin-top:-1px;background-color:#fff;padding:12px;text-decoration:none;color:#000;display:block;color:#333;font-size:14px}",""]),e.exports=e.exports.toString()}},[1]);