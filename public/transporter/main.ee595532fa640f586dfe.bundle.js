webpackJsonp([1],{"+0cF":function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc"),r=n("0aAO"),s=n("fSDF"),a=n("ri6n"),l=n("PP6U"),c=n("j3/x"),d=n("cczp"),p=n("BHPq"),u=n("fYHi"),h=n("EHWr"),m=n("Ic8m"),g=n("qyoZ");n.d(t,"a",function(){return b});var f=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},v=[{path:"",pathMatch:"full",redirectTo:"dashboard"}],x=[{path:"dashboard",component:r.a,children:[{path:"",redirectTo:"shipmentStatus",pathMatch:"full"},{path:"shipmentStatus",component:s.a,children:[{path:"selectedVehicle",component:c.a}]},{path:"deviceDashboard",component:a.a},{path:"newShipment",component:l.a},{path:"addOrganisation",component:d.a},{path:"settingsComponent",component:p.a},{path:"manageOrganisation",component:u.a},{path:"shipmentManagementComponent",component:h.a},{path:"userManagementConsole",component:m.a},{path:"usersList",component:g.a}]}],b=function(){function e(){}return e}();b=f([n.i(i.NgModule)({imports:[o.a.forRoot(v),o.a.forChild(x)],exports:[o.a]})],b)},"+WI2":function(e,t,n){"use strict";var i=n("/oeL"),o=n("JgC9"),r=n("Z04r");n.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){var n=this;this.dialogRef=e,this._store=t,this.unSub_deviceDetail=null,this.unSub_deviceDetail=this._store.select("deviceDetails").subscribe(function(e){null!=e&&(null==e.error||console.log(n.device))})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_deviceDetail&&null!=this.unSub_deviceDetail&&void 0!=this.unSub_deviceDetail&&this.unSub_deviceDetail.unsubscribe()},e.prototype.onNoClick=function(){this.dialogRef.close()},e.prototype.closeDialog=function(){this.dialogRef.close("Pizza!")},e}();l=s([n.i(i.Component)({selector:"app-assign-vehicle",template:n("MauM"),styles:[n("5h84")]}),a("design:paramtypes",["function"==typeof(c=void 0!==r.u&&r.u)&&c||Object,"function"==typeof(d=void 0!==o.b&&o.b)&&d||Object])],l);var c,d},"//+4":function(e,t,n){"use strict";function i(e,t){switch(void 0===e&&(e=null),t.type){case"SHIPMENT_ID_LIST":return t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"All_SHIPMENT_LIST":return t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"SHIPMENT_DETAIL":return t.payload;default:return e}}function s(e,t){switch(void 0===e&&(e=null),t.type){case"NEW_SHIPMENT":return t.payload;default:return e}}function a(e,t){switch(void 0===e&&(e=null),t.type){case"All_DEVICES_LIST":return t.payload;default:return e}}function l(e,t){switch(void 0===e&&(e=null),t.type){case"CHECK_VEHICLE":return t.payload;default:return e}}function c(e,t){switch(void 0===e&&(e=null),t.type){case"SWITCH_SHIPMENT":return t.payload;default:return e}}function d(e,t){switch(void 0===e&&(e=null),t.type){case"DEVICE_DETAILS":return t.payload;default:return e}}function p(e,t){switch(void 0===e&&(e=!1),t.type){case"CLOSE_DIALOG":return t.payload;default:return e}}function u(e,t){switch(console.log("In createOrgRes in Info store"),t.type){case"CREATE_ORG_RESPONSE":return t.payload;default:return e}}function h(e,t){switch(console.log("In switchOrganisationResp in Info store"),t.type){case"SWITCH_ORGANISATION_RESPONSE":return t.payload;default:return e}}function m(e,t){switch(void 0===e&&(e=null),t.type){case"CUSTOMER_DETAILS":return console.log("customer Details value in store"),t.payload;default:return e}}function g(e,t){switch(void 0===e&&(e=null),t.type){case"SHIPMENT_GRP_LIST":return t.payload;default:return e}}function f(e,t){switch(void 0===e&&(e=null),t.type){case"CREATE_GROUP_RESPONSE":return t.payload;default:return e}}t.a=i,t.b=o,t.c=r,t.d=s,t.e=a,t.f=l,t.n=c,t.g=d,t.h=p,t.i=u,t.j=h,t.k=m,t.l=g,t.m=f},0:function(e,t,n){e.exports=n("cDNt")},"0+Up":function(e,t,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),s=(n.n(r),n("JgC9")),a=n("N2o7"),l=(n.n(a),n("p5Ee"));n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n){var r=this;this.http=e,this._store=t,this.localStorageService=n,this.defaultHeaders=new o.c,this.token="",this.allDevicesList=new i.EventEmitter,this.allDevicesList.subscribe(function(){r.token=r.localStorageService.get("AUTH_TOKEN"),console.log(r.token);var e=l.a.DEVICE_LIST_PATH;r.getDevicesList(e).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?r._store.dispatch({type:"All_DEVICES_LIST",payload:{error:"",res:e.list}}):r._store.dispatch({type:"All_DEVICES_LIST",payload:{error:"X",errorMsg:"Server error "+e.error}})},function(e){console.log(e),console.log(e.json()),r._store.dispatch({type:"All_DEVICES_LIST",payload:{error:"X",errorMsg:"http error "+e}})})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getDevicesList=function(e){var t=new o.c;console.log(this.token);var n="Bearer "+this.token;t.set("Content-Type","application/json"),t.set("authorization",n);var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e}();p=c([n.i(i.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(m=void 0!==a.LocalStorageService&&a.LocalStorageService)&&m||Object])],p);var u,h,m},"0Hkf":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"0Ti/":function(e,t){e.exports='<h1 md-dialog-title><u>Assign Vehicle</u></h1> \r\n<div md-dialog-content>\r\n  <p style="margin-left:30px">Device &nbsp;Id &nbsp;:<i>{{device.imei}}</i></p> \r\n  <div style="margin-left:30px" >\r\n    <label>Confirm Device Status&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp; </label>\r\n    <md-select  style="width: 50%" [(ngModel)]="deviceStatus" floatPlaceholder="never">\r\n        <md-option [value]="condition.value" *ngFor="let condition of deviceCondition">{{condition.viewName}}</md-option>\r\n    </md-select>\r\n  </div>\r\n</div>\r\n<div md-dialog-actions>\r\n  <div style="margin-left:auto;margin-right: 60px;margin-top: 50px;">\r\n      <button md-raised-button   style="margin-left:auto;margin-right: 30px;" (click)="closeDialog()" >Cancel</button>\r\n      <button md-raised-button  style="margin-left:auto;margin-right: 20px;" (click)="closeDialog()" >Confirm</button>\r\n  </div>\r\n  \r\n</div>'},"0aAO":function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc"),r=n("N2o7");n.n(r);n.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this._router=e,this.localStorageService=t,this.selectedView="shipment"}return e.prototype.ngOnInit=function(){},e.prototype.goToShipmentDashboardView=function(){this._router.navigate(["dashboard/shipmentStatus"])},e.prototype.goToDeviceDashboardView=function(){this._router.navigate(["dashboard/deviceDashboard"])},e.prototype.goTosettingView=function(){this._router.navigate(["dashboard/settingsComponent"])},e}();l=s([n.i(i.Component)({selector:"app-dashboard",template:n("HdoV"),styles:[n("cnme")]}),a("design:paramtypes",["function"==typeof(c=void 0!==o.b&&o.b)&&c||Object,"function"==typeof(d=void 0!==r.LocalStorageService&&r.LocalStorageService)&&d||Object])],l);var c,d},"1yj0":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".input{width:100%;padding:12px 20px;margin:8px 0;box-sizing:border-box;border:none}.my-map-search{left:3%;width:91%;position:absolute;z-index:10;margin-top:5px}",""]),e.exports=e.exports.toString()},"4oYn":function(e,t,n){"use strict";var i=n("/oeL");n.d(t,"a",function(){return r});var o=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=function(){function e(){}return e.prototype.transform=function(e,t){if(void 0===t||void 0===t[2]||void 0==t[1]||void 0==t[0])return[];if(!Array.isArray(e))return e;if(""==t[2])return e;console.log(t);var n=e.filter(function(e){return-1!=(""+e[t[1]]).toUpperCase().indexOf((""+t[2]).toUpperCase())||-1!=(""+e[t[0]]).toUpperCase().indexOf((""+t[2]).toUpperCase())});return console.log(n),n},e}();r=o([n.i(i.Pipe)({name:"searchFilter",pure:!0})],r)},"4okT":function(e,t,n){"use strict";var i=n("/oeL");n.d(t,"a",function(){return r});var o=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=function(){function e(){}return e.prototype.transform=function(e,t){return void 0===t||void 0==t[1]||void 0==t[0]?[]:Array.isArray(e)?""==t[1]?e:(console.log(t),console.log(t),e.filter(function(e){return-1!=e.device[t[0]].toUpperCase().indexOf(t[1].toUpperCase())})):e},e}();r=o([n.i(i.Pipe)({name:"deviceType",pure:!0})],r)},"5h84":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"5myt":function(e,t,n){"use strict";var i=n("/oeL"),o=n("Z04r"),r=n("JgC9"),s=n("BkNc"),a=n("N2o7"),l=(n.n(a),n("xzyi")),c=n("xOQS");n.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,i,o,r,s){var a=this;this._router=e,this.localStorageService=t,this.snackBar=n,this._store=i,this.shipmentServices=o,this.trackerService=r,this.route=s,this.view="",this.isSpinner=!1,this.isExpand=!1,this.isDisconnectDialog=!1,this.isStartTimeDisable=!1,this.isEditTripLocationDialog=!1,this.movementLogs={},this.tripView="list",this.forConfirmPlace="",this.validationErrorMgs="",this.upSideHeight="0px",this.unSub_vehicleTripDetails=null,this.selectedConfirmLocation={},this.startTime=null,this.tillTime=null,this.tillTimeCheck=null,this.forEditPlace="",this.unSub_customerDetails=null,this.unSub_closeDialog=null,this.isDelayed=!1,this.vehicleStatus="",this.unSub_shipmentDetail=null,this.isExtended=!1,this.selectedShipment={},this.currentShipment={},this.selectedShipmentClone={},this.view="web",console.log(this.view),this.unSub_shipmentDetail=this._store.select("shipmentDetail").subscribe(function(e){if(console.log(e),null!=e&&(a.isSpinner=!1,a.selectedShipment=e.res,console.log(a.selectedShipment),a.selectedShipmentClone=e.res,console.log(a.selectedShipmentClone),null!=a.selectedShipment.vts)){if(a.selectedShipment.vts._stateDuration=a.msToTime(a.selectedShipment.vts.endTime-a.selectedShipment.vts.startTime),null!=a.selectedShipment.currentShipment&&(a.selectedShipment.currentShipment._transiteTime=a.msToTime(a.selectedShipment.currentShipment.planedEndTime-a.selectedShipment.currentShipment.planedStartTime),console.log(a.selectedShipment.currentShipment._transiteTime)),"WaitingForLoad"==a.selectedShipment.vts.state)a.vehicleState="Waiting For Load";else if("EnrouteForPickUp"==a.selectedShipment.vts.state)a.vehicleState="Enroute for Pickup";else if("AtPickUpPoint"==a.selectedShipment.vts.state)a.vehicleState="At Pickup Point";else if("EnrouteForDestination"==a.selectedShipment.vts.state){if(a.vehicleState="Enroute for Delivery",null!=a.selectedShipment.currentShipment&&(a.selectedShipment.currentShipment.startLocation._loadingDuration=a.msToTime(a.selectedShipment.currentShipment.startLocation.tillTime-a.selectedShipment.currentShipment.startLocation.fromTime)),console.log(a.selectedShipment.movementLegs),null!=a.selectedShipment.movementLegs){for(var t=0,n=0,i=0,o=0,r=0;r<a.selectedShipment.movementLegs.length;r++)t+=a.selectedShipment.movementLegs[r].totalDistance,n+=a.selectedShipment.movementLegs[r].totalTime,a.selectedShipment.movementLegs[r]._totalDuration=a.msToTime(a.selectedShipment.movementLegs[r].totalTime),"Stopped"==a.selectedShipment.movementLegs[r].state&&i++,"Disconnected"==a.selectedShipment.movementLegs[r].state&&o++;a.movementLogs.totalTravlingDistance=t,a.movementLogs._totalTravlingDistance=t/1e3,a.movementLogs.totalTravlingTime=n,a.movementLogs._totalTravlingTime=a.msToTime(n),a.movementLogs.disconnected=o,a.movementLogs.stopped=i,console.log(a.movementLogs)}}else if("AtDestination"==a.selectedShipment.vts.state&&(a.vehicleState="At Delivery Point",null!=a.selectedShipment.currentShipment&&(a.selectedShipment.currentShipment.startLocation._loadingDuration=a.msToTime(a.selectedShipment.currentShipment.startLocation.tillTime-a.selectedShipment.currentShipment.startLocation.fromTime),a.tillTimeCheck=a.selectedShipment.currentShipment.endLocation.tillTime),null!=a.selectedShipment.movementLegs)){for(var t=0,n=0,i=0,o=0,r=0;r<a.selectedShipment.movementLegs.length;r++)t+=a.selectedShipment.movementLegs[r].totalDistance,n+=a.selectedShipment.movementLegs[r].totalTime,a.selectedShipment.movementLegs[r]._totalDuration=a.msToTime(a.selectedShipment.movementLegs[r].totalTime),"Stopped"==a.selectedShipment.movementLegs[r].state&&i++,"Disconnected"==a.selectedShipment.movementLegs[r].state&&o++;a.movementLogs.totalTravlingDistance=t,a.movementLogs._totalTravlingDistance=t/1e3,a.movementLogs.totalTravlingTime=n,a.movementLogs._totalTravlingTime=a.msToTime(n),a.movementLogs.disconnected=o,a.movementLogs.stopped=i,console.log(a.movementLogs)}console.log(a.selectedShipment)}}),this.unSub_closeDialog=i.select("closeDialog").subscribe(function(e){console.log(e),a.isEditTripLocationDialog=e.isClose})}return e.prototype.ngAfterViewChecked=function(){var e=document.getElementById("expandable-box");if(null!=e){var t=e.getBoundingClientRect();this.upSideHeight=0-(t.height+150)+"px"}},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this._store.dispatch({type:"IS_BACK",payload:{isBack:!1,backToComponent:""}}),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_vehicleTripDetails&&null!=this.unSub_vehicleTripDetails&&void 0!=this.unSub_vehicleTripDetails&&this.unSub_vehicleTripDetails.unsubscribe(),void 0!==this.unSub_closeDialog&&null!=this.unSub_closeDialog&&void 0!=this.unSub_closeDialog&&this.unSub_closeDialog.unsubscribe()},e.prototype.goToEditTripPickupView=function(e,t){var n={selectedShipment:this.selectedShipmentClone,forEditPlace:e,tripName:t};this.localStorageService.set("SHIPMENT-TRIP-DETAIL-OBJ",n),this.forEditPlace=e,this.isEditTripLocationDialog=!0},e.prototype.msToTime=function(e){var t=e/1e3,n=Math.floor(t%60);t/=60;var i=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:i>0?s=s+i+"min":(n>0&&""==s&&(s=s+n+" sec"),""==s?"0 sec":s)},e.prototype.openConfirmPointDialog=function(e){this.forConfirmPlace=e,this.validationErrorMgs="",console.log(e),this.isDisconnectDialog=!0,console.log(this.selectedShipment),"EnrouteForDestination"==this.selectedShipment.vts.state||"AtDestination"==this.selectedShipment.vts.state?(null!=this.selectedShipment.currentShipment.endLocation.fromTime&&(this.startTime=new Date(this.selectedShipment.currentShipment.endLocation.fromTime)),this.selectedShipment.currentShipment.endLocation.tillTime&&(this.tillTime=new Date(this.selectedShipment.currentShipment.endLocation.tillTime))):"EnrouteForPickUp"!=this.selectedShipment.vts.state&&"AtPickUpPoint"!=this.selectedShipment.vts.state||(null!=this.selectedShipment.currentShipment.startLocation.fromTime&&(this.startTime=new Date(this.selectedShipment.currentShipment.startLocation.fromTime)),console.log(this.startTime),null!=this.selectedShipment.currentShipment.startLocation.tillTime&&(this.tillTime=new Date(this.selectedShipment.currentShipment.startLocation.tillTime))),"EnrouteForDestination"==this.selectedShipment.vts.state||"EnrouteForPickUp"==this.selectedShipment.vts.state?(this.isStartTimeDisable=!1,this.startTime=null,this.tillTime=null):"AtDestination"!=this.selectedShipment.vts.state&&"AtPickUpPoint"!=this.selectedShipment.vts.state||(this.isStartTimeDisable=!0)},e.prototype.confirmPlace=function(){var e=this;if(this.checkValid()){var t=null;if(null!=this.tillTime){if(t=new Date(this.tillTime).getTime(),console.log(t),t<new Date(this.startTime).getTime())return void(this.validationErrorMgs="start Time should not be greater then end Time");if(t>(new Date).getTime())return void(this.validationErrorMgs="End time should not be greater then current date")}this.isDisconnectDialog=!1;var n=void 0;n="Tracker"==this.selectedShipment.currentShipment.trackingType?"tracker":"trip",console.log(this.startTime);var i={forConfirmPlace:this.forConfirmPlace,conObj:{vehicleId:this.selectedShipment.currentShipment.vehicleId,deviceImei:this.selectedShipment.currentShipment.deviceImei,tripId:this.selectedShipment.vts.tripId,trackingType:n,startTime:new Date(this.startTime).getTime(),endTime:t}};console.log(i),this.trackerService.confirmLocation.emit(i),this.isSpinner=!0,setTimeout(function(){e.shipmentServices.getShipmentDetail.emit(e.selectedShipment.currentShipment.shipmentId)},1e3)}},e.prototype.checkValid=function(){if(this.isStartTimeDisable){if(console.log("in validate"+this.startTime),console.log(this.tillTime),null==this.startTime)return this.validationErrorMgs="Start Time should not be blank",!1;if(null==this.tillTime)return this.validationErrorMgs="End Time should not be blank",!1;var e=(new Date).getTime();if(new Date(this.startTime).getTime()>e)return this.validationErrorMgs="start time should not be greater then current date",!1}else{if(null==this.startTime)return this.validationErrorMgs="start time should not be blank",!1;var e=(new Date).getTime();if(new Date(this.startTime).getTime()>e)return this.validationErrorMgs="start time should not be greater then current date",!1}return!0},e}();u=d([n.i(i.Component)({selector:"app-tracker-shipment-status",template:n("oBJ/"),styles:[n("9vAs")]}),p("design:paramtypes",["function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(m=void 0!==a.LocalStorageService&&a.LocalStorageService)&&m||Object,"function"==typeof(g=void 0!==o.t&&o.t)&&g||Object,"function"==typeof(f=void 0!==r.b&&r.b)&&f||Object,"function"==typeof(v=void 0!==l.a&&l.a)&&v||Object,"function"==typeof(x=void 0!==c.a&&c.a)&&x||Object,"function"==typeof(b=void 0!==s.c&&s.c)&&b||Object])],u);var h,m,g,f,v,x,b},"72nY":function(e,t){e.exports='<div style="padding: 10px">\r\n  <span md-dialog-title>Confirm Device Return</span>\r\n\r\n  <div md-dialog-content style="font-size: 15px;">\r\n    <div  style="margin-left:40px;" >Device <b>{{device?.device?.imei}}</b> is allocated to Vehicle <b>{{device[\'shipment\']?.vehicleRegistrationNo}}</b></div>\r\n    <div style="margin-top: 10px;margin-left:40px;" >\r\n      <label style="vertical-align: -8px">Device Condition :</label>\r\n      <md-select  style="width: 140px;margin-left: 14px;" [(ngModel)]="deviceStatus" floatPlaceholder="never">\r\n        <md-option [value]="condition.value" *ngFor="let condition of deviceCondition">{{condition.viewName}}</md-option>\r\n      </md-select>\r\n    </div>\r\n  </div>\r\n\r\n  <div md-dialog-actions>\r\n    <button md-raised-button   (click)="closeDialog()" >Cancel</button>\r\n    <button md-raised-button color="primary" (click)="confirmDeviceReturnDialog()" >Confirm</button>\r\n  </div>\r\n\r\n</div>\r\n'},"7T+b":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"/*!*border: 1.5px solid #ccc;*!*/div{font-family:Helvetica}.container{padding:5px 10px 5px 5px;width:100%}md-card{padding:15px;font-family:Helvetica}.cards-toggle{height:30px;font-size:12px;margin-left:8px;width:13%}.cards-toggle div{text-align:center}.cards-toggle:hover{background-color:#5b89ff!important;color:#fff;cursor:pointer}\r\n  /*!*width: 15%;*!*/\r\n  /*!*float: left;*!*/\r\n/*!*border: 1.5px solid #ccc;*!*/.overlay{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.doughnut-chart{position:relative;margin-top:-19px;width:196px;margin-right:-43px}.expand-search{border:1.5px solid #b0bcc1;width:100%;font-size:12px;padding:5px 26px 5px 12px;display:inline-block;border-radius:17px;box-sizing:border-box;outline:none}.expand-search:focus{outline:none;border:1.5px solid #03a9f4}.doughnut-chart-label{padding:0 6px;font-size:10px;margin-right:5px}.custome-button button{height:26px;font-size:13px;line-height:26px;border-radius:5px}table{font-family:Helvetica;color:#46465f;font-size:11px;border-collapse:collapse;width:100%}td,th{border-right:1px solid #eee;text-align:center;padding:8px}.list-header1{color:#46465f;font-size:13px;font-weight:700;padding:8px;width:160%}.list-body1{font-size:12px;padding:8px}.list-body1 span{margin-left:5px}\r\n  /*!*background-color: #f1faff;*!*/\r\n  /*!*background-color: #f6f9fd;*!*/.select-row:hover{background-color:#f0f8ff}.button-align button{line-height:25px}.imgcontainer{padding-left:20px}.pagination-button{line-height:25px;min-width:0;padding:0 10px 0 10px;color:#46465f;background-color:#f5f5f5}.pagination-text{color:#828395;text-align:center!important;font-weight:bolder;font-size:14px;padding:0 5px;width:200px}.pagination-text span{display:inline-block;min-width:30px}md-option{height:35px;line-height:35px}.my-select{width:130px;padding:0 16px;vertical-align:6px}.add-button{width:22px;height:22px;line-height:22px}.customCheckBox>>>.mat-checkbox-inner-container{height:15px!important;width:15px!important}.customePaginator>>>.mat-paginator-range-label{min-width:92px}.my-download{color:#300202;cursor:pointer}.my-download:focus,.my-download:hover{color:rgba(193,208,234,.97);text-decoration:none;cursor:pointer}.download-csv{font-size:14px;vertical-align:8px;margin-left:13px}.change-mode-button{background-color:#42d35d;font-size:12px;line-height:26px;height:25px;border-radius:13px;color:#fff}",""]),e.exports=e.exports.toString()},"88wI":function(e,t){e.exports='\r\n<md-input-container style="width: 100%">\r\n  <input #tripLocation placeholder="Pick Freight Location" mdInput [(ngModel)]="locationName" (keyup)="searchName(tripLocation.value)" (click)="isSearchClicked=true; onFilterClick(\'PUBLIC\')"\r\n    onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;" required (blur)="hideList(true);hideDropdownMenu()" >\r\n  \x3c!--(blur)="hideDropdownMenu()"--\x3e\r\n</md-input-container>\r\n<br>\r\n\r\n\r\n<div *ngIf="isSearchClicked" style="z-index: 11; position:absolute; width: 100%;">\r\n  <div fxLayout="row" style = "margin: 0px 0px;background-color: whitesmoke;padding-top: 1%; padding-bottom: 1%;margin-top: -2%;">\r\n    \x3c!--style="border-right: solid; border-right-color:#aaaaaa;padding: 0px 5px"--\x3e\r\n    <div fxFlex="25" style="padding-left: 7%" >\r\n           <span [style.color]="clickFilter===\'PUBLIC\'?\'blue\':\'gray\'" (click)="hideList(false);onFilterClick(\'PUBLIC\')"><label style="font-size: smaller">Public</label></span>\r\n    </div>\r\n    <div fxFlex="50" style="padding-left: 11%">\r\n      <span [style.color]="clickFilter===\'MYLOCATIONS\'?\'blue\':\'gray\'" (click)="hideList(false);isHideList=false;onFilterClick(\'MYLOCATIONS\')"><label style="font-size: smaller">My Locations</label></span>\r\n    </div>\r\n    <div fxFlex="25">\r\n      <span [style.color]="clickFilter===\'FAVOURITES\'?\'blue\':\'gray\'" (click)="hideList(false);isHideList=false;onFilterClick(\'FAVOURITES\')"><label style="font-size: smaller">Favourite</label></span>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\x3c!--<md-select placeholder="Proximity/Boundary Selector" [(ngModel)]="selected_value" (change)="onSelection()" style="width:100%; margin-top: 18px;">--\x3e\r\n  \x3c!--<md-option value="add_boundary">Add Boundary</md-option>--\x3e\r\n  \x3c!--<md-option value="add_proximity">Add Proximity</md-option>--\x3e\r\n  \x3c!--<md-option value="both">Both</md-option>--\x3e\r\n\x3c!--</md-select>--\x3e\r\n<div style=" z-index: 9; overflow: hidden; position: relative; background-color: white; min-width: 100%; margin-top: 20px; margin-left: 0px;"\r\n  *ngIf="locationAvailable">\r\n  <div style="height: 250px; overflow-y: scroll;width: 100%">\r\n\r\n  <div *ngIf="isRecentAvailable">\r\n      <h4 style="height:0px">Recently Used</h4>\r\n    <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of recentLocationList">\r\n      <li (click)="setLocation(location)"><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i>{{location[\'name\']}}</li>\r\n    </ul>\r\n  </div>\r\n  \x3c!--location[\'freightLocation\'][\'name\']--\x3e\r\n  <h4 style="height:0px">Public</h4>\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let publiclocation of locationNameList;let ind=index">\r\n    <li>\r\n      <i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i>\r\n      <span (click)="setLocation(publiclocation)" >{{publiclocation[\'freightLocation\'][\'name\']}}</span>\r\n      <span style="float: right" (click)="setFavouriteLocation(publiclocation.freightLocation)">\r\n        <i  [style.color]="(publiclocation.freightLocation.isStared)?\'blue\':\'black\'" class="fa fa-star-o" aria-hidden="true" ></i>\r\n      </span>\r\n    </li>\r\n  </ul>\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;">\r\n    <li (click)="onAddLocation()">+add new location</li>\r\n  </ul>\r\n  </div>\r\n\r\n </div>\r\n\r\n<div style=" z-index: 9; overflow: visible; position: absolute; background-color: white; min-width: 100%; margin-top: 20px; margin-left: 0px;"\r\n  *ngIf="isPrivateLocationAvailable">\r\n\x3c!--\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of locationNameList">\r\n    <li (click)="setLocation(location)"><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i>{{location.freightLocation.name}}<span (click)="setLocation(location)"><i class="fa fa-star-o" aria-hidden="true" style="float: right"></i></span></li>\r\n  </ul> --\x3e\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of locationNameList">\r\n      <li><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i><span (click)="setLocation(location)">{{location.freightLocation.name}}</span><span style="float: right" (click)="setFavouriteLocation(location.freightLocation)"><i [style.color]="(location.freightLocation.isStared)?\'blue\':\'black\'" class="fa fa-star-o" aria-hidden="true" ></i></span></li>\r\n    </ul>\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;">\r\n    <li (click)="onAddLocation()">+add new location</li>\r\n  </ul>\r\n</div>\r\n\r\n<div style=" z-index: 9; overflow: visible; position: absolute; background-color: white; min-width: 100%; margin-top: 20px; margin-left: 0px;"\r\n  *ngIf="isFavouriteLocationAvailable">\r\n\r\n  \x3c!-- <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of locationNameList">\r\n    <li (click)="setLocation(location)"><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i>{{location.favFreightLocation.name}}</li>\r\n  </ul> --\x3e\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;" *ngFor="let location of locationNameList">\r\n      <li><i class="fa fa-map-marker" aria-hidden="true"  style="margin-right: 8px; font-size: 15px"></i><span (click)="setLocation(location)">{{location.favFreightLocation.name}}</span><span style="float: right" ><i [style.color]="(location.favFreightLocation.isStared)?\'blue\':\'black\'" class="fa fa-star-o" aria-hidden="true" (click)="removeFavouriteLocation(location)"></i></span></li>\r\n    </ul>\r\n\r\n  <ul style="list-style-type: none; padding: 0; margin: 0;">\r\n    <li (click)="onAddLocation()">+add new location</li>\r\n  </ul>\r\n</div>\r\n\r\n\r\n<div *ngIf="isDialogOpen" class="mycustomDialog-Location" style="padding-top: 70px;">\r\n  <div class="modal-content" style="width: 60%;min-width: 250px;overflow: hidden;max-width: 560px;height: calc(100vh - 140px);">\r\n    <div class="modal-header">\r\n      <span class="close" (click)="isDialogOpen=false; locationAvailable=false">&times;</span>\r\n      <div>\r\n        <label>Location</label>\r\n      </div>\r\n    </div>\r\n\r\n    <div style="padding: 5px;font-size: 13px;overflow: auto;width: calc(99vw - 16px);height: auto;">\r\n      <app-freight-location-creater [selectedValueFromParent]="selected_value" (onLocationCreation)="getFreightLocationObject($event)"></app-freight-location-creater>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"8Sw2":function(e,t,n){function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":"FQor","./af.js":"FQor","./ar":"EcI0","./ar-dz":"cw72","./ar-dz.js":"cw72","./ar-kw":"fu+8","./ar-kw.js":"fu+8","./ar-ly":"7CVz","./ar-ly.js":"7CVz","./ar-ma":"1dFW","./ar-ma.js":"1dFW","./ar-sa":"UxV2","./ar-sa.js":"UxV2","./ar-tn":"nm31","./ar-tn.js":"nm31","./ar.js":"EcI0","./az":"EbpX","./az.js":"EbpX","./be":"SQlX","./be.js":"SQlX","./bg":"R3V+","./bg.js":"R3V+","./bn":"cAX3","./bn.js":"cAX3","./bo":"dHgA","./bo.js":"dHgA","./br":"W7ww","./br.js":"W7ww","./bs":"lZ6K","./bs.js":"lZ6K","./ca":"udbC","./ca.js":"udbC","./cs":"oSQb","./cs.js":"oSQb","./cv":"yPEm","./cv.js":"yPEm","./cy":"PpYB","./cy.js":"PpYB","./da":"oiZG","./da.js":"oiZG","./de":"LYe6","./de-at":"KOG5","./de-at.js":"KOG5","./de-ch":"o3JY","./de-ch.js":"o3JY","./de.js":"LYe6","./dv":"OkYT","./dv.js":"OkYT","./el":"QFnp","./el.js":"QFnp","./en-au":"dBGl","./en-au.js":"dBGl","./en-ca":"vv0C","./en-ca.js":"vv0C","./en-gb":"IoCy","./en-gb.js":"IoCy","./en-ie":"qVAg","./en-ie.js":"qVAg","./en-nz":"FbT0","./en-nz.js":"FbT0","./eo":"y/6j","./eo.js":"y/6j","./es":"ivpd","./es-do":"DBbP","./es-do.js":"DBbP","./es.js":"ivpd","./et":"FrUj","./et.js":"FrUj","./eu":"LAVD","./eu.js":"LAVD","./fa":"J2cK","./fa.js":"J2cK","./fi":"5FCP","./fi.js":"5FCP","./fo":"jIZb","./fo.js":"jIZb","./fr":"Lq8I","./fr-ca":"ICRA","./fr-ca.js":"ICRA","./fr-ch":"QWmo","./fr-ch.js":"QWmo","./fr.js":"Lq8I","./fy":"Fbnp","./fy.js":"Fbnp","./gd":"zhFu","./gd.js":"zhFu","./gl":"o10m","./gl.js":"o10m","./gom-latn":"UoXv","./gom-latn.js":"UoXv","./he":"gbvS","./he.js":"gbvS","./hi":"+UQz","./hi.js":"+UQz","./hr":"qGYH","./hr.js":"qGYH","./hu":"hGGh","./hu.js":"hGGh","./hy-am":"1AR5","./hy-am.js":"1AR5","./id":"Ie9h","./id.js":"Ie9h","./is":"piS+","./is.js":"piS+","./it":"5P9/","./it.js":"5P9/","./ja":"3cRe","./ja.js":"3cRe","./jv":"vwCJ","./jv.js":"vwCJ","./ka":"R7aq","./ka.js":"R7aq","./kk":"d8hV","./kk.js":"d8hV","./km":"nCdc","./km.js":"nCdc","./kn":"5K8n","./kn.js":"5K8n","./ko":"1jN3","./ko.js":"1jN3","./ky":"74/W","./ky.js":"74/W","./lb":"XAyT","./lb.js":"XAyT","./lo":"w/Mz","./lo.js":"w/Mz","./lt":"IetG","./lt.js":"IetG","./lv":"CRPd","./lv.js":"CRPd","./me":"1mee","./me.js":"1mee","./mi":"yRr3","./mi.js":"yRr3","./mk":"bfn1","./mk.js":"bfn1","./ml":"r1ky","./ml.js":"r1ky","./mr":"+K6p","./mr.js":"+K6p","./ms":"asMk","./ms-my":"IcWU","./ms-my.js":"IcWU","./ms.js":"asMk","./my":"Isng","./my.js":"Isng","./nb":"FjNp","./nb.js":"FjNp","./ne":"P9zQ","./ne.js":"P9zQ","./nl":"pejQ","./nl-be":"c3/i","./nl-be.js":"c3/i","./nl.js":"pejQ","./nn":"ALD8","./nn.js":"ALD8","./pa-in":"1YTd","./pa-in.js":"1YTd","./pl":"Gs99","./pl.js":"Gs99","./pt":"eunO","./pt-br":"uHKL","./pt-br.js":"uHKL","./pt.js":"eunO","./ro":"1FZw","./ro.js":"1FZw","./ru":"Cy48","./ru.js":"Cy48","./sd":"+28k","./sd.js":"+28k","./se":"EiHj","./se.js":"EiHj","./si":"77bI","./si.js":"77bI","./sk":"BgyH","./sk.js":"BgyH","./sl":"K7sG","./sl.js":"K7sG","./sq":"pwQJ","./sq.js":"pwQJ","./sr":"N0T2","./sr-cyrl":"9OoP","./sr-cyrl.js":"9OoP","./sr.js":"N0T2","./ss":"Mh9L","./ss.js":"Mh9L","./sv":"YZAt","./sv.js":"YZAt","./sw":"/7jV","./sw.js":"/7jV","./ta":"VKBt","./ta.js":"VKBt","./te":"TIcV","./te.js":"TIcV","./tet":"BlC1","./tet.js":"BlC1","./th":"Zi3L","./th.js":"Zi3L","./tl-ph":"D4Y9","./tl-ph.js":"D4Y9","./tlh":"muBP","./tlh.js":"muBP","./tr":"82s3","./tr.js":"82s3","./tzl":"vjXv","./tzl.js":"vjXv","./tzm":"Vhfe","./tzm-latn":"m0Pg","./tzm-latn.js":"m0Pg","./tzm.js":"Vhfe","./uk":"Y3Ex","./uk.js":"Y3Ex","./ur":"4DIg","./ur.js":"4DIg","./uz":"wDue","./uz-latn":"Li28","./uz-latn.js":"Li28","./uz.js":"wDue","./vi":"UbP6","./vi.js":"UbP6","./x-pseudo":"fQLM","./x-pseudo.js":"fQLM","./yo":"evMD","./yo.js":"evMD","./zh-cn":"DV5H","./zh-cn.js":"DV5H","./zh-hk":"iEKH","./zh-hk.js":"iEKH","./zh-tw":"X9uL","./zh-tw.js":"X9uL"};i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="8Sw2"},"9g6G":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"9u0M":function(e,t){e.exports='<div class="slow-down">\r\n  \x3c!-- <div> --\x3e\r\n    \x3c!-- <section class="my-map-search"> --\x3e\r\n      \x3c!-- <input id="pac-input" class="controls" type="text" placeholder="Search Box"> --\x3e\r\n      \x3c!-- <i class="fa fa-search" aria-hidden="true" style="right: 30px; margin-top: 7px;font-size: 15px; position: absolute"></i>\r\n      <input id="pac-input" type="text" class="search" mdTooltip="search Here" placeholder="\'Search\'">\r\n    </section> --\x3e\r\n\r\n    \x3c!-- ************************ map start here  ******************************************** --\x3e\r\n    <div style="display:flex">\r\n        <div>\r\n            <section class="my-map-search">\r\n                \x3c!-- <input id="pac-input" class="controls" type="text" placeholder="Search Box"> --\x3e\r\n                <i class="fa fa-search" aria-hidden="true" style="right: 20px; margin-top: 7px;font-size: 15px; position: absolute"></i>\r\n                <input id="pac-input" type="text" class="search" mdTooltip="search Here" placeholder="\'Search\'">\r\n              </section>\r\n          <section style="position:absolute;z-index:10; left:5px; margin-top :30px;">\r\n            <md-button-toggle-group class="my-toggle" #group="mdButtonToggleGroup" [(ngModel)]="mapType">\r\n              <md-button-toggle value="hybrid">\r\n                <span>\'Satellite\'</span>\r\n              </md-button-toggle>\r\n              <md-button-toggle value="roadmap" style="background-color:floralwhite;opacity: .6;">\r\n                <span>\'Map\'</span>\r\n              </md-button-toggle>\r\n            </md-button-toggle-group>\r\n          </section>\r\n\r\n          <agm-map [mapTypeId]="mapType" style="height: 38vh; width : 80vh" [latitude]="latitude" [longitude]="longitude" [zoom]="5">\r\n            <agm-marker [latitude]="latitude" [longitude]="longitude">\r\n            </agm-marker>\r\n          </agm-map>\r\n        </div>\r\n      </div>\r\n    \x3c!-- ************************ map end here  ******************************************** --\x3e\r\n    <div fxLayout="column">\r\n        <div fxFlex=50>\r\n          <md-input-container style="width:100%">\r\n              <input placeholder="Name" [(ngModel)]= "name" mdInput required>\r\n            </md-input-container>\r\n          </div>\r\n          <div fxFlex=50>\r\n            <md-input-container style="width:100%">\r\n                <input placeholder="Address" [disabled]="true" [(ngModel)]="address" mdInput required>\r\n              </md-input-container>\r\n            </div>\r\n      </div>\r\n      <div *ngIf="isSearched" >\r\n          <md-radio-group value="radioSelector" >\r\n            <div fxLayout="row">\r\n              <div *ngIf="toAddBoundary" fxFlex=40>\r\n                <md-radio-button [value]="bundary" (change)="onAddLocation()">Add Boundary</md-radio-button>\r\n              </div>\r\n\r\n              <div *ngIf = "toAddProximity" fxFlex=40>\r\n                <md-radio-button [value]="proximity" (change)=" onAddProximity()"> Add Proximity </md-radio-button>\r\n              </div>\r\n\r\n              <div fxFlex="20"></div>\r\n            </div>\r\n          </md-radio-group>\r\n        </div>\r\n    <div *ngIf = "isVisible" >\r\n        <md-input-container style="width: 100%;" >\r\n            <input placeholder="radius(in meters)" [(ngModel)]="radius" mdInput required (keyup)="onKeyEvent($event)">\r\n          </md-input-container>\r\n    </div>\r\n    <div style="float : left; margin-top: 0px" >\r\n        \x3c!-- <button md-raised-button  (click)="cancel()" style="margin-right: 15px">{{\'Cancel\' | translate}}</button> --\x3e\r\n        <button md-raised-button (click)="saveLocation()"  >Save</button>\r\n    </div>\r\n    <div>\r\n  \x3c!-- </div> --\x3e\r\n'},"9vAs":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,'.top-header{background-color:#3f51b5;width:100%;padding-bottom:3px}md-card{padding:9px;min-width:250px}div{font-family:Helvetica!important}.confirm-location{padding:22px;min-height:100px;max-height:200px;border:1px solid #d1d1d1;min-width:175px}.my-hr{border-style:ridge;border-width:1px;margin-top:6px;min-width:250px;margin-bottom:3px}.timeline-icon{top:50px}.timeline-icon,.timeline-image{position:absolute;left:71px}.wfl-imeline-image{position:absolute;left:50px;color:#428fd4}.EFP_icon{position:absolute;height:100%;margin-left:54px}.EFP_timeline_icon{position:absolute;background-color:#fff;left:48px;top:-6px;font-size:18px}.cd-timeline{position:relative}.cd-timeline:before{bottom:37px;content:"";position:absolute;border-radius:1px;left:85px;height:100%;width:1.4px;background:#9b9b9b}.wfl-timeline{position:relative}.wfl-timeline:before{content:"";position:absolute;border-radius:1px;left:55px;height:100%;width:3.4px;background:#428fd4}.DP-timeline{position:relative}.DP-timeline:before{top:-17px;content:"";position:absolute;border-radius:1px;left:85px;height:100%;width:3.4px;background:#428fd4}.DP_timeline-image{position:absolute;left:66px;color:#428fd4;font-size:25px;margin-top:10px}.unvisited-timeline{position:relative}.unvisited-timeline:before{content:"";position:absolute;border-radius:1px;left:85px;height:100%;border-left:1.4px dashed #9b9b9b}.EFP_unvisited-timeline{position:relative}.EFP_unvisited-timeline:before{top:15px;content:"";position:absolute;border-radius:1px;left:55px;height:100%;border-left:1.4px dashed #d0d0d0}.timeline-header{text-align:center;display:-ms-grid;display:grid;margin:-8px -8px 2px -8px;box-shadow:0 1px 1px #999;padding:10px;display:list-item}.show-down-Slowly{margin-top:8px!important;transition:margin-top .3s;-webkit-transition:margin-top .3s}.data-box{margin-left:8px;width:98%;font-size:11px;color:#9b9b9b}.hide-up-Slowly{transition:margin-top .3s;-webkit-transition:margin-top .3s}.vehicle-no{font-size:20px;color:hsla(0,0%,100%,.94);margin-left:10px}.vehicle-status-trip{background-color:#a1f2f5}.vehicle-status-tracker,.vehicle-status-trip{margin-top:10px;padding:4px;text-align:center;font-size:18px;color:#fff}.vehicle-status-tracker{background-color:#4a6ad8}.current-vehicle-card{background-color:#8398ba;color:#fff;padding-top:15px;padding-bottom:19px;margin-bottom:13px}.driver-name{margin-left:auto;font-size:15px;color:hsla(0,0%,100%,.87);padding:2px 8px}.driver-name-web{font-size:13px;padding:2px 8px}.phone-icon{margin-left:8px;color:#fff;font-size:16px}.alert-box{font-size:13px;line-height:1.67;color:rgba(0,0,0,.54)}.disconnected{margin-top:10px;background-color:#ff5252;border:1px solid #ff5252;color:#fff;font-size:18px;text-align:center;padding:3px;cursor:pointer}.time{color:#9b9b9b;text-align:center;display:-ms-grid;display:grid;font-size:11px;min-width:50px;max-width:60px;overflow:hidden}.rotate{-webkit-transform:rotate(90deg);transform:rotate(90deg);font-size:13px}.travling-time{position:absolute;margin-left:-133px;display:-ms-grid;display:grid;text-align:center;height:100%;min-width:50px;max-width:68px;margin-top:-15px}',""]),e.exports=e.exports.toString()},AqEY:function(e,t,n){"use strict";var i=n("/oeL"),o=n("JgC9"),r=n("Z04r");n.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){var n=this;this.dialogRef=e,this._store=t,this.deviceCondition=[{viewName:"Repaired",value:"repaired"},{viewName:"Damaged",value:"damaged"},{viewName:"Sent For Replacment",value:"replacment"}],this.deviceStatus="repaired",this.unSub_deviceDetail=null,this.unSub_deviceDetail=this._store.select("deviceDetails").subscribe(function(e){null!=e&&(null==e.error||(n.device=e.data,console.log(n.device)))})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_deviceDetail&&null!=this.unSub_deviceDetail&&void 0!=this.unSub_deviceDetail&&this.unSub_deviceDetail.unsubscribe()},e.prototype.onNoClick=function(){this.dialogRef.close()},e.prototype.closeDialog=function(){this.dialogRef.close("Pizza!")},e}();l=s([n.i(i.Component)({selector:"app-mark-as-required",template:n("0Ti/"),styles:[n("0Hkf")]}),a("design:paramtypes",["function"==typeof(c=void 0!==r.u&&r.u)&&c||Object,"function"==typeof(d=void 0!==o.b&&o.b)&&d||Object])],l);var c,d},BHPq:function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc");n.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this._router=e}return e.prototype.ngOnInit=function(){},e.prototype.goToManageOrganisation=function(){this._router.navigate(["dashboard/manageOrganisation"])},e}();a=r([n.i(i.Component)({selector:"app-settings-component",template:n("q2v8"),styles:[n("9g6G")]}),s("design:paramtypes",["function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],a);var l},DPIF:function(e,t){e.exports='<md-card style="cursor: pointer" (click)="goToShipmentGroupsManagement()">\r\n  <md-card-content>\r\n    <div>\r\n      <label><b>Shipment Groups</b></label>\r\n    </div>\r\n  </md-card-content>\r\n</md-card>\r\n\r\n<md-card style="cursor: pointer" (click)="goToUserManagement()">\r\n  <md-card-content>\r\n    <div>\r\n      <label><b>Members</b></label>\r\n    </div>\r\n  </md-card-content>\r\n</md-card>\r\n'},EHWr:function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc"),r=n("JgC9"),s=n("mRFw"),a=n("Z04r");n.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,n,i){var o=this;this._router=e,this._store=t,this.snackBar=n,this.shipmentMgmtService=i,this.unSub_customerDetails=null,this.isSpinner=!1,this.unSub_shipmentGroupList=null,this.unSub_createGroupRes=null,this.isShowAddNewGroupDialog=!1,this.shipmentGrpList=[],this.groupName="",this.customerDetails=null,this.unSub_customerDetails=t.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&(console.log(e.customer.orgId),o.customerDetails=e.customer,o.isSpinner=!0,o.shipmentMgmtService.getAllShipmentGroupsList.emit(e.customer.orgId))}),this.unSub_shipmentGroupList=t.select("shipmentGroupList").subscribe(function(e){console.log(e),null!=e&&(o.isSpinner=!1,""==e.error?(console.log(e.res),o.shipmentGrpList=e.res):o.openSnackBar(e.errorMsg))}),this.unSub_createGroupRes=this._store.select("createGroupRes").subscribe(function(e){console.log(e),null!=e&&(""==e.error?(console.log(e.res),o.openSnackBar("Group created successfully"),null!=o.customerDetails.orgId&&(o.isSpinner=!0,o.groupName="",o.shipmentMgmtService.getAllShipmentGroupsList.emit(o.customerDetails.orgId))):o.openSnackBar(e.errorMsg))})}return e.prototype.ngOnDestroy=function(){void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_shipmentGroupList&&null!=this.unSub_shipmentGroupList&&void 0!=this.unSub_shipmentGroupList&&this.unSub_shipmentGroupList.unsubscribe(),void 0!==this.unSub_createGroupRes&&null!=this.unSub_createGroupRes&&void 0!=this.unSub_createGroupRes&&this.unSub_createGroupRes.unsubscribe()},e.prototype.ngOnInit=function(){},e.prototype.createNewGroup=function(){if(this.checkValidation()){this.isShowAddNewGroupDialog=!1;var e={orgId:this.customerDetails.orgId,groupName:this.groupName,groupType:"shipmentGroup"};console.log(e),this.shipmentMgmtService.createNewShipmentGroup.emit(e)}},e.prototype.checkValidation=function(){return""==this.groupName?(this.openSnackBar("Please fill Group name"),!1):null!=this.customerDetails.orgId||(this.openSnackBar("Please refresh page or login again"),!1)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:4e3})},e}();d=l([n.i(i.Component)({selector:"app-shipment-management",template:n("pZW2"),styles:[n("Pita")]}),c("design:paramtypes",["function"==typeof(p=void 0!==o.b&&o.b)&&p||Object,"function"==typeof(u=void 0!==r.b&&r.b)&&u||Object,"function"==typeof(h=void 0!==a.t&&a.t)&&h||Object,"function"==typeof(m=void 0!==s.a&&s.a)&&m||Object])],d);var p,u,h,m},FUpZ:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"md-card{padding-top:0}.align-center{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-ms-grid;display:grid}.modal{position:fixed;z-index:99999;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%}.close{color:#aaa;float:right;font-size:28px;font-weight:700}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}",""]),e.exports=e.exports.toString()},Fjm3:function(e,t){e.exports='<div>\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n<div style="overflow: auto; height: calc( 100vh - 50px)">\r\n  <div *ngFor="let users of allUsersList" >\r\n<md-card>\r\n  <md-card-content>\r\n  <div fxLayout="row" fxLayoutAlign="center stretch">\r\n    <div fxFlex="50"><h3>{{users[\'user\'][\'name\']}}</h3></div>\r\n    <div fxFlex="40"><h3>{{users[\'accessLevel\']}}</h3></div>\r\n    <div fxFlex="10">\r\n      <button md-icon-button (click)="deleteUserConfirmationBox(users)">\r\n      <i class="fa fa-trash" aria-hidden="true" style="font-size: large" ></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div fxLayout="row">\r\n    <div fxFlex="50"><span><label><b>{{users[\'user\'][\'email\']}}</b></label></span></div>\r\n    <div fxFlex="40"><span><label><b>{{users[\'user\'][\'mobileNumber\']}}</b></label></span></div>\r\n      <div fxFlex="10">\r\n        <md-slide-toggle [checked]="users[\'accessLevel\']== \'admin\'" (change)="changeUserStatus(users)" ></md-slide-toggle>\r\n        \x3c!--<md-slide-toggle [checked]="schedule[\'activeStatus\']" (change)="changeScheduleState(schedule)" ></md-slide-toggle>--\x3e\r\n      </div>\r\n  </div>\r\n\r\n    \x3c!--<div fxLayout="row">--\x3e\r\n      \x3c!--<div fxFlex="50"><span><label><b>Active since </b>2 months</label></span></div>--\x3e\r\n      \x3c!--<div fxFlex="50"></div>--\x3e\r\n    \x3c!--</div>--\x3e\r\n\r\n  </md-card-content>\r\n</md-card>\r\n  </div>\r\n  <div style="height: 50px;width: 100%"></div>\r\n</div>\r\n\r\n  <button md-fab color="primary" style="position: absolute;bottom:10px;right: 10px"  (click)="showInviteUser()" >\r\n    <i class="fa fa-plus" aria-hidden="true" style="font-size: 20px;color: white "></i>\r\n  </button>\r\n</div>\r\n\r\n\x3c!--Invite User Modal  starts here--\x3e\r\n<div  *ngIf="isShowInviteUser" id="myParameterModal" class="modal">\r\n  \x3c!--Invite User Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowInviteUser=false">&times;</span>\r\n    <h3 style="text-align: center"> Add User</h3>\r\n\r\n    <md-tab-group>\r\n      <md-tab label="By Email">\r\n        <div style="width: 100%">\r\n          <md-input-container style="width:85%" >\r\n            <input placeholder="Email Id"  mdInput required [(ngModel)]="emailId" >\r\n          </md-input-container>\r\n        </div>\r\n      </md-tab>\r\n      <md-tab label="By Mobile">\r\n        <div style="width: 100%">\r\n          <md-input-container style="width:85%" >\r\n            <input placeholder="Mobile Number"  mdInput required [(ngModel)]="mobileNo" onkeydown="if(event.target.value.length>=10 && event.keyCode!=8 && event.keyCode!=13 )return false;" >\r\n          </md-input-container>\r\n        </div>\r\n      </md-tab>\r\n    </md-tab-group>\r\n\r\n    <div>\r\n      <button md-raised-button color="primary" (click)="confirmAddUser()">Add</button>\r\n      <button md-button (click)="isShowInviteUser=false">Cancel</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--Invite user Modal ends here--\x3e\r\n\r\n\r\n\x3c!--Invite User Modal  starts here--\x3e\r\n<div  *ngIf="isShowUserDetails" id="userDetailsModal" class="modal">\r\n  \x3c!--Invite User Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowUserDetails=false">&times;</span>\r\n    <h3 style="text-align: center">User Details</h3>\r\n    <div>\r\n      <div style="width: 100%" *ngIf="isShowExistingUserDetails">\r\n        <label><b>Name : </b> {{existingUserName}} </label><br>\r\n        <label><b>Email : </b> {{existingUserEmail}} </label><br>\r\n        <label><b>Number : </b> {{existingUserMobile}} </label>\r\n      </div>\r\n\r\n      <div style="width: 100%" *ngIf="!isShowExistingUserDetails">\r\n        <h4>Invited User is not registered with FRETRON Platform. Kindly ask the user to sign up first.</h4>\r\n      </div>\r\n    </div>\r\n    <div style="margin-top: 2%">\r\n      <button md-raised-button color="primary" (click)="addUser()">OK</button>\r\n      <button md-button (click)="isShowUserDetails=false">Cancel</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--Invite user Modal ends here--\x3e\r\n\r\n\r\n\x3c!--Delete User Modal  starts here--\x3e\r\n<div  *ngIf="isShowDeleteUserConfirmation" id="deleteUserModal" class="modal">\r\n  \x3c!--Invite User Modal content --\x3e\r\n  <div class="modal-content">\r\n    <span class="close" (click)="isShowDeleteUserConfirmation=false">&times;</span>\r\n    <h3 style="text-align: center">Confirm Delete</h3>\r\n    <div>\r\n      <div style="width: 100%">\r\n      <label>Are you sure to delete selected user?</label>\r\n      </div>\r\n    </div>\r\n    <div style="margin-top: 2%">\r\n      <button md-raised-button color="primary" (click)="deleteSelecetdUser()" >YES</button>\r\n      <button md-button (click)="isShowDeleteUserConfirmation=false">NO</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!--Delete user Modal ends here--\x3e\r\n\r\n\r\n\r\n'},HHUf:function(e,t){e.exports='\r\n<div style="overflow: hidden;height: 100vh;">\r\n      <div  fxLayout="row" style="padding: 9px;">\r\n        <div  fxFlex="33" >\r\n          <div  style="display:flex;" >\r\n            <label class="stepperIcon" [style.background-color]="steperNo >= 1 ?\'#3f51b5\':\'grey\'" >\r\n              <span style="position: absolute;margin-left: -4px;margin-top: -8px;">1</span>\r\n            </label>\r\n            \x3c!--<hr>--\x3e\r\n            <span style="margin-left: 5px">Enter Shipment Detail</span>\r\n          </div>\r\n        </div>\r\n        <div fxFlex="33">\r\n          <div style="text-align: center;display: flex;" >\r\n            <label class="stepperIcon" [style.background-color]="steperNo >= 2 ?\'#3f51b5\':\'grey\'" >\r\n              <span style="position: absolute;margin-left: -4px;margin-top: -8px;">2</span>\r\n            </label>\r\n            \x3c!--<hr>--\x3e\r\n            <span style="margin-left: 5px">Add Vehicle Tracking device</span>\r\n            \x3c!--<span style="margin-left: 5px">Tracking Configuration</span>--\x3e\r\n          </div>\r\n        </div>\r\n\r\n        <div fxFlex="33">\r\n          <div  style="display: flex;" >\r\n            <label class="stepperIcon" [style.background-color]="steperNo == 3 ?\'#3f51b5\':\'grey\'" >\r\n              <span style="position: absolute;margin-left: -4px;margin-top: -8px;">3</span>\r\n            </label>\r\n            <span style="margin-left: 5px">Add Driver Details</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style="overflow:auto;height: calc(100vh - 80px);">\r\n        <div *ngIf="steperNo == 1" style="padding: 30px;font-size: 13px;" >\r\n          \r\n          <div>\r\n            <app-freight-location-picker [inputType]="\'origin\'"    [locationFromTemplate]="selectedTemplateLocation" [pickerLocationType]="typeOfLocationCreator" (onLocationPick)=\'setOriginLocation($event)\' ></app-freight-location-picker>\r\n          </div>\r\n          \x3c!--(click)="tripOriginDialog()"--\x3e\r\n           \r\n          <div>\r\n            <app-freight-location-picker [inputType]="\'destination\'"  [locationFromTemplate]="selectedTemplateLocation" [pickerLocationType]="typeOfLocationCreator" (onLocationPick)=\'setDestinationLocation($event)\' ></app-freight-location-picker>\r\n          </div>\r\n           \x3c!--(click)="tripOriginDialog()"--\x3e\r\n            \r\n           \r\n\r\n\r\n          <div class="element" >\r\n            <md-input-container style="width: 100%;">\r\n              <input style="width: 100%;" placeholder="Shipment Number" mdInput [(ngModel)]="shipmentNumber" name="shipmentNumber" id="shipmentNumber">\r\n            </md-input-container>\r\n          </div>\r\n\r\n\r\n          <div class="element" >\r\n            <md-input-container style="width: 100%;">\r\n              <input style="width: 100%;" placeholder="Consignment Number" mdInput [(ngModel)]="consignmentNumber" name="consignmentNumber"\r\n                     id="consignmentNumber">\r\n            </md-input-container>\r\n          </div>\r\n\r\n          <div fxLayout="row" >\r\n            <div fxFlex="48" style="margin-top: 12px">\r\n              <owl-date-time mdInput [autoClose]=true [(ngModel)]="plannedStartDate" placeHolder="Planned Start Date"></owl-date-time>\r\n            </div>\r\n            <div fxFlex="48" style="margin-left: auto">\r\n              <md-input-container style="width: 100%;">\r\n                <input type="number" placeholder="Transit Days" mdInput  [(ngModel)]="transitDays" name="transitDays" id="transitDays">\r\n              </md-input-container>\r\n            </div>\r\n          </div>\r\n\r\n          \r\n          <div fxLayout="row" class="element" >\x3c!-- *ngFor="let item of itemList" --\x3e\r\n            <div fxFlex="48" style="margin-top: 4px">\r\n              <md-input-container style="width: 90%;">\r\n                <input style="width: 100%;" placeholder="Quantity" mdInput  [(ngModel)]="quantity" name="quantity" id="quantity">\r\n              </md-input-container>\r\n            </div>\r\n\r\n            <div fxFlex="48" style="margin-top: 11px">\r\n              <md-select  placeholder="Measurement Type" style="width: 80%" [(ngModel)]="mesurementType" (change)="selectMesurementType()" >\r\n                <md-option *ngFor="let mesurement of mesurements" [value]="mesurement.name" >\r\n                   {{mesurement.viewValue}}\r\n                </md-option>\r\n              </md-select>\r\n            </div>\r\n            <div fxFlex="48" style="margin-top: 11px" *ngIf="isShowUnits">\r\n              <md-select  placeholder="Select Units" style="width: 60%" [(ngModel)]="selectedUnit" floatPlaceholder="never">\r\n                <md-option *ngFor="let unit of selectUnit" [value]="unit">\r\n                   {{unit}}\r\n                </md-option>\r\n              </md-select>\r\n            </div>\r\n            <div fxFlex="48" style="margin-top: 7px" *ngIf="isShowUnitInput">\r\n                <md-input-container style="width: 90%;">\r\n                    <input style="width: 60%;" placeholder="No. Of Package" mdInput  [(ngModel)]="selectedUnit" >\r\n                  </md-input-container>\r\n            </div>\r\n          </div>\r\n          \x3c!-- <div style="width: 100%;margin-top: 10px;text-align:right;">\r\n            <button md-raised-button  class="change-mode-button" style="background-color: #bebebe;" (click)="addItem()">+add</button>\r\n         </div> --\x3e\r\n          \r\n\r\n\r\n          <div style="margin-top: 10px;">\r\n            <md-input-container style="width: 100%;">\r\n              <input style="width: 100%;" placeholder="Vehicle Number" mdInput [(ngModel)]="vehicleNumber" name="vehicleNumber" id="vehicleNumber">\r\n            </md-input-container>\r\n          </div>\r\n\r\n          <div style="margin-top: 20px;text-align: right;">\r\n            <button md-raised-button color="primary" (click)="step2();convertTime();">Next</button>\r\n            \x3c!--<button md-raised-button>BACK</button>--\x3e\r\n          </div>\r\n\r\n        </div>\r\n\r\n        \x3c!-- step 2 ************************************--\x3e\r\n        <div *ngIf="steperNo == 2" style="margin-top:60px;text-align: center" >\r\n        <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n          <div *ngIf="isShowTracknetEnable"><span><u>Tracknet Enabled </u></span></div>\r\n          <div style="margin-top: 21px;">\r\n             <button [style.background-color]="trackerType == \'Trip\'?\'green\':\'gray\'" md-raised-button  class="change-mode-button"  (click)="setTrackType(\'Trip\');isShowTracknetEnable=true" *ngIf="isShowTrip">Tracknet</button>              \r\n             <button [style.background-color]="trackerType == \'Tracker\'?\'green\':\'gray\'" md-raised-button  class="change-mode-button" style="margin-left: 20px;" (click)="setTrackType(\'Tracker\');isShowTracknetEnable=false">Tracker</button>\r\n             <button [style.background-color]="trackerType == \'Manual\'?\'green\':\'gray\'" md-raised-button style="margin-left: 20px;" class="change-mode-button" (click)="setTrackType(\'Manual\');isShowTrip=false">Manual mode</button>\r\n          </div>\r\n          <div style="margin-top: 15px" *ngIf="trackerType == \'Tracker\'">\r\n            <md-input-container style="width: 250px;" >\r\n              <input style="width: 100%;" placeholder="Tracker IMEI" mdInput [(ngModel)]="trackerIMEI"  name="TrackerIMEI" id="TrackerIMEI">\r\n            </md-input-container>\r\n          </div>\r\n\r\n          <div style="margin-top: 60px;">\r\n\r\n            <button md-raised-button color="primary" (click)="step1()">Previous</button>\r\n\r\n            <button md-raised-button color="primary" (click)="step3();">Next</button>\r\n            \x3c!--<button md-raised-button>BACK</button>--\x3e\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf="steperNo ==  3" style="text-align: center;margin-top: 60px">\r\n          <div  *ngIf="isShowchip"style="margin-top: 15px;">\r\n            <md-chip-list style="justify-content: center;display: flex;">\r\n                <md-chip >{{driverName}}  {{mobileNo}} <i class="fa fa-times-circle" mdChipRemove *ngIf="true" (click)="isShowchip=false"></i> </md-chip>\r\n            </md-chip-list>\r\n          </div>\r\n\r\n          <div style="margin-top: 15px ">\r\n             <button md-raised-button  class="change-mode-button" style="background-color: #bebebe" (click)="isAddDriverDetail=true">+add Driver</button>\r\n          </div>\r\n          <div *ngIf="isAddDriverDetail">\r\n            <md-input-container>\r\n              <input style="width: 100%;" placeholder="Driver Name" mdInput [(ngModel)]="driverName"  name="driverName" id="driverName">\r\n            </md-input-container>\r\n            <md-input-container>\r\n              <input style="width: 100%;" placeholder="Mobile No" mdInput [(ngModel)]="mobileNo"  name="mobileNo" id="mobileNo">\r\n            </md-input-container>\r\n          </div>\r\n          <div style="margin-top: 60px">\r\n             <button md-raised-button color="primary" (click)="step2()">Previous</button>\r\n             <button md-raised-button color="primary" (click)="createShipment()">Done</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n</div>\r\n\r\n'},HKFS:function(e,t,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),s=(n.n(r),n("JgC9")),a=n("N2o7"),l=(n.n(a),n("p5Ee")),c=n("xzyi");n.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,r){var s=this;this.http=e,this._store=t,this.localStorgeService=n,this.shipmentServices=r,this.defaultHeaders=new o.c,this.token="",this.pickup=new i.EventEmitter,this.addStop=new i.EventEmitter,this.delivery=new i.EventEmitter,this.token=this.localStorgeService.get("AUTH_TOKEN"),this.pickup.subscribe(function(e){var t=l.a.SHIPMENT_PATH+"/missing/pickup";console.log(t),s.setPickup(t,e).subscribe(function(e){console.log(e)},function(e){console.log(e.json())})}),this.addStop.subscribe(function(e){var t=l.a.SHIPMENT_PATH+"/addstop";s.setAddStop(t,e).subscribe(function(e){console.log(e)},function(e){console.log(e.json())})}),this.delivery.subscribe(function(e){var t=l.a.SHIPMENT_PATH+"/missing/delivery";s.setDelivery(t,e).subscribe(function(e){console.log(e)},function(e){console.log(e.json())})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getIdList=function(e){var t=this,n=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;n.set("authorization",i),n.set("Content-Type","application/json");var r=new o.d({method:o.e.Get,headers:n});return console.log(this.http),this.http.request(e,r).map(function(e){return console.log(e),t.shipmentServices.getShipmentList.emit(),e.json()})},e.prototype.setAddStop=function(e,t){var n=this,i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var r="Bearer "+this.token;i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return console.log(this.http),this.http.request(e,s).map(function(e){return console.log(e),setTimeout(function(){n.shipmentServices.getShipmentList.emit()},1500),e.json()})},e.prototype.setPickup=function(e,t){var n=this;console.log(e);var i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var r="Bearer "+this.token;i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return console.log(this.http),this.http.request(e,s).map(function(e){return console.log(e),setTimeout(function(){n.shipmentServices.getShipmentList.emit()},1500),e.json()})},e.prototype.setDelivery=function(e,t){var n=this,i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var r="Bearer "+this.token;i.set("authorization",r);var s=new o.d({method:o.e.Post,headers:i,body:t});return console.log(this.http),this.http.request(e,s).map(function(e){return console.log(e),setTimeout(function(){n.shipmentServices.getShipmentList.emit()},1500),e.json()})},e}();u=d([n.i(i.Injectable)(),p("design:paramtypes",["function"==typeof(h=void 0!==o.f&&o.f)&&h||Object,"function"==typeof(m=void 0!==s.b&&s.b)&&m||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object,"function"==typeof(f=void 0!==c.a&&c.a)&&f||Object])],u);var h,m,g,f},HdoV:function(e,t){e.exports='\r\n\r\n\x3c!--    ************************ abhinav code ********************* --\x3e\r\n\x3c!--<md-toolbar>--\x3e\r\n  \x3c!--<span><img src="logo-light.png"></span>--\x3e\r\n  \x3c!--<span class=title >Shipment Dashboard</span>--\x3e\r\n  \x3c!--<span style="position: relative; left: 65%;"><fa name="cog" ></fa></span>--\x3e\r\n\x3c!--</md-toolbar>--\x3e\r\n\x3c!--<nav md-tab-nav-bar>--\x3e\r\n  \x3c!--<a md-tab-link--\x3e\r\n     \x3c!--*ngFor="let link of navLinks"--\x3e\r\n     \x3c!--[routerLink]="link.link"--\x3e\r\n     \x3c!--routerLinkActive #rla="routerLinkActive"--\x3e\r\n     \x3c!--[active]="rla.isActive"--\x3e\r\n  \x3c!--style="color: #1976d2; font-size: medium">--\x3e\r\n    \x3c!--{{link.label}}--\x3e\r\n  \x3c!--</a>--\x3e\r\n\x3c!--</nav>--\x3e\r\n\x3c!--<router-outlet></router-outlet>--\x3e\r\n\x3c!-- ********************************************************* --\x3e\r\n\r\n<div style="height: 100vh;overflow: hidden;" >\r\n  <div class="header" fxLayout="row" >\r\n    <img class="logo" src="logo-light.png" alt="Fretron Logo"  >\r\n    <span class="service-name" >Shipment Tracking</span>\r\n   <div style="margin-left: 80px" >\r\n      <button [style.color]="selectedView == \'shipment\' ? \'#FFFFFF\':\'\'" md-button class="menu-button" (click)="goToShipmentDashboardView();selectedView = \'shipment\'" >\r\n            Shipment Dashboard\r\n      </button>\r\n\r\n      <button [style.color]="selectedView == \'device\' ? \'#FFFFFF\':\'\'"   md-button class="menu-button" (click)="goToDeviceDashboardView();selectedView = \'device\'"  >\r\n            Device Dashboard\r\n      </button>\r\n   </div>\r\n\r\n    <div class="setting-button">\r\n\r\n      <button md-icon-button style="cursor: pointer;z-index: 1000;" (click)="goTosettingView()"  >\r\n        <i class="fa fa-cog" aria-hidden="true"></i>\r\n      </button>\r\n\r\n      <button [mdMenuTriggerFor]="logoutMenu"  md-icon-button style="cursor: pointer;z-index: 1000;"   >\r\n        <i  class="fa fa-user-o" aria-hidden="true" >&#9662;</i>\r\n      </button>\r\n      <md-menu #logoutMenu="mdMenu" >\r\n        <app-user-profile [view]="web" ></app-user-profile>\r\n      </md-menu>\r\n    </div>\r\n  </div>\r\n  <router-outlet></router-outlet>\r\n</div>\r\n'},Hysb:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"div{font-family:Helvetica}.stepperIcon{position:relative;border-radius:50%;padding:11px;color:#fff;background-color:#3f51b5;font-size:13px;height:0}.change-mode-button{background-color:#42d35d;font-size:12px;line-height:26px;height:25px;border-radius:13px;color:#fff}.element{height:55px}",""]),e.exports=e.exports.toString()},Ic8m:function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc");n.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this._router=e}return e.prototype.ngOnInit=function(){},e}();a=r([n.i(i.Component)({selector:"app-user-management-console",template:n("syIf"),styles:[n("VIG1")]}),s("design:paramtypes",["function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],a);var l},K57K:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"div{font-family:Helvetica}",""]),e.exports=e.exports.toString()},"Kg/2":function(e,t){e.exports='<div class="container" style="min-width: 700px;box-sizing: border-box;overflow: auto">\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n  <div style="display:flex;padding:7px" >\r\n    <div style="display:flex;">\r\n      <button (click)="selectedFilter = \'\'" md-raised-button class="status-button" [style.background-color]="selectedFilter == \'\'?\'#1976d2\':\'\'"  [style.color]="selectedFilter == \'\'?\'#FFFFFF\':\'\'">{{countFilterData[\'all\']}} <span>All</span></button>\r\n      <button (click)="selectedFilter = \'active\'" md-raised-button class="status-button" [style.background-color]="selectedFilter == \'active\'?\'#1976d2\':\'\'" [style.color]="selectedFilter == \'active\'?\'#FFFFFF\':\'\'" style="margin-left: 15px">{{countFilterData[\'active\']}} <span>Active</span></button>\r\n      <button (click)="selectedFilter = \'available\'" md-raised-button class="status-button" [style.background-color]="selectedFilter == \'available\'?\'#1976d2\':\'\'" [style.color]="selectedFilter == \'available\'?\'#FFFFFF\':\'\'" style="margin-left: 15px">{{countFilterData[\'available\']}} <span>Available</span></button>\r\n      \x3c!--<button (click)="selectedFilter = \'repairing\'" md-raised-button class="status-button" [style.background-color]="selectedFilter == \'repairing\'?\'#1976d2\':\'\'" [style.color]="selectedFilter == \'repairing\'?\'#FFFFFF\':\'\'" style="margin-left: 15px;width: 23%;"> {{countFilterData[\'repairing\']}} <span style="white-space: nowrap">Not Working</span></button>--\x3e\r\n    </div>\r\n    <div style="margin-left: auto;display: flex">\r\n      <div >\r\n        <button class="custome-button align-vert-center"  md-button >+add Tracker</button>\r\n      </div>\r\n\r\n      <div style="position:relative;margin-top: 4px;" >\r\n        <i  class="fa fa-search "  aria-hidden="true" style="margin-top: 7px;right: 7px;position: absolute;font-size: 13px;color: black;"></i>\r\n        <input myAutofocus  [(ngModel)]="search" class="expand-search"  placeholder="Search">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <hr>\r\n\r\n<div style="overflow:auto;height:calc(100vh - 115px);" >\r\n <div style="margin-top: 10px" *ngFor="let selDevice of allDeviceList | deviceType: [\'status\' ,selectedFilter]">\r\n \x3c!--<div style="margin-top: 10px" *ngFor="let selDevice of allDeviceList">--\x3e\r\n  <md-card  *ngIf="selDevice[\'device\'][\'status\'] ==\'active\'" style="margin-top:5px;">\r\n    <div fxLayout="row" >\r\n      <div style="font-size: 12px;width: 100%" >\r\n         <div fxLayout="row" class="margins" >\r\n           <span fxFlex >{{selDevice[\'device\'][\'imei\']}}</span>\r\n           <span style="margin-right: 12px"  fxFlex ><i style="margin-right: 3px" class="fa fa-truck" aria-hidden="true"></i>{{selDevice[\'shipment\'][\'vehicleRegistrationNo\']}}</span>\r\n           <span fxFlex name="destination"><i style="margin-right: 3px" class="fa fa-map-marker" aria-hidden="true"></i>{{selDevice[\'shipment\']?.endLocation?.freightLocation?.address}}</span>\r\n           <span fxFlex ><i style="margin-right: 3px" class="fa fa-user-o" aria-hidden="true"></i>{{selDevice[\'shipment\']?.driverName}}</span>\r\n         </div>\r\n\r\n         <div style="margin-top: 8px"  fxLayout="row" class="margins"  >\r\n           <span fxFlex="50" name="currentLocation" ><i style="margin-right: 3px" class="fa fa-location-arrow" aria-hidden="true"></i>{{(selDevice?.latestGpsState?.endLocation?.address)?selDevice?.latestGpsState?.endLocation?.address:\'N/A\'}}</span>\r\n           <span fxFlex name="origin"><label style="margin-right: 3px" class="custome-circle"><i class="fa fa-circle" aria-hidden="true"></i></label>{{selDevice[\'shipment\']?.startLocation?.freightLocation?.address}}</span>\r\n           <span fxFlex  ><i style="margin-right: 3px" class="fa fa-phone" aria-hidden="true"></i>{{selDevice[\'shipment\']?.mobileNo}}</span>\r\n         </div>\r\n      </div>\r\n      <div style="font-size: 11px;">\r\n        <div style="margin-top: 8px;width: 100px;" >\r\n           <span *ngIf="selDevice[\'shipment\'][\'actualStartTime\'] != null" class="align-vert-center" style="white-space: nowrap;" >Since: {{selDevice[\'shipment\'][\'_stateDuration\']}}</span>\r\n        </div>\r\n      </div>\r\n      <div style="margin-right: 10px;">\r\n        <button md-raised-button style="margin-top: 3px" class="current-status-button" >Active</button>\r\n      </div>\r\n      <div style="margin-left: auto;margin-right: 10px;">\r\n        <button class="custome-button fade-sub-header-text align-vert-center"  md-button (click)="openDialogConfirmDeviceReturn(selDevice)" >+confirm device Return</button>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n\r\n  <md-card style="margin-top:5px;"  *ngIf="selDevice[\'device\'][\'status\'] ==\'available\'" >\r\n    <div fxLayout="row">\r\n      <div style="font-size: 12px;width: 100%" >\r\n        <div fxLayout="row" class="margins" >\r\n          <span fxFlex >{{selDevice[\'device\'][\'imei\']}}</span>\r\n        </div>\r\n\r\n        <div style="margin-top: 8px"  fxLayout="row" class="margins"  >\r\n          <span fxFlex="50" >\r\n            <i style="color: #e39f41;margin-right: 5px;font-size: 14px;" class="fa fa-exclamation-circle" aria-hidden="true"></i>(Since 29 aug 2017)</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div style="margin-right: 30px;">\r\n        <button md-raised-button style="margin-top: 3px;background-color: #21b22e" class="current-status-button" >Available</button>\r\n      </div>\r\n\r\n      <div style="margin-right: 30px;">\r\n        <button class="custome-button fade-sub-header-text align-vert-center"  md-button (click)="openDialogAssignVehicle(selDevice)">+assign Vehicle</button>\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n\r\n  \x3c!--<md-card style="margin-top:5px;" *ngIf="selDevice.device.status==\'repairing\'" >--\x3e\r\n    \x3c!--<div fxLayout="row">--\x3e\r\n      \x3c!--<div style="font-size: 12px;width: 100%" >--\x3e\r\n        \x3c!--<div fxLayout="row" class="margins" >--\x3e\r\n          \x3c!--<span fxFlex >363251425152</span>--\x3e\r\n        \x3c!--</div>--\x3e\r\n\r\n        \x3c!--<div style="margin-top: 8px"  fxLayout="row" class="margins"  >--\x3e\r\n          \x3c!--<span fxFlex="50" >--\x3e\r\n            \x3c!--<i style="color: #dc2019;margin-right: 5px;font-size: 14px;" class="fa fa-exclamation-triangle" aria-hidden="true"></i>--\x3e\r\n            \x3c!--Under Repairing - since 8 days</span>--\x3e\r\n        \x3c!--</div>--\x3e\r\n      \x3c!--</div>--\x3e\r\n\r\n      \x3c!--<div style="margin-right: 30px;">--\x3e\r\n        \x3c!--<button md-raised-button style="margin-top: 3px;background-color: #dc2019" class="current-status-button" >Repairing</button>--\x3e\r\n      \x3c!--</div>--\x3e\r\n      \x3c!--<div style="margin-right: 10px;">--\x3e\r\n        \x3c!--<button class="custome-button fade-sub-header-text align-vert-center"  md-button (click)="openDialogMarkAsRequired(selDevice)">+mark as Required</button>--\x3e\r\n      \x3c!--</div>--\x3e\r\n    \x3c!--</div>--\x3e\r\n  \x3c!--</md-card>--\x3e\r\n</div>\r\n  <div style="height:30px"></div>\r\n</div>\r\n</div>\r\n'},MauM:function(e,t){e.exports='<h1 md-dialog-title><u>Assign Vehicle</u></h1> \r\n<div md-dialog-content>\r\n  <p style="margin-left:30px">Device &nbsp;Id &nbsp;:<i>{{device.imei}}</i></p> \r\n  <div style="margin-left:30px" >\r\n    <label>Vehicle&nbsp;&nbsp; Number&nbsp;*:&nbsp;&nbsp;&nbsp; </label>\r\n    <md-input-container>\r\n      <input  mdInput [(ngModel)]="vehicleNumber" name="vehicleNumber" id="vehicleNumber" required>\r\n    </md-input-container>\r\n  </div>\r\n</div>\r\n<div md-dialog-actions>\r\n  <div style="margin-left:auto;margin-right: 60px;margin-top: 50px;">\r\n      <button md-raised-button   style="margin-left:auto;margin-right: 30px;" (click)="closeDialog()" >Cancel</button>\r\n      <button md-raised-button  style="margin-left:auto;margin-right: 20px;" (click)="closeDialog()" >Confirm</button>\r\n  </div>\r\n  \r\n</div>'},"Nu/5":function(e,t,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),s=(n.n(r),n("JgC9")),a=n("N2o7"),l=(n.n(a),n("p5Ee"));n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n){var r=this;this.http=e,this._store=t,this.localStorageService=n,this.defaultHeaders=new o.c,this.deleteUser=new i.EventEmitter,this.getAllUsersList=new i.EventEmitter,this.changeUserType=new i.EventEmitter,this.getUserIfExist=new i.EventEmitter,this.addUserToGroup=new i.EventEmitter,this.getAllUsersList.subscribe(function(e){r.token=e;var t=l.a.MANAGE_USERS_PATH;console.log(t),r.getAllUsers(t,e).subscribe(function(e){console.log(e),r._store.dispatch({type:"GET_ALL_USERS_LIST",payload:e})},function(e){console.log(e)})}),this.deleteUser.subscribe(function(e){var t=l.a.DELETE_USERS_PATH+"/remove";console.log(t),console.log(e),r.deleteSelectedUser(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"DELETE_USER_SERVICE_RESPONSE",payload:e})},function(e){console.log(e)})}),this.changeUserType.subscribe(function(e){var t=l.a.DELETE_USERS_PATH+"/add";console.log(t),console.log(e),r.updateSelectedUser(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"UPDATE_USER_STATUS_RESPONSE",payload:e})},function(e){console.log(e)})}),this.addUserToGroup.subscribe(function(e){var t=l.a.DELETE_USERS_PATH+"/add";console.log(t),console.log(e),r.updateSelectedUser(e,t).subscribe(function(e){console.log(e),r._store.dispatch({type:"UPDATE_USER_STATUS_RESPONSE",payload:e})},function(e){console.log(e)})}),this.getUserIfExist.subscribe(function(e){var t="";""!=e.email&&(t=l.a.ADD_EXISTING_USERS_PATH+"?email="+e.email),""!=e.mobile&&(t=l.a.ADD_EXISTING_USERS_PATH+"?mobile="+e.mobile),console.log(t),console.log(e),r.checkExistingUser(t).subscribe(function(e){console.log(e),r._store.dispatch({type:"EXISTING_USER_RESPONSE",payload:e})},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.deleteSelectedUser=function(e,t){var n=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;n.set("Content-Type","application/json"),n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.updateSelectedUser=function(e,t){var n=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;n.set("Content-Type","application/json"),n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.getAllUsers=function(e,t){var n=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+t;n.set("Content-Type","application/json"),n.set("authorization",i);var r=new o.d({method:o.e.Get,headers:n});return this.http.request(e,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.checkExistingUser=function(e){var t=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;t.set("Content-Type","application/json"),t.set("authorization",n);var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){if(console.log(e),200==e.status)return e.json()})},e}();p=c([n.i(i.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(m=void 0!==a.LocalStorageService&&a.LocalStorageService)&&m||Object])],p);var u,h,m},PP6U:function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc"),r=n("xzyi"),s=n("Z04r"),a=n("N2o7"),l=(n.n(a),n("N+n4")),c=(n.n(l),n("JgC9"));n.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,o,r){var s=this;this._router=e,this.shipmentServices=t,this._store=n,this.service=o,this.snackBar=r,this.steperNo=1,this.mesurements=[{name:"weight",viewValue:" Weight",units:["Kg","Ton","Pound"]},{name:"volume",viewValue:" Volume",units:["cm3","m3","feet3"]},{name:"package",viewValue:"Package Count"}],this.selectUnit=this.mesurements[0].units,this.shipmentNumber=null,this.consignmentNumber=null,this.mesurementType="weight",this.trackerType="Tracker",this.trackerIMEI=null,this.driverName="md Asif",this.mobileNo="854745869",this.hours=[],this.minutes=[],this.locationSelect="",this.durationTime="",this.durationType="",this.stopDurationTime="",this.toHour="",this.toMin="",this.fromHour="",this.fromMin="",this.unSub_allFreightList=null,this.selectedTemplateLocation=new i.EventEmitter,this.isEventSelected=!1,this.isShowEvent=!0,this.isStep1=!0,this.isShowchip=!0,this.isShowConsigner=!1,this.isShowConsignee=!1,this.isShowFields=!1,this.isShowActions=!1,this.isFieldsFilled=!1,this.isModalShown=!1,this.isAddDriverDetail=!1,this.showConsignerList=!1,this.showConsigneeList=!1,this.isAddQuantity=!1,this.isShowUnits=!0,this.isShowUnitInput=!1,this.typeOfLocationCreator={type:"Polygon"},this.isShowLocationDialog=!1,this.isShowOrigin=!1,this.isShowDestination=!1,this.unSub_newShipment=null,this.unSub_checkVehicle=null,this.isShowTrip=!1,this.isShowTracknetEnable=!1,this.isSpinner=!0,t.initialize(),this.unSub_newShipment=this._store.select("newShipment").subscribe(function(e){null!=e&&(""==e.error?s.openSnackBar("Shipment Created Successfully"):s.openSnackBar(e.errorMsg))}),this.unSub_checkVehicle=this._store.select("checkVehicle").subscribe(function(e){null!=e&&(""==e.error&&1==e.res.exist?(s.trackerType="Trip",s.vehicleObj=e.res.vehicle,s.isShowTrip=!0,s.isShowTracknetEnable=!0,s.isSpinner=!1,console.log(s.vehicleObj)):(s.trackerType="Tracker",s.isShowTrip=!1,s.isSpinner=!1,s.isShowTracknetEnable=!1))})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_checkVehicle&&null!=this.unSub_checkVehicle&&void 0!=this.unSub_checkVehicle&&this.unSub_checkVehicle.unsubscribe()},e.prototype.createShipment=function(){"Trip"==this.trackerType&&(this.trackerIMEI=null);var e={deviceImei:this.trackerIMEI,driverName:this.driverName,endLocation:{freightLocation:this.consignee},mobileNo:this.mobileNo,planedEndTime:this._transitDaysTimestamp,planedStartTime:this._plannedStartDateTimestamp,shipmentId:null,shipmentNo:this.shipmentNumber,shipmentState:"Created",startLocation:{freightLocation:this.consigner},trackingType:this.trackerType,vehicleRegistrationNo:this.vehicleNumber};console.log(e),this.shipmentServices.createNewShipment.emit(e),this._router.navigate(["dashboard/shipmentStatus"])},e.prototype.setOriginLocation=function(e){console.log(e);var t={};null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj source"),t=e.freightLocation):(console.log("contains No freight location Obj source"),t=e),(n.i(l.isNullOrUndefined)(t.address)||""==t.address)&&(t.address=e.name),this.consignerName=t.name,this.oLat="Proximity"==t.geofence.type?t.geofence.circle.center.latitude:t.geofence.center.latitude,this.oLng="Proximity"==t.geofence.type?t.geofence.circle.center.longitude:t.geofence.center.longitude,this.etaDistanceCalaculater(this.oLat,this.oLng,this.dLat,this.dLng),this.consigner=t,console.log(this.consigner),this.isShowLocationDialog=!1},e.prototype.setDestinationLocation=function(e){console.log(e);var t={};null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj Destination"),t=e.freightLocation):(console.log("contains No freight location Obj Destination"),t=e),(n.i(l.isNullOrUndefined)(t.address)||""==t.address)&&(t.address=e.name),this.consigneeName=t.name,this.dLat="Proximity"==t.geofence.type?t.geofence.circle.center.latitude:t.geofence.center.latitude,this.dLng="Proximity"==t.geofence.type?t.geofence.circle.center.longitude:t.geofence.center.longitude,this.etaDistanceCalaculater(this.oLat,this.oLng,this.dLat,this.dLng),this.consignee=t,console.log(this.consignee),this.isShowLocationDialog=!1},e.prototype.etaDistanceCalaculater=function(e,t,n,i){if(null!=i&&null!=n&&null!=e&&null!=t);},e.prototype.convertTime=function(){this._plannedStartDateTimestamp=new Date(this.plannedStartDate).getTime(),this._transitDaysTimestamp=new Date(this.plannedStartDate).getTime()+60*this.transitDays*60*24*1e3},e.prototype.setTrackType=function(e){this.trackerType=e},e.prototype.selectMesurementType=function(){"weight"==this.mesurementType&&(this.isShowUnits=!0,this.isShowUnitInput=!1,this.selectUnit=this.mesurements[0].units),"volume"==this.mesurementType&&(this.isShowUnits=!0,this.isShowUnitInput=!1,this.selectUnit=this.mesurements[1].units),"package"==this.mesurementType&&(this.selectedUnit="0",this.isShowUnits=!1,this.isShowUnitInput=!0)},e.prototype.setTimeHours=function(){var e="";e=this.fromHour+":"+this.fromMin+" hrs to "+this.toHour+":"+this.toMin+" hrs",this.durationTime=e,console.log(this.durationTime),this.isModalShown=!1},e.prototype.step1=function(){var e=this;setTimeout(function(){e.selectedTemplateLocation.emit({source:e.consignerName,destination:e.consigneeName})},100),this.steperNo=1},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"OK",{duration:4e3})},e.prototype.step2=function(){n.i(l.isNullOrUndefined)(this.consigner)||""==this.consigner?(this.openSnackBar("Please fill Consigner"),this.steperNo=1):n.i(l.isNullOrUndefined)(this.consignee)||""==this.consignee?(this.openSnackBar("Please fill Consinee"),this.steperNo=1):n.i(l.isNullOrUndefined)(this.plannedStartDate)||""==this.plannedStartDate?(this.openSnackBar("Please fill Shipment start time"),this.steperNo=1):n.i(l.isNullOrUndefined)(this.transitDays)||""==this.transitDays?(this.openSnackBar("Please fill Transite Days"),this.steperNo=1):n.i(l.isNullOrUndefined)(this.vehicleNumber)||""==this.vehicleNumber?(this.openSnackBar("Please fill Vehicle No"),this.steperNo=1):(this.isAddDriverDetail=!1,this.shipmentServices.checkVehicle.emit(this.vehicleNumber),this.steperNo=2)},e.prototype.step3=function(){"Tracker"==this.trackerType&&void 0==this.trackerIMEI?(this.openSnackBar("Please fill IMEI No"),this.steperNo=2):(this.isAddDriverDetail=!1,this.steperNo=3)},e.prototype.goBack=function(){},e}();u=d([n.i(i.Component)({selector:"app-new-shipment",template:n("HHUf"),styles:[n("Hysb")]}),p("design:paramtypes",["function"==typeof(h=void 0!==o.b&&o.b)&&h||Object,"function"==typeof(m=void 0!==r.a&&r.a)&&m||Object,"function"==typeof(g=void 0!==c.b&&c.b)&&g||Object,"function"==typeof(f=void 0!==a.LocalStorageService&&a.LocalStorageService)&&f||Object,"function"==typeof(v=void 0!==s.t&&s.t)&&v||Object])],u);var h,m,g,f,v},Pita:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},QLHX:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".trip-header{background-color:#1976d2;width:100%;padding:8px;height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff}md-card{padding:9px;min-width:200px}div{font-family:Helvetica!important}.my-hr{border-style:ridge;border-width:1px;margin-top:6px;min-width:250px;margin-bottom:3px}.my-map-search{left:5%;width:90%;position:absolute;z-index:10;margin-top:10px}.my-toggle>>>.mat-button-toggle-label-content{line-height:23px;padding:0 10px}",""]),e.exports=e.exports.toString()},"Qp/B":function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100" class="slow-down">\r\n  \x3c!--<div class="trip-header"   fxLayout="row">--\x3e\r\n    \x3c!--<span  (click)="back()" >--\x3e\r\n      \x3c!--<i style="width: 40px" class="fa fa-arrow-left" aria-hidden="true" ></i>--\x3e\r\n    \x3c!--</span>--\x3e\r\n    \x3c!--<span>{{headerName}}</span>--\x3e\r\n  \x3c!--</div>--\x3e\r\n\r\n  \x3c!--   *************  discard vehicle **************** --\x3e\r\n  <div *ngIf="isDiscardDialog"  class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:200px;overflow: hidden;max-width: 200px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isDiscardDialog=false;" >&times;</span>\r\n        <label>Are you Sure?</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="padding: 5px;margin-top:5px;text-align: right">\r\n          <button md-raised-button  style="width:47px;line-height: 27px;" (click)="isDiscardDialog=false;" > cancel </button>\r\n          <button md-raised-button  style="width:47px;line-height: 27px;" (click)="discard();isDiscardDialog=false;" > Discard</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--  discard vehicle --\x3e\r\n\r\n  \x3c!--   *************  update confirmation by movement legs**************** --\x3e\r\n  <div *ngIf="isUpdateConfirmDialog"  class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isUpdateConfirmDialog=false;" >&times;</span>\r\n        <label>Are you Sure?</label>\r\n      </div>\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="min-height: 100px;max-height:250px;overflow: auto;padding-bottom: 3px;" >\r\n          <md-card style="margin-bottom: 1px" >\r\n            <div style="display: grid" >\r\n              <span >{{(selectedConfirmLocation?.endLocation?.address)?(selectedConfirmLocation?.endLocation?.address):(selectedConfirmLocation?.startLocation?.address)}}</span>\r\n              <span style="margin-top: 2px" class="sub-header-text">{{selectedConfirmLocation?.startTime | date :\'medium\'}}</span>\r\n              <span style="margin-top: 2px" class="sub-header-text">{{selectedConfirmLocation?._totalTime}}</span>\r\n            </div>\r\n          </md-card>\r\n        </div>\r\n      </div>\r\n\r\n      <div  style="padding: 5px;font-size: 13px;">\r\n        <div style="padding: 5px;margin-top:5px;text-align: right">\r\n          <button md-raised-button  style="width:47px;line-height: 27px;" (click)="isUpdateConfirmDialog=false;" > cancel</button>\r\n          <button md-raised-button  style="width:47px;line-height: 27px;" (click)="isUpdateConfirmDialog=false;editLocationByMovementLog(selectedConfirmLocation);" > ok</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--  discard vehicle --\x3e\r\n\r\n\r\n  \x3c!--   *************  update from movementlegs vehicle **************** --\x3e\r\n  <div *ngIf="isUpdateDialog"  class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isUpdateDialog=false;" >&times;</span>\r\n        <label> Confirm Location</label>\r\n      </div>\r\n       <div style="text-align: center;padding: 4px;background-color: rgba(68, 148, 217, 0.03)">\r\n         <span>Select location</span>\r\n       </div>\r\n        <div  style="padding: 5px;font-size: 13px;">\r\n          <div style="min-height: 100px;max-height:250px;overflow: auto;padding-bottom: 3px;" >\r\n            <md-card style="margin-bottom: 1px" *ngFor="let movementLog of shipmentDetailsObject.selectedShipment.movementLegs">\r\n              <div style="display: grid" (click)="isUpdateDialog=false;isUpdateConfirmDialog=true;selectedConfirmLocation = movementLog" >\r\n                <span >{{(movementLog?.endLocation?.address)?(movementLog?.endLocation?.address):(movementLog?.startLocation?.address)}}</span>\r\n                <span style="margin-top: 2px" class="sub-header-text">{{movementLog?.startTime | date :\'medium\'}}</span>\r\n                <span style="margin-top: 2px" class="sub-header-text">{{movementLog?._totalTime}}</span>\r\n              </div>\r\n            </md-card>\r\n          </div>\r\n          <div style="padding: 5px;margin-top:5px;text-align: center">\r\n            <button md-raised-button style="width:auto;color:#ffffff;background-color:#1E88E5;" (click)="editLocation();isUpdateDialog=false;" > Edit from Map </button>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  \x3c!--   *************close  update from movementlegs vehicle **************** --\x3e\r\n  \x3c!--  discard vehicle --\x3e\r\n\r\n<div style="overflow:auto;height:calc(100vh - 40px);" >\r\n   <section [style.display]="isPolygonEditable?\'block\':\'none\'" class="my-map-search" >\r\n     \x3c!--<input id="pac-input" class="controls" type="text" placeholder="Search Box">--\x3e\r\n     <i class="fa fa-search" aria-hidden="true" style="right: 8px;position: absolute;margin-top: 7px;font-size: 15px;"></i>\r\n     <input id="pac-input"  type="text" class="search"  mdTooltip=" search Here "   placeholder=" Search "  >\r\n   </section>\r\n\x3c!-- ************************ map start here  ******************************************** --\x3e\r\n  <div>\r\n    <section style="position:absolute;z-index:10;margin-top: 40px;left:5px;" >\r\n      <md-button-toggle-group class="my-toggle" #group="mdButtonToggleGroup" [(ngModel)]="mapType">\r\n        <md-button-toggle value="hybrid" >\r\n          <span>Satellite</span>\r\n        </md-button-toggle>\r\n        <md-button-toggle value="roadmap" style="background-color:floralwhite;opacity: .6;">\r\n          <span>Map</span>\r\n        </md-button-toggle>\r\n      </md-button-toggle-group>\r\n    </section>\r\n\r\n    <agm-map [mapTypeId]="mapType" [style.height]="view == \'web\'?\'calc(100vh - 320px)\':\'calc(100vh - 218px)\'" [latitude]="latitude" [longitude]="longitude" [zoom]="zoom"  >\r\n      <agm-marker *ngFor="let marker of markers"\r\n        [latitude]="marker.position.lat()" [longitude]="marker.position.lng()">\r\n        <agm-info-window  style="color:blue;" [isOpen]="markers.length == 1?true:false" >\r\n          <div style="color:blue;max-width: 150px;text-align:center" (click)="setNewLocation(marker)">Add Location</div>\r\n          \x3c!--<button (click)="setNewLocation(marker)">ADD Location</button>--\x3e\r\n        </agm-info-window>\r\n      </agm-marker>\r\n    </agm-map>\r\n  </div>\r\n  \x3c!-- ************************ map end here  ******************************************** --\x3e\r\n\r\n  <md-card style="margin: 3px">\r\n    <div style="display: grid" >\r\n      <div style="margin-left: 15px;margin-right: 15px">\r\n        <md-input-container  style="width: 100%;">\r\n          <input name="location_name" [disabled]="!isPolygonEditable"  mdTooltip=" This field is required " mdInput [(ngModel)]="selectedLocation"  required >\r\n        </md-input-container>\r\n      </div>\r\n\r\n      <div style="margin-left: 15px;margin-right: 15px;font-size:12px;border-bottom:1px solid #D0D0D0;margin-bottom: 15px;color: #959595;" >\r\n          <span *ngIf="selectedFromTime" >From: {{selectedFromTime | date:\'medium\' }}</span>\r\n          <span *ngIf="!selectedFromTime" >From: Yet to Report</span>\r\n          <span *ngIf="selectedTillTime" > - {{selectedTillTime | date:\'medium\' }}</span>\r\n          <span *ngIf="!selectedTillTime" > - Yet to Report</span>\r\n      </div>\r\n\r\n      <div style="width: 100%;" *ngIf="!isPolygonEditable" fxLayout="row">\r\n        <button  *ngIf="isDiscard" mdTooltip=" Discard "  md-raised-button (click)="isDiscardDialog = true" >\r\n           Discard \r\n        </button>\r\n\r\n        <button  *ngIf="!isEditPlaceFromList" style="width: auto;margin-left: auto;color:#ffffff;background-color:#1E88E5;" mdTooltip=" Click here to Edit"  md-raised-button (click)="editLocation()" >\r\n          Edit Location \r\n        </button>\r\n\r\n        <button  *ngIf="isEditPlaceFromList" style="width: auto;margin-left: auto;color:#ffffff;background-color:#1E88E5;" mdTooltip=" Click here to Edit "  md-raised-button (click)="isUpdateDialog =true" >\r\n          Edit Location \r\n        </button>\r\n      </div>\r\n\r\n      <div *ngIf="isPolygonEditable" style="width: 100%;" fxLayout="row">\r\n        <button  mdTooltip="cancel" (click)="back()"  md-raised-button >\r\n           cancel \r\n        </button>\r\n\r\n        <button style="margin-left: auto;color:#ffffff;background-color:#1E88E5;" mdTooltip=" Save new location "  md-raised-button (click)="save()" >\r\n           save \r\n        </button>\r\n\r\n      </div>\r\n    </div>\r\n  </md-card>\r\n  <div style="height: 40px"></div>\r\n</div>\r\n</div>\r\n'},SIzh:function(e,t,n){"use strict";function i(e,t){switch(void 0===e&&(e=null),t.type){case"DELETE_USER_SERVICE_RESPONSE":return t.payload;default:return e}}function o(e,t){switch(void 0===e&&(e=null),t.type){case"GET_ALL_USERS_LIST":return t.payload;default:return e}}function r(e,t){switch(void 0===e&&(e=null),t.type){case"UPDATE_USER_STATUS_RESPONSE":return t.payload;default:return e}}function s(e,t){switch(void 0===e&&(e=null),t.type){case"EXISTING_USER_RESPONSE":return t.payload;default:return e}}t.a=i,t.b=o,t.c=r,t.d=s},UDCI:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".main{min-width:200px;max-width:390px;margin:50px auto;padding:8px}",""]),e.exports=e.exports.toString()},UpJ0:function(e,t,n){"use strict";var i=n("/oeL"),o=n("Z04r"),r=n("JgC9");n.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){var n=this;this.dialogRef=e,this._store=t,this.deviceCondition=[{viewName:"Working",value:"working"},{viewName:"Notworking",value:"notworking"}],this.deviceStatus="working",this.unSub_deviceDetail=null,this.unSub_deviceDetail=this._store.select("deviceDetails").subscribe(function(e){null!=e&&(null==e.error||(n.device=e.data,console.log(n.device)))})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_deviceDetail&&null!=this.unSub_deviceDetail&&void 0!=this.unSub_deviceDetail&&this.unSub_deviceDetail.unsubscribe()},e.prototype.onNoClick=function(){this.dialogRef.close()},e.prototype.closeDialog=function(){this.dialogRef.close()},e.prototype.confirmDeviceReturnDialog=function(){this.dialogRef.close("Pizza! bjhnm")},e}();l=s([n.i(i.Component)({selector:"app-confirm-device-return",template:n("72nY"),styles:[n("K57K")]}),a("design:paramtypes",["function"==typeof(c=void 0!==o.u&&o.u)&&c||Object,"function"==typeof(d=void 0!==r.b&&r.b)&&d||Object])],l);var c,d},"V+2F":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},VIG1:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".top-header{width:100%;padding-bottom:3px;top:0;z-index:100;position:absolute}",""]),e.exports=e.exports.toString()},"aR8+":function(e,t,n){"use strict";var i=n("fc+i"),o=n("/oeL"),r=n("a0oU"),s=n("wQAS"),a=n("fL27"),l=n("0aAO"),c=n("+0cF"),d=n("Z04r"),p=n("dYba"),u=n("fSDF"),h=n("UhLR"),m=(n.n(h),n("r0ix")),g=n("j3/x"),f=n("bm2B"),v=n("4oYn"),x=n("4okT"),b=n("zzpy"),y=n("ri6n"),S=n("PP6U"),w=n("3osW"),T=(n.n(w),n("xzyi")),L=n("xOQS"),k=n("okFp"),D=n("0+Up"),_=n("CPp0"),E=n("JgC9"),I=n("N2o7"),P=(n.n(I),n("//+4")),O=n("UpJ0"),j=n("+WI2"),N=n("AqEY"),C=n("5myt"),F=n("x56J"),R=n("i6Q7"),A=n("cczp"),M=n("BHPq"),z=n("fYHi"),U=n("EHWr"),H=n("mRFw"),G=n("HKFS"),V=n("Ic8m"),B=n("qyoZ"),J=n("Nu/5"),Y=n("yTCF"),q=n("u5lw"),K=n("SIzh"),W=n("whJe");n.d(t,"a",function(){return Q});var X=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Z={shipmentIdList:P.a,allShipmentList:P.b,shipmentDetail:P.c,newShipment:P.d,allDevicesList:P.e,checkVehicle:P.f,deviceDetails:P.g,closeDialog:P.h,createOrgRes:P.i,switchOrganisationResp:P.j,customerDetails:P.k,shipmentGroupList:P.l,createGroupRes:P.m,deleteUserResponse:K.a,getAllUserList:K.b,updateUserStatusResponse:K.c,existingUserResponse:K.d,switchShipment:P.n},Q=function(){function e(){}return e}();Q=X([n.i(o.NgModule)({declarations:[s.a,l.a,u.a,g.a,x.a,b.a,v.a,y.a,S.a,O.a,j.a,N.a,C.a,F.a,R.a,A.a,M.a,z.a,U.a,B.a,V.a,Y.a,q.a],entryComponents:[O.a,j.a,N.a],imports:[I.LocalStorageModule.withConfig({prefix:"my-app",storageType:"localStorage"}),i.a,_.a,_.b,a.a,c.a,r.a.forRoot({apiKey:"AIzaSyBCRowVqghQTO8iJDgOc4QY-GlFwsn85_I",libraries:["places"]}),f.FormsModule,f.ReactiveFormsModule,E.a.provideStore(Z),p.a,w.DateTimePickerModule,d.a,d.b,d.c,d.d,d.e,d.f,d.g,d.h,h.ChartsModule,d.i,m.a,d.j,d.k,d.l,d.m,d.n,d.o,d.p,d.q,d.r],providers:[d.s,f.NgModel,E.a,T.a,D.a,r.b,L.a,k.a,H.a,J.a,W.a,G.a],bootstrap:[s.a]})],Q)},cDNt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("/oeL"),o=n("Qa4U"),r=n("aR8+"),s=n("rgUS");n.n(s);n.i(i.enableProdMode)(),n.i(o.a)().bootstrapModule(r.a)},cczp:function(e,t,n){"use strict";var i=n("/oeL"),o=n("N2o7"),r=(n.n(o),n("BkNc")),s=n("JgC9"),a=n("okFp"),l=n("Z04r");n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n,i,o){var r=this;this.localStorageService=e,this._router=t,this._store=n,this._manageOrganisationServices=i,this.snackBar=o,this.unSub_customerDetails=null,this.customerName="",this.currentOrgId="",this.orgName="",this.userOrgId="",this.orgType="",this.newOrgUuid="",this.customerMobile="",this.userDetails=null,this.unsub_createOrgResponse=null,this.unsub_switchOrgToUserResponse=null,this._store.dispatch({type:"TITLE",payload:"Add Organisation"}),this.unSub_customerDetails=n.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&(r.currentOrgId=e.customer.orgId,r.customerName=e.customer.name)}),this.unsub_createOrgResponse=n.select("createOrgRes").subscribe(function(e){null!=e&&(console.log("create organisation response in component"),console.log(e),""===e.error?(console.log("create organisation response in component"),console.log(e),r.openSnackBar("Organisation added successfully!"),r.newOrgUuid=e.res["organisation.created"].uuid,console.log(r.newOrgUuid),r._manageOrganisationServices.switchOrganisations.emit(r.newOrgUuid)):r.openSnackBar(e.errorMsg))}),this.unsub_switchOrgToUserResponse=n.select("switchOrganisationResp").subscribe(function(e){if(null!=e)if(console.log("switch organisation response in component"),console.log(e),""===e.error){r.localStorageService.set("AUTH_TOKEN",e.res.token);var t=r.customerDetail(e.res.token);console.log(t);var n="http://"+window.location.hostname+":"+window.location.port;console.log(n+"/transporter"),"TRANSPORTER"==t.details.orgType?window.location.replace(n+"/transporter"):"FLEET_OWNER"==t.details.orgType?window.location.replace(n+"/tracknet/vtsdashboard"):t.details.orgType}else r.openSnackBar(e.errorMsg)})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.addNewOrganisation=function(){var e={orgId:this.userOrgId,organisationName:this.orgName,type:this.orgType};console.log(e),this._manageOrganisationServices.createOrg.emit(e)},e.prototype.customerDetail=function(e){console.log(e);var t={};this.userDetails=null;var n=e.split(".")[0],i=n.replace("-","+").replace("_","/");return t.userType=JSON.parse(window.atob(i)),n=e.split(".")[1],i=n.replace("-","+").replace("_","/"),t.details=JSON.parse(window.atob(i)),this.userDetails=t,console.log(this.userDetails),t},e.prototype.goToDashboard=function(){this._router.navigate(["dashboard"])},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e}();p=c([n.i(i.Component)({selector:"app-add-organisation",template:n("xnN9"),styles:[n("UDCI")]}),d("design:paramtypes",["function"==typeof(u=void 0!==o.LocalStorageService&&o.LocalStorageService)&&u||Object,"function"==typeof(h=void 0!==r.b&&r.b)&&h||Object,"function"==typeof(m=void 0!==s.b&&s.b)&&m||Object,"function"==typeof(g=void 0!==a.a&&a.a)&&g||Object,"function"==typeof(f=void 0!==l.t&&l.t)&&f||Object])],p);var u,h,m,g,f},cnme:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"div{font-family:Helvetica}.logo{width:100px;padding:2px;height:19px}.service-name{white-space:nowrap;font-size:11px;position:absolute;top:28px;left:38px;font-family:Helvetica}.header{padding:5px 0 4px 15px;background-color:#3f51b5;color:#fff;height:45px;box-shadow:0 0 6px #a9a9a9}.setting-button{margin-left:auto;margin-right:15px}.menu-button{color:#d7d6d2}.menu-button>>>.mat-button-focus-overlay{background-color:hsla(0,0%,100%,0)}.menu-button:hover{color:#fff!important}",""]),e.exports=e.exports.toString()},fSDF:function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc"),r=n("xzyi"),s=n("JgC9"),a=n("N2o7"),l=(n.n(a),n("Z04r"));n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n,i,o){var r=this;this._router=e,this.shipmentServices=t,this._store=n,this.localStorgeService=i,this.snackBar=o,this.doughnutChartData=[],this.doughnutChartType="doughnut",this.doughnutColor=[{backgroundColor:["#71a2ec","#a1f2f5","#d7d8df"]}],this.doughnutChartOptions={cutoutPercentage:65},this.unSub_allShipmentList=null,this.unSub_shipmentIdList=null,this.unSub_shipmentDetail=null,this.unSub_switchShipment=null,this.isShowDetails=!1,this.isSwitchShipmentDialog=!1,this.selectedFilter="all",this.shipmentId=[],this.allShipment=[],this.selectedVehicleList=[],this.previousSelectedVehicle={_isShowDetails:!1},this.search="",this.active=0,this.deliverd=0,this.isSpinner=!0,this.unSub_checkVehicle=null,this.trackerType="Tracker",this.isShowTrip=!1,this.isSpin=!0,this.switchShipment={isToggle:!1},this.length=0,this.pageSize=10,this.pageSizeOptions=[5,10,25,100],this.shipmentServices.getShipmentList.emit(),this.unSub_allShipmentList=this._store.select("allShipmentList").subscribe(function(e){if(null!=e)if(""==e.error){r.allShipment=e.res,r.setChart(r.allShipment),r.active=0,r.deliverd=0;for(var t=0;t<r.allShipment.length;t++)r.allShipment[t].isToggle=!1,"Created"!=r.allShipment[t].shipmentState&&"Started"!=r.allShipment[t].shipmentState||(r.active=r.active+1,r.allShipment[t]._shipmentStatus),"Completed"==r.allShipment[t].shipmentState&&(r.deliverd=r.deliverd+1,r.allShipment[t]._shipmentStatus);r.isSpinner=!1}else r.openSnackBar(e.errorMsg),r.isSpinner=!1;r.selectedVehicleList=r.allShipment.slice(0,r.pageSize),r.length=r.allShipment.length}),this.unSub_checkVehicle=this._store.select("checkVehicle").subscribe(function(e){null!=e&&(""==e.error&&1==e.res.exist?(r.trackerType="Trip",r.vehicleObj=e.res.vehicle,r.isShowTrip=!0,r.isSpin=!1,console.log(r.vehicleObj)):(r.trackerType="Tracker",r.isShowTrip=!1,r.isSpin=!1))}),this.unSub_switchShipment=this._store.select("switchShipment").subscribe(function(e){null!=e&&(""==e.error?r.isSpinner=!1:(r.isSpinner=!1,r.openSnackBar(e.errorMsg)))})}return e.prototype.ngOnInit=function(){},e.prototype.confirmSwitchShipment=function(){var e;"Trip"==this.trackerType&&(e={shipmentId:this.switchShipment.shipmentId,trackingType:"Trip",deviceImei:this.vehicleObj.vtsDeviceId,vehicleId:this.vehicleObj.vehicleId}),"Tracker"==this.trackerType&&(e={shipmentId:this.switchShipment.shipmentId,trackingType:"Tracker",deviceImei:this.trackerIMEI}),this.shipmentServices.switchShipmentDetail.emit(e),this.isSwitchShipmentDialog=!1},e.prototype.closeToggle=function(){this.switchShipment.isToggle=!1,this.isSwitchShipmentDialog=!1},e.prototype.checkVehicle=function(e){var t=this;e.isToggle=!0,this.switchShipment=e,this.switchShipment.isToggle=!0,this.shipmentServices.checkVehicle.emit(e.vehicleRegistrationNumber),this.isSpin=!0,setTimeout(function(){t.isSwitchShipmentDialog=!0},500)},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_allShipmentList&&null!=this.unSub_allShipmentList&&void 0!=this.unSub_allShipmentList&&this.unSub_allShipmentList.unsubscribe()},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"OK",{duration:4e3})},e.prototype.chartClicked=function(e){console.log(e)},e.prototype.chartHovered=function(e){console.log(e)},e.prototype.changeBgColor=function(e){console.log(e),e!=this.previousSelectedVehicle&&(e._isShowDetails=!0,this.previousSelectedVehicle._isShowDetails=!1,this.previousSelectedVehicle=e)},e.prototype.closeDetails=function(){this.previousSelectedVehicle._isShowDetails=!1},e.prototype.selectTableHeight=function(){console.log(this.pageEvent.pageSize),console.log(this.pageEvent.pageIndex),this.selectedVehicleList=this.allShipment.slice(this.pageEvent.pageSize*this.pageEvent.pageIndex,this.pageEvent.pageSize*(this.pageEvent.pageIndex+1)),this.previousSelectedVehicle._isShowDetails=!1,this.isShowDetails=!1},e.prototype.selectedShipmentDetail=function(e){this.trackingType=e.trackingType;var t=e.shipmentId;this.shipmentServices.getShipmentDetail.emit(t)},e.prototype.setChart=function(e){for(var t=0,n=0,i=0,o=0;o<e.length;o++)"Tracker"==e[o].trackingType&&(t+=1),"Trip"==e[o].trackingType&&(n+=1),"Manual"==e[o].trackingType&&(i+=1);var r=[n,t,i];this.doughnutChartData=r},e.prototype.download=function(){var e,t=[],n="",i="",o="",r="",s="";console.log("done");for(var a=0;a<this.allShipment.length;a++){n=this.allShipment[a].startLocationName,i=this.allShipment[a].endLocationName,o=this.allShipment[a].vts,s=this.allShipment[a].vehicleRegistrationNumber,r=this.allShipment[a].currentLocationName,e=new Date(this.allShipment[a].plannedStartTime);var l={"Vehicle Number":s,"Shipment Status":o,Consigner:n,Consignee:i,"Current Location":r,"Start Time":e.getDate()+" "+this.getMonthName(e.getMonth())+" "+e.getFullYear()+" "+this.to12HourFormat(e),Distance:(0).toFixed(2)+" km"};t.push(l)}var c=this.ConvertToCSV(t),d=document.createElement("a");d.setAttribute("style","display:none;"),document.body.appendChild(d);var p=new Blob([c],{type:"text/csv"}),u=window.URL.createObjectURL(p);d.href=u,d.download="shipment_list.csv",d.click()},e.prototype.ConvertToCSV=function(e){var t=e,n="",i="";for(var o in e[0])i+=o+",";i=i.slice(0,-1),n+=i+"\r\n";for(var r=0;r<t.length;r++){var s="";for(var o in t[r])""!=s&&(s+=","),s+=JSON.stringify(t[r][o]);n+=s+"\r\n"}return n},e.prototype.getMonthName=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(e)]},e.prototype.msToTime=function(e){var t=e/1e3,n=Math.floor(t%60);t/=60;var i=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+" d "),o>0&&(s=s+o+" hr "),r>=1?s:i>0?s=s+i+" min":(n>0&&""==s&&(s=s+n+" sec"),""==s?"0 sec":s)},e.prototype.to12HourFormat=function(e){return(e.getHours()+11)%12+1+":"+e.getMinutes()+" "+(e.getHours()>=12?"PM":"AM")},e.prototype.createNewShipment=function(){this._router.navigate(["dashboard/newShipment"])},e}();p=c([n.i(i.Component)({selector:"app-shipment-status",template:n("qZ1l"),styles:[n("7T+b")]}),d("design:paramtypes",["function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(h=void 0!==r.a&&r.a)&&h||Object,"function"==typeof(m=void 0!==s.b&&s.b)&&m||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object,"function"==typeof(f=void 0!==l.t&&l.t)&&f||Object])],p);var u,h,m,g,f},fYHi:function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc");n.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this._router=e}return e.prototype.ngOnInit=function(){},e.prototype.goToShipmentGroupsManagement=function(){this._router.navigate(["dashboard/shipmentManagementComponent"])},e.prototype.goToUserManagement=function(){this._router.navigate(["dashboard/userManagementConsole"])},e}();a=r([n.i(i.Component)({selector:"app-manage-organisation",template:n("DPIF"),styles:[n("V+2F")]}),s("design:paramtypes",["function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],a);var l},gr5k:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,'.top-header{background-color:#1976d2;width:100%;padding-bottom:3px}.custom-button button{height:23px;font-size:11px;line-height:23px;border-radius:4px;min-width:5px}md-card{padding:9px;min-width:250px}div{font-family:Helvetica!important}.confirm-location{padding:22px;min-height:100px;max-height:200px;overflow:auto;border:1px solid #d1d1d1;min-width:175px}.mycustomDialog{position:fixed;z-index:990;padding-top:30%;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.mycustomDialog button{width:10%}.my-hr{border-style:ridge;border-width:1px;margin-top:6px;min-width:250px;margin-bottom:3px}.timeline-icon{top:50px}.timeline-icon,.timeline-image{position:absolute;left:71px}.wfl-imeline-image{position:absolute;left:50px;color:#428fd4}.EFP_icon{position:absolute;height:100%;margin-left:54px}.EFP_timeline_icon{position:absolute;background-color:#fff;left:48px;top:-3px;font-size:18px}.cd-timeline{position:relative}.cd-timeline:before{bottom:37px;content:"";position:absolute;border-radius:1px;left:85px;height:100%;width:1.4px;background:#9b9b9b}.wfl-timeline{position:relative}.wfl-timeline:before{content:"";position:absolute;border-radius:1px;left:55px;height:100%;width:3.4px;background:#428fd4}.DP-timeline1{position:relative}.DP-timeline1:before{top:-17px;content:"";position:absolute;border-radius:1px;left:53px;height:150%;width:3.4px;background:#428fd4}.DP-timeline{position:relative}.DP-timeline:before{top:-17px;content:"";position:absolute;border-radius:1px;left:53px;height:100%;width:3.4px;background:#428fd4}.DP_timeline-image{margin-left:41px;color:#428fd4;font-size:20px}.unvisited-timeline{position:relative}.unvisited-timeline:before{content:"";position:absolute;border-radius:1px;left:85px;height:100%;border-left:1.4px dashed #9b9b9b}.EFP_unvisited-timeline{position:relative}.EFP_unvisited-timeline:before{top:15px;content:"";position:absolute;border-radius:1px;left:55px;height:100%;border-width:6px;border-left:dotted #d0d0d0}.EFP_unvisited-timeline1{position:relative}.EFP_unvisited-timeline1:before{top:15px;content:"";position:absolute;border-radius:1px;left:55px;height:150%;border-width:6px;border-left:dotted #d0d0d0}.timeline-header{text-align:center;display:-ms-grid;display:grid;margin:-8px -8px 2px -8px;box-shadow:0 1px 1px #999;padding:10px;display:list-item}.show-down-Slowly{margin-top:8px!important;transition:margin-top .3s;-webkit-transition:margin-top .3s}.data-box{margin-left:8px;width:98%;font-size:11px;color:#9b9b9b}.hide-up-Slowly{transition:margin-top .3s;-webkit-transition:margin-top .3s}.vehicle-no{font-size:20px;color:hsla(0,0%,100%,.94);margin-left:10px}.vehicle-status{background-color:#1d6be7}.vehicle-status,.vehicle-status1{padding:4px;text-align:center;font-size:16px;color:#fff}.vehicle-status1{background-color:#6d6f74}.current-vehicle-card{background-color:#dbdee2;color:#140505;padding-top:15px;padding-bottom:10px}.current-vehicle-card1{background-color:#acaeb3;color:#fff;padding-top:15px;padding-bottom:10px}.driver-name{margin-left:auto;font-size:15px;color:hsla(0,0%,100%,.87);padding:2px 8px}.phone-icon{margin-left:8px;color:#fff;font-size:16px}.alert-box{font-size:13px;line-height:1.67;color:rgba(0,0,0,.54)}.disconnected{background-color:#ff5252;border:1px solid #ff5252;color:#fff;font-size:18px;text-align:center;padding:3px}.time{color:#9b9b9b;text-align:center;display:-ms-grid;display:grid;font-size:11px;min-width:50px;max-width:60px;overflow:hidden}.rotate{-webkit-transform:rotate(90deg);transform:rotate(90deg);font-size:13px}.travling-time{position:absolute;margin-left:-133px;display:-ms-grid;display:grid;text-align:center;height:100%;min-width:50px;max-width:68px;margin-top:-15px}.customExpansionPanel>>>.mat-expansion-panel-body{padding:0!important}.custom-modal-container{padding:15px}.custom-modal-header{background-color:#219161;color:#fff;box-shadow:0 3px 5px 0 rgba(0,0,0,.75);margin-top:-15px;margin-bottom:40px}.modal-content{position:relative;background-color:#fefefe;margin:auto;padding:0;border-radius:5px;border:1px solid #888;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.3);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;-webkit-animation-duration:.2s;animation-duration:.2s}',""]),e.exports=e.exports.toString()},h67Z:function(e,t,n){e.exports=n.p+"background-profile.82e0e4644bf995625d93.png"},i6Q7:function(e,t,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("N2o7"),s=(n.n(r),n("BkNc")),a=n("p5Ee"),l=n("JgC9"),c=n("whJe");n.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,i,r,s){this.zone=e,this.http=t,this.localStorageService=n,this.logoutService=i,this._router=r,this._store=s,this.unSub_customerDetails=null,this.customerName="",this.customerMobile="",this.currentOrgId="",this.userDetails=null,this.viewType="",this.isOrgList=!1,this.authToken=null,this.orgList=["fretron traccar","Fretron vehicle Tracking"],this.defaultHeaders=new o.c,this.defaultHeaders.append("Access-Control-Allow-Origin","*"),this.defaultHeaders.append("Access-Control-Allow-Methods","GET,POST, OPTIONS, PUT, PATCH, DELETE");var a=this.localStorageService.get("AUTH_TOKEN");console.log(a),null!=a&&(this.authToken=a,this.refreshUser())}return e.prototype.ngOnDestroy=function(){},e.prototype.refreshUser=function(){console.log(this.authToken),this.customerDetail(this.authToken),this.getOrganization(this.authToken)},e.prototype.ngOnInit=function(){this.viewType=this.view},e.prototype.customerDetail=function(e){var t={};this.userDetails=null;var n=e.split(".")[1],i=n.replace("-","+").replace("_","/");t=JSON.parse(window.atob(i)),t.id=t.userId,this.userDetails=t,this.customerName=t.name,this.customerMobile=t.mobileNumber,this.currentOrgId=t.orgId,console.log(this.userDetails),this._store.dispatch({type:"CUSTOMER_DETAILS",payload:{customer:this.userDetails}})},e.prototype.logout=function(){this.logoutService.logout()},e.prototype.switchOrg=function(e){var t=this;console.log(e),console.log(this.userDetails);var n=a.a.SWITCH_ORG_PATH+e.uuid,i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var r="Bearer "+this.authToken;i.set("authorization",r);var s=new o.d({method:o.e.Get,headers:i});console.log(n),console.log(r),this.http.request(n,s).map(function(e){return e.json()}).subscribe(function(n){if(console.log(n),n.status>=200&&n.status<300)if(t.userDetails.orgType==e.type)t.localStorageService.clearAll(),t.localStorageService.set("AUTH_TOKEN",n.token),t.authToken=t.localStorageService.get("AUTH_TOKEN"),t.refreshUser(),t.zone.runOutsideAngular(function(){location.reload()});else{t.localStorageService.clearAll(),t.localStorageService.set("AUTH_TOKEN",n.token),t.authToken=t.localStorageService.get("AUTH_TOKEN"),t.refreshUser();var i="http://"+window.location.hostname+":"+window.location.port;console.log(i+"/transporter"),"TRANSPORTER"==e.type?window.location.replace(i+"/transporter"):"FLEET_OWNER"==e.type?window.location.replace(i+"/tracknet/vtsdashboard"):e.type}else console.log("error")},function(e){console.log(e),console.log(e.json())})},e.prototype.getOrganization=function(e){var t=this;this.orgList=[];var n=a.a.ORGANIZATION_LIST_PATH,i=new o.c(this.defaultHeaders.toJSON());i.set("Content-Type","application/json");var r="Bearer "+e;i.set("authorization",r);var s=new o.d({method:o.e.Get,headers:i});this.http.request(n,s).map(function(e){return e.json()}).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?(t.orgList=e.list,console.log(t.orgList)):console.log(e.error)},function(e){console.log(e),console.log(e.json())})},e.prototype.goToAddOrganisation=function(){this._router.navigate(["dashboard/addOrganisation"])},e}();d([n.i(i.Input)(),p("design:type",Object)],u.prototype,"view",void 0),u=d([n.i(i.Component)({selector:"app-user-profile",template:n("v6by"),styles:[n("lX1N")]}),p("design:paramtypes",["function"==typeof(h=void 0!==i.NgZone&&i.NgZone)&&h||Object,"function"==typeof(m=void 0!==o.f&&o.f)&&m||Object,"function"==typeof(g=void 0!==r.LocalStorageService&&r.LocalStorageService)&&g||Object,"function"==typeof(f=void 0!==c.a&&c.a)&&f||Object,"function"==typeof(v=void 0!==s.b&&s.b)&&v||Object,"function"==typeof(x=void 0!==l.b&&l.b)&&x||Object])],u);var h,m,g,f,v,x},"j3/x":function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc"),r=n("Z04r"),s=n("xzyi"),a=n("HKFS"),l=n("JgC9");n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n,i,o){var r=this;this._router=e,this.dialog=t,this.shipmentServices=n,this._store=i,this.manualShipment=o,this.vehicleState="",this.vehicleStatus="",this.unSub_shipmentDetail=null,this.isExtended=!1,this.selectedShipment={},this.reportingTime=null,this.deptatureTime=null,this.isSpinner=!0,this.movementLegs=[],this.isShowLocation=!0,this.trackingType="manual",this.isConfirmPickupDialog=!1,this.isConfirmDeliveryDialog=!1,this.isConfirmUpdateLocationDialog=!1,this.validationErrorMgs=null,this.unSub_shipmentDetail=this._store.select("shipmentDetail").subscribe(function(e){if(null!=e&&""==e.error){if(r.isShowLocation=!0,r.isSpinner=!1,r.selectedShipment=e.res,r.tripId=r.selectedShipment.vts.tripId,r.vehicleId=r.selectedShipment.vts.vehicleId,r.vehicleStatus=r.selectedShipment.vts.state,r.pickupLocation=r.selectedShipment.currentShipment.startLocation.freightLocation.name,r.deliveryLocation=r.selectedShipment.currentShipment.endLocation.freightLocation.name,null!=r.selectedShipment.movementLegs){r.movementLegs=r.selectedShipment.movementLegs.reverse(),r.movLegLength=r.selectedShipment.movementLegs.length;for(var t=0;t<r.movementLegs.length;t++)r.movementLegs[t]._date=r.tsToDateTime(r.movementLegs[t].startTime)}r.tillTime=r.selectedShipment.currentShipment.endLocation.tillTime,"EnrouteForPickUp"==r.vehicleStatus&&(r.reportingTime=null,r.deptatureTime=null),"AtPickUpPoint"==r.vehicleStatus&&(r.deptatureTime=null,r.selectedShipment.currentShipment.startLocation._sinceTime=r.msToTime((new Date).getTime()-r.selectedShipment.currentShipment.startLocation.fromTime),r.reportingTime=new Date(r.selectedShipment.currentShipment.startLocation.fromTime).toDateString()+" "+new Date(r.selectedShipment.currentShipment.startLocation.fromTime).toTimeString()),"EnrouteForDestination"==r.vehicleStatus&&(r.reportingTime=null,r.deptatureTime=null,r.selectedShipment.currentShipment.startLocation._endTime=r.tsToDateTime(r.selectedShipment.currentShipment.planedEndTime),r.selectedShipment.currentShipment.startLocation._loadTime=r.msToTime(r.selectedShipment.currentShipment.startLocation.tillTime-r.selectedShipment.currentShipment.startLocation.fromTime),r.selectedShipment.currentShipment.startLocation._dateTime=r.tsToDateTime(r.selectedShipment.currentShipment.startLocation.fromTime)),"AtDestination"==r.vehicleStatus&&(r.reportingTime=new Date(r.selectedShipment.currentShipment.endLocation.fromTime).toDateString()+" "+new Date(r.selectedShipment.currentShipment.endLocation.fromTime).toTimeString(),r.selectedShipment.currentShipment.endLocation._sinceTime=r.msToTime((new Date).getTime()-r.selectedShipment.currentShipment.endLocation.fromTime),r.selectedShipment.currentShipment.endLocation._unLoadTime=r.msToTime(r.selectedShipment.currentShipment.endLocation.tillTime-r.selectedShipment.currentShipment.endLocation.fromTime),r.selectedShipment.currentShipment.startLocation._loadTime=r.msToTime(r.selectedShipment.currentShipment.startLocation.tillTime-r.selectedShipment.currentShipment.startLocation.fromTime),r.selectedShipment.currentShipment.startLocation._dateTime=r.tsToDateTime(r.selectedShipment.currentShipment.startLocation.fromTime),null!=r.tillTime&&void 0!=r.tillTime&&""!=r.tillTime||(r.selectedShipment.currentShipment.endLocation._destDateTime=r.tsToDateTime(r.selectedShipment.currentShipment.planedEndTime)),null==r.tillTime&&void 0==r.tillTime&&""==r.tillTime||(r.selectedShipment.currentShipment.endLocation._destDateTime=r.tsToDateTime(r.selectedShipment.currentShipment.endLocation.tillTime))),null!=r.selectedShipment.currentShipment&&(r.selectedShipment.currentShipment._transiteTime=r.msToTime(r.selectedShipment.currentShipment.planedEndTime-r.selectedShipment.currentShipment.planedStartTime),console.log(r.selectedShipment.currentShipment._transiteTime))}})}return e.prototype.ngOnInit=function(){},e.prototype.goToConfirmPickupView=function(){this.validationErrorMgs=null,this.forEditPlace="Confirm Pickup",this.isConfirmPickupDialog=!0},e.prototype.confirmPickup=function(){var e=this;if("EnrouteForPickUp"==this.vehicleStatus){if(!this.checkRepoValid())return;if(null!=this.deptatureTime&&!this.checkDepaValid())return}if("AtPickUpPoint"==this.vehicleStatus){if(!this.checkRepoValid())return;if(!this.checkDepaValid())return}var t;t=null==this.reportingTime||void 0==this.reportingTime||""==this.reportingTime?null:new Date(this.reportingTime).getTime();var n;n=null==this.deptatureTime||void 0==this.deptatureTime||""==this.deptatureTime?null:new Date(this.deptatureTime).getTime();var i={vehicleId:this.vehicleId,type:"user.add.missing.pickup",tripId:this.tripId,startTime:t,endTime:n,trackingType:this.trackingType,deviceImei:null,locationInfo:null,vehicleStateInfo:null};console.log(i),this.manualShipment.pickup.emit(i),this.isConfirmPickupDialog=!1,this.isSpinner=!0,setTimeout(function(){e.shipmentServices.getShipmentDetail.emit(e.selectedShipment.currentShipment.shipmentId)},500)},e.prototype.goToConfirmDeliveryView=function(){this.validationErrorMgs=null,this.forEditPlace="Confirm Delivery",this.isConfirmDeliveryDialog=!0},e.prototype.goToupdateLocationView=function(){this.forEditPlace="Add Location",this.isConfirmUpdateLocationDialog=!0},e.prototype.addLocation=function(){var e=this;if(null==this.updateTime)return void(this.validationErrorMgs="Update Time should not be blank");var t=(new Date).getTime();if(new Date(this.updateTime).getTime()>t)return void(this.validationErrorMgs="Update Time should not be greater then current date");var n={vehicleId:null,type:"add.stop",tripId:this.tripId,startTime:new Date(this.updateTime).getTime(),endTime:null,deviceImei:null,trackingType:this.trackingType,locationInfo:{latitude:28.4592693,longitude:77.07241920000001,speed:0,time:null,imei:" ",vehicleId:" ",address:this.currentLocationName,lngLat:[0]},vehicleStateInfo:null};console.log(n),this.manualShipment.addStop.emit(n),this.isConfirmUpdateLocationDialog=!1,this.isSpinner=!0,setTimeout(function(){e.shipmentServices.getShipmentDetail.emit(e.selectedShipment.currentShipment.shipmentId)},500)},e.prototype.checkRepoValid=function(){if(null==this.reportingTime)return this.validationErrorMgs="Reporting Time should not be blank",!1;var e=(new Date).getTime();return!(new Date(this.reportingTime).getTime()>e)||(this.validationErrorMgs="Reporting Time should not be greater then current date",!1)},e.prototype.checkDepaValid=function(){if(null==this.deptatureTime)return this.validationErrorMgs="Departure Time should not be blank",!1;if(new Date(this.deptatureTime).getTime()<new Date(this.reportingTime).getTime())return this.validationErrorMgs="Departure Time should not be less then Reporting Time",!1;var e=(new Date).getTime();return!(new Date(this.deptatureTime).getTime()>e)||(this.validationErrorMgs="Departure Time should not be greater then current date",!1)},e.prototype.confirmDelivery=function(){var e=this;if("EnrouteForDestination"==this.vehicleStatus){if(!this.checkRepoValid())return;if(null!=this.deptatureTime&&!this.checkDepaValid())return}if("AtDestination"==this.vehicleStatus){if(!this.checkRepoValid())return;if(!this.checkDepaValid())return}var t;t=null===this.reportingTime?null:new Date(this.reportingTime).getTime();var n;n=null===this.deptatureTime?null:new Date(this.deptatureTime).getTime();var i={vehicleId:this.vehicleId,type:"user.add.missing.delivery",tripId:this.tripId,startTime:t,endTime:n,trackingType:this.trackingType,deviceImei:null,locationInfo:null,vehicleStateInfo:null};console.log(i),this.manualShipment.delivery.emit(i),this.isConfirmDeliveryDialog=!1,this.isSpinner=!0,setTimeout(function(){e.shipmentServices.getShipmentDetail.emit(e.selectedShipment.currentShipment.shipmentId)},1e3)},e.prototype.tsToDate=function(e){var t;t=new Date(e).toDateString();var n=t.substr(8,2)+"-"+t.substr(4,3)+" "+t.substr(11,4);return console.log(n),n},e.prototype.tsToDateTime=function(e){var t,n;t=new Date(e).toDateString(),n=new Date(e).toTimeString().substr(0,5);var i;i=n.substr(0,2)>=12?n.substr(0,2)%12+n.substr(2,3)+" PM":n.substr(0,5)+" AM";var o=t.substr(8,2)+"-"+t.substr(4,3)+" "+t.substr(11,4)+", at "+i;return console.log(o),o},e.prototype.msToTime=function(e){var t=e/1e3,n=Math.floor(t%60);t/=60;var i=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:i>0?s=s+i+"min":(n>0&&""==s&&(s=s+n+" sec"),""==s?"0 sec":s)},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_shipmentDetail&&null!=this.unSub_shipmentDetail&&void 0!=this.unSub_shipmentDetail&&this.unSub_shipmentDetail.unsubscribe()},e}();p=c([n.i(i.Component)({selector:"app-manual-shipment-status",template:n("mAGm"),styles:[n("gr5k")]}),d("design:paramtypes",["function"==typeof(u=void 0!==o.b&&o.b)&&u||Object,"function"==typeof(h=void 0!==r.v&&r.v)&&h||Object,"function"==typeof(m=void 0!==s.a&&s.a)&&m||Object,"function"==typeof(g=void 0!==l.b&&l.b)&&g||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object])],p);var u,h,m,g,f},lX1N:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".profile-container{margin:-8px -9px 10px -6px}.profile-container,.profile-container-desktop{position:relative;height:150px;background-image:url("+n("h67Z")+")}.profile-container-desktop{width:280px;margin-top:-8px}.logo{padding:2px;background-color:#a9a9a9;width:90%;width:27%;float:right}.org-list-element{margin-bottom:5px;border-bottom:1px solid #f0f8ff;padding:7px}.org-list-element:hover{background-color:#dfe9ff}.profile-pic{position:absolute;left:10px;top:18px;background-size:cover;height:60px;width:60px;background-color:#f5f5f5;border-radius:50%;background-repeat:no-repeat;background-position:50%}.user-org-details{position:absolute;bottom:5px;right:5px}.org-list{overflow:auto;z-index:1;width:95%;height:calc(100vh - 160px);background-color:#fff;position:absolute}",""]),e.exports=e.exports.toString()},mAGm:function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100;background-color: white;" class="slow-down">\r\n    <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n    <div>\r\n        <div>\r\n           <span class="driver-name-web" >Driver</span>\r\n        </div>\r\n        <div>\r\n           <a class="driver-name-web" href="tel:{{selectedShipment[\'currentShipment\']?.mobileNo}}" >\r\n             <i  class="fa fa-phone" aria-hidden="true"></i>&nbsp;+91{{selectedShipment[\'currentShipment\']?.mobileNo}}\r\n           </a>\r\n        </div>\r\n    </div>\r\n    \x3c!--************************ confirm pickup dialog *********************************--\x3e\r\n    <div *ngIf="isConfirmPickupDialog"  class="mycustomDialog" style="padding-top: 70px;overflow:unset">\r\n      <div class="modal-content" style="width: 60%;min-width: 250px;overflow:unset;max-width: 560px;margin-top: 34px;height:60vh;">\r\n        <div class="modal-header">\r\n          <span class="close" (click)="isConfirmPickupDialog=false;" >&times;</span>\r\n          <div>\r\n            <label>{{forEditPlace}}</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div  style="padding: 18px;font-size: 17px;margin-top:40px;overflow:unset;" >\r\n          <div >\r\n            <span style="color:red;font-size: 13px;margin-left: 70px;" >{{validationErrorMgs}}</span>\r\n            <div style="margin-left: 60px" >\r\n              <label>Pickup Location&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;</label><span> {{pickupLocation}}</span>\r\n            </div>\r\n            <div style="margin-left: 60px;margin-top: 15px;">\r\n              <label>Reporting Time&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;</label>\r\n              <div fxFlex="48" style="width:65%;">\r\n                <owl-date-time [autoClose]=true placeholder="ReportingTime" [(ngModel)]="reportingTime" id="reportingTime"  [dateFormat]="\'DD-MM-YYYY hh:mm\'"  ></owl-date-time>\r\n              </div>\r\n              \x3c!-- <md-input-container>\r\n                <input mdInput [(ngModel)]="reportingTime" name="reportingTime"   (focus)="changeTime1()"\r\n                onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;">\r\n              </md-input-container> --\x3e\r\n            </div>\r\n            <div style="margin-left: 60px;margin-top: 15px;">\r\n              <label>Departure Time&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp; </label>\r\n              <div fxFlex="48" style="width:65%;">                  \r\n                <owl-date-time [autoClose]=true placeholder="Deptature Time" [(ngModel)]="deptatureTime" id="deptatureTime"  [dateFormat]="\'DD-MM-YYYY hh:mm\'" ></owl-date-time>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style="margin-top: 40px;">\r\n              <button md-raised-button  style="margin-left: 120px;margin-top: 30px" (click)="isConfirmPickupDialog=false;" >Cancel</button>\r\n              <button md-raised-button  style="margin-left: 60px;margin-top: 30px;width: 30%" (click)="confirmPickup()" >Confirm Pickup</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \x3c!-- close edit trip dialog --\x3e\r\n    \x3c!--************************ confirm delivery dialog *********************************--\x3e\r\n    <div *ngIf="isConfirmDeliveryDialog"  class="mycustomDialog" style="padding-top: 70px;overflow:unset">\r\n      <div class="modal-content" style="width: 60%;min-width: 250px;overflow:unset;max-width: 560px;height:60vh;">\r\n        <div class="modal-header">\r\n          <span class="close" (click)="isConfirmDeliveryDialog=false;" >&times;</span>\r\n          <div>\r\n            <label>{{forEditPlace}}</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div  style="padding: 18px;font-size: 17px;margin-top:40px ;" >\r\n            <span style="color:red;font-size: 13px;margin-left: 70px;" >{{validationErrorMgs}}</span>\r\n            <div style="margin-left: 60px" >\r\n                <label>Delivery Location&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp; </label><span>{{deliveryLocation}}</span>\r\n              </div>\r\n            <div style="margin-left: 60px;margin-top: 15px;">\r\n                <label>Reporting Time &nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp; </label>\r\n                <div fxFlex="48" style="width:65%;">                 \r\n                  <owl-date-time [autoClose]=true placeholder="\'DD-MM-YYYY hh:mm\'" [(ngModel)]="reportingTime" id="reportingTime"  [dateFormat]="\'DD-MM-YYYY hh:mm\'"  ></owl-date-time>              \r\n                </div>\r\n            </div>\r\n            <div style="margin-left: 60px;margin-top: 15px;">\r\n              <label>Departure Time&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;</label>\r\n              <div fxFlex="48" style="width:65%;overflow:unset">                  \r\n               <owl-date-time [autoClose]=true placeholder="\'DD-MM-YYYY hh:mm\'" [(ngModel)]="deptatureTime" id="deptatureTime"  [dateFormat]="\'DD-MM-YYYY hh:mm\'" ></owl-date-time>              \r\n              </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div style="margin-top: 40px;">\r\n            <button md-raised-button  style="margin-left: 120px;margin-top: 30px" (click)="isConfirmDeliveryDialog=false;" >Cancel</button>\r\n            <button md-raised-button  style="margin-left: 60px;margin-top: 30px;width: 30%" (click)="confirmDelivery()" >Confirm Delivery</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \x3c!-- close edit trip dialog --\x3e\r\n\r\n    \x3c!--************************ add loaction dialog *********************************--\x3e\r\n    <div *ngIf="isConfirmUpdateLocationDialog"  class="mycustomDialog" style="padding-top: 70px;overflow:unset">\r\n      <div class="modal-content" style="width: 60%;min-width: 250px;overflow: unset;max-width: 560px;height:60vh;">\r\n        <div class="modal-header">\r\n          <span class="close" (click)="isConfirmUpdateLocationDialog=false;" >&times;</span>\r\n          <div>\r\n            <label>{{forEditPlace}}</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div  style="padding: 18px;font-size: 17px;margin-top:40px;overflow:unset;" >\r\n            <span style="color:red;font-size: 13px" >{{validationErrorMgs}}</span>            \r\n            <div style="margin-left: 60px">\r\n                <label>Current Location &nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp; </label>\r\n                <md-input-container>\r\n                  <input mdInput [(ngModel)]="currentLocationName" name="currentLocationName" id="currentLocationName">\r\n                </md-input-container>\r\n            </div>\r\n            <div style="margin-left: 60px">\r\n              <label> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;</label>\r\n              <div fxFlex="48" style="width:65%;">\r\n                <owl-date-time [autoClose]=true placeholder="Update Time" [(ngModel)]="updateTime" id="updateTime"  [dateFormat]="\'DD-MM-YYYY hh:mm\'"></owl-date-time>\r\n              </div>\r\n              \x3c!-- <md-input-container>\r\n                <input  mdInput [(ngModel)]="updateTime" name="updateTime" id="updateTime" (focus)="changeTime2()"\r\n                onkeydown="if(((event.keyCode<=65 &&  event.keyCode>=122)) && event.keyCode!=8 && event.keyCode!=13 )return false;">\r\n              </md-input-container> --\x3e\r\n            </div>\r\n\r\n        </div>\r\n        <div style="margin-top: 30px">\r\n            <button md-raised-button  style="margin-left: 120px;margin-top: 30px" (click)="isConfirmUpdateLocationDialog=false;" >Cancel</button>\r\n            <button md-raised-button  style="margin-left: 60px;margin-top: 30px;width: 30%" (click)="addLocation()" >Update Location</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \x3c!-- close add location dialog --\x3e\r\n\r\n    \x3c!-- done    selected vahicle for Manually Shipment Tracking --\x3e\r\n    \x3c!-- done --\x3e\r\n\r\n    <div *ngIf="vehicleStatus == \'EnrouteForPickUp\'" style="background-color: white">\r\n      <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;border: 2px solid lightgrey;">\r\n        <div style="overflow: hidden;font-size:12px">\r\n          <div>\r\n            <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n              <span style="margin-left: 64px;">Delivery</span>\r\n            </div>\r\n            <div class="EFP_unvisited-timeline">\r\n              <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n              <div style="display:flex">\r\n                <span style="margin-left: 75px;font-weight: bold;color:#7d7d86;">{{selectedShipment.currentShipment.endLocation.freightLocation.name}}</span>\r\n              </div>\r\n\r\n              <div class="fade-sub-header-text" style="margin-left:60px;text-align:left;padding: 18px;font-size:11px;">\r\n                <span>Transite Time :</span>\r\n                <span>{{selectedShipment?.currentShipment?._transiteTime}}</span>\r\n              </div>\r\n              <span class="custom-button" style="float:right;margin-top:10px;">\r\n                <button   md-raised-button style="background-color:#428fd4;color:rgba(255, 255, 255, 0.94);"  (click)="goToConfirmPickupView()">Confirm Pickup</button>\r\n                </span>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <i style="margin-left:48px;margin-top:15px;font-size: 18px;" class="fa fa-circle-thin fade-sub-header-text" aria-hidden="true"></i>\r\n          <div style="display:flex;" class="fade-sub-header-text">\r\n            <span style="margin-left: 68px; margin-top:-30px">Pickup</span>\r\n            <span style="margin-left: -30px;margin-top:-5px;font-weight: bold;color:#7d7d86;">{{selectedShipment.currentShipment.startLocation.freightLocation.name}}</span>\r\n          </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    \x3c!-- done --\x3e\r\n    <div *ngIf="vehicleStatus == \'AtPickUpPoint\'" style="background-color: white">\r\n      <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;border: 2px solid lightgrey;">\r\n\r\n        <div style="overflow: hidden">\r\n          <div class="fade-sub-header-text sub-header-text-size" style="margin: 8px 5px 2px 5px;">\r\n            <span style="margin-left: 64px;">Delivery</span>\r\n          </div>\r\n          <div class="EFP_unvisited-timeline">\r\n            <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n            <div style="display:flex;font-size:15px;font-weight: bold">\r\n              <span class="fade-sub-header-text" style="margin-left: 75px;">{{selectedShipment.currentShipment.endLocation.freightLocation.name}}</span>\r\n            </div>\r\n\r\n            <div class="fade-sub-header-text sub-header-text-size" style="text-align:left;padding: 18px;padding-bottom:60px;">\r\n              <span style="margin-left:50px">Transit :1440 Km in {{selectedShipment?.currentShipment?._transiteTime}}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \x3c!-- **************** for in case of device disconnect ********************** --\x3e\r\n        <div class="vehicle-status1">\r\n          <span>At Pickup point</span>\r\n        </div>\r\n        \x3c!--   ************************************  --\x3e\r\n\r\n        <md-card fxLayout="row" class="current-vehicle-card">\r\n          <div style="margin-left: 31px;">\r\n            <img style="height:30px;" src="../../../images/trip-icons/Enroute.png" alt="image">\r\n          </div>\r\n          <div style="width: 100%">\r\n            <div style="font-size:14px;padding-left: 8px;padding-right: 5px;" class="custom-button">\r\n              <span style="line-height: 1.43">{{selectedShipment.currentShipment.startLocation.freightLocation.name}}</span>\r\n              <button  md-raised-button color="primary" style="background-color:#428fd4;color:rgba(255, 255, 255, 0.94);float:right" (click)="goToConfirmPickupView()">Confirm Pickup</button>\r\n            </div>\r\n\r\n            <div style="white-space: nowrap;margin-bottom: -10px;margin-left:15px">\r\n              <span class="sub-header-text-size">Since {{selectedShipment?.currentShipment?.startLocation?._sinceTime}}</span>\r\n            </div>\r\n          </div>\r\n        </md-card>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!--done--\x3e\r\n    <div *ngIf="vehicleStatus == \'EnrouteForDestination\'" style="background-color: white">\r\n      \x3c!-- *****************************     current trip start here *************************** --\x3e\r\n      <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n        <div style="overflow: hidden;font-size:12px">\r\n          <div>\r\n            <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n              <span style="margin-left: 64px;">Delivery</span>\r\n              <span class="fade-sub-header-text sub-header-text-size" style="float: right;"> {{selectedShipment[\'currentShipment\'][\'startLocation\'][\'_endTime\']}}</span>\r\n            </div>\r\n            <div class="EFP_unvisited-timeline">\r\n              <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n              <div style="display:flex" class="custom-button">\r\n                <span style="margin-left: 75px;font-weight: bold;color:#7d7d86;">{{selectedShipment.currentShipment.endLocation.freightLocation.name}}</span>\r\n                <button   md-raised-button  style="font-size:14px;margin-left:auto;margin-right: -10px;" (click)="goToConfirmDeliveryView()">Confirm Delivery</button>\r\n              </div>\r\n\r\n              <div class="fade-sub-header-text" style="text-align:right;padding: 15px;font-size:11px;">\r\n                \x3c!--<span>Transite Time :</span><span>16 hrs</span>--\x3e\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="vehicle-status1">\r\n          <span>Enroute for Delivery</span>\r\n        </div>\r\n\r\n        <div style="overflow: hidden;">\r\n          <section class="DP-timeline" style="padding: 5px;">\r\n              <span class="custom-button"> <button  md-raised-button color="primary" style="margin-left:60px;margin-top:-10px;font-size:11px" (click)="goToupdateLocationView()">add Location</button></span>\r\n              <div style="margin-left:60px;margin-top:10px;font-size: 11px" *ngIf="isShowLocation">\r\n                <div fxLayout="row" *ngIf="(movLegLength)>=1" style="width:100%;color: #323232;"><span fxFlex=35>{{movementLegs[0].endLocation.address}}</span>  <span  fxFlex=5></span> <span  fxFlex=60 class="fade-sub-header-text sub-header-text-size" >{{movementLegs[0]?._date}}</span></div><br>\r\n                <div fxLayout="row"  *ngIf="movLegLength>=2" style="width:100%;color: #323232;"  ><span fxFlex=35 >{{movementLegs[1].endLocation.address}}</span><span  fxFlex=5></span> <span  fxFlex=60 class="fade-sub-header-text sub-header-text-size" >{{movementLegs[1]?._date}}</span></div>\r\n              </div>\r\n            <md-expansion-panel class="customExpansionPanel" style="box-shadow:none;margin-bottom:20px" hideToggle="true" >\r\n              <md-expansion-panel-header (click)="isExtended = !isExtended;isShowLocation=!isShowLocation" style="margin-left: 61px;padding:0px;" *ngIf="movLegLength-2>0">\r\n                \x3c!-- ******************* when extended == true ******************--\x3e\r\n                <div *ngIf="isExtended" style="width: 100%;">\r\n                  <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;"></i>\r\n                </div>\r\n                \x3c!-- *******************close when extended == true ******************--\x3e\r\n\r\n                \x3c!-- ******************* when extended == false ******************--\x3e\r\n                <div *ngIf="!isExtended" style="display: flex;width: 100%;" class="fade-sub-header-text sub-header-text-size">\r\n                  <div style="display: grid">\r\n                    <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;"></i>\r\n                    <i class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;"></i>\r\n                  </div>\r\n                  <div style="margin-left: 5px;margin-top: 10px;width: 100%;" >\r\n                    <span *ngIf="(movLegLength-2)>0">{{movLegLength-2}} &nbsp;&nbsp;more Location</span>\r\n                  </div>\r\n                </div>\r\n                \x3c!-- *******************close when extended == false ******************--\x3e\r\n              </md-expansion-panel-header>\r\n\r\n              \x3c!-- ******************* when extended == true  body containt******************--\x3e\r\n              <div *ngFor="let movmentLeg of movementLegs" style="margin-left: 70px;display:grid" class="fade-sub-header-text sub-header-text-size" >\r\n                <div style="margin-top: 5px" fxLayout="row">\r\n                 <span fxFlex=35>{{movmentLeg.endLocation.address}}</span><span  fxFlex=5></span><span fxFlex=60>{{movmentLeg?._date}}</span>\r\n               </div>\r\n              </div>\r\n              \x3c!-- ******************* close when extended == true  expansion panel body******************--\x3e\r\n            </md-expansion-panel>\r\n\r\n            <div>\r\n              <i class="fa fa-circle DP_timeline-image" aria-hidden="true"></i>\r\n            </div>\r\n          </section>\r\n          <div style="margin-left: 68px;margin-top: -20px;">\r\n            <div class="fade-sub-header-text sub-header-text-size" style="display:flex;">\r\n              <span>Pickup</span>\r\n              <span style="margin-left: auto;"> {{selectedShipment[\'currentShipment\'][\'startLocation\'][\'_dateTime\']}}</span>\r\n            </div>\r\n            <div style="display: grid;margin-left: 5px;margin-top: 4px;">\r\n              <span class="fade-header-text" style="font-size: 13px">{{selectedShipment?.currentShipment?.startLocation?.freightLocation?.name}}</span>\r\n              <span style="margin-top: 3px;" class="fade-sub-header-text sub-header-text-size">Loading duration {{selectedShipment[\'currentShipment\'][\'startLocation\'][\'_loadTime\']}}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \x3c!-- ************ close current trip ***** --\x3e\r\n    </div>\r\n\r\n    \x3c!--done--\x3e\r\n    <div *ngIf="vehicleStatus == \'AtDestination\' && tillTime==null" style="background-color: white">\r\n      <div style="padding: 5px;border:2px solid lightgrey;">\r\n        <div class="vehicle-status1" >\r\n          <span>At Delivery Point</span>\r\n        </div>\r\n\r\n        <md-card fxLayout="row" class="current-vehicle-card">\r\n          <div style="margin-left: 31px;">\r\n            <i style="font-size: 38px;" class="fa fa-stop-circle" aria-hidden="true"></i>\r\n          </div>\r\n          <div style="width: 100%">\r\n            <div class="custom-button" style="font-size:16px;padding-left: 8px;padding-right: 5px;display: flex">\r\n              <span style="line-height: 1.43;margin-right: 5px;margin-top:5px;font-size:13px">{{selectedShipment?.currentShipment?.endLocation?.freightLocation?.name}}</span>\r\n              <button  md-raised-button  color="primary" style="margin-left:auto;margin-right: -10px;" (click)="goToConfirmDeliveryView()">Confirm Delivery</button>\r\n            </div>\r\n            <div style="margin-top: 8px;font-size: 11px;">\r\n              <span>Since {{selectedShipment?.currentShipment?.endLocation?._sinceTime}}</span>\r\n            </div>\r\n          </div>\r\n        </md-card>\r\n\r\n        <div style="overflow: hidden;">\r\n          <section class="DP-timeline" style="padding: 5px;">\r\n            <div style="margin-left:60px;margin-top:10px;font-size: 11px" *ngIf="isShowLocation">\r\n                <div fxLayout="row" *ngIf="movLegLength>=1"  style="width:100%;color: #323232;"><span fxFlex=35>{{movementLegs[0]?.endLocation?.address}}</span>  <span  fxFlex=5></span> <span  fxFlex=60 class="fade-sub-header-text sub-header-text-size" >{{movementLegs[0]?._date}}</span></div><br>\r\n                <div fxLayout="row"  *ngIf="movLegLength>=2" style="width:100%;color: #323232;"><span fxFlex=35 >{{movementLegs[1]?.endLocation?.address}}</span>  <span  fxFlex=5></span><span  fxFlex=60 class="fade-sub-header-text sub-header-text-size" >{{movementLegs[1]?._date}}</span></div>\r\n            </div>\r\n            <md-expansion-panel class="customExpansionPanel" style="box-shadow:none;margin-bottom:40px" hideToggle="true">\r\n              <md-expansion-panel-header (click)="isExtended = !isExtended;isShowLocation=!isShowLocation" style="margin-left: 61px;padding:0px;">\r\n                \x3c!-- ******************* when extended == true ******************--\x3e\r\n                <div *ngIf="isExtended" style="width: 100%;">\r\n                  <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;"></i>\r\n                </div>\r\n                \x3c!-- *******************close when extended == true ******************--\x3e\r\n\r\n                \x3c!-- ******************* when extended == false ******************--\x3e\r\n                <div *ngIf="!isExtended" style="display: flex;width: 100%;" class="fade-sub-header-text sub-header-text-size">\r\n                  <div style="display: grid">\r\n                    <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;"></i>\r\n                    <i class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;"></i>\r\n                  </div>\r\n                  <div style="margin-left: 5px;margin-top: 10px;width: 100%;">\r\n                    <span *ngIf="movLegLength-2>0">{{movLegLength-2}} more stops </span>\r\n                  </div>\r\n                </div>\r\n                \x3c!-- *******************close when extended == false ******************--\x3e\r\n              </md-expansion-panel-header>\r\n\r\n              \x3c!-- ******************* when extended == true  body containt******************--\x3e\r\n              <div *ngFor="let movmentLeg of movementLegs" style="margin-left: 70px;display:grid" class="fade-sub-header-text sub-header-text-size">\r\n                  <div style="margin-top: 5px" fxLayout="row">\r\n                      <span fxFlex=35>{{movmentLeg.endLocation.address}}</span><span fxFlex=5></span><span fxFlex=60>{{movmentLeg?._date}}</span>\r\n                  </div>\r\n              </div>\r\n              \x3c!-- ******************* close when extended == true  expansion panel body******************--\x3e\r\n            </md-expansion-panel>\r\n\r\n            <div>\r\n              <i class="fa fa-circle DP_timeline-image" aria-hidden="true"></i>\r\n            </div>\r\n          </section>\r\n          <div style="margin-left: 68px;margin-top: -20px;">\r\n            <div class="fade-sub-header-text sub-header-text-size" style="display:flex;">\r\n              <span>Pickup</span>\r\n              <span style="margin-left: auto;">{{selectedShipment[\'currentShipment\'][\'startLocation\'][\'_dateTime\']}}</span>\r\n            </div>\r\n            <div style="display: grid;margin-left: 5px;margin-top: 4px;">\r\n              <span class="fade-header-text" style="font-size: 13px">{{selectedShipment.currentShipment.startLocation.freightLocation.name}}</span>\r\n              <span style="margin-top: 3px;" class="fade-sub-header-text sub-header-text-size">Loading duration {{selectedShipment[\'currentShipment\'][\'startLocation\'][\'_loadTime\']}}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \x3c!--done--\x3e\r\n    <div *ngIf="vehicleStatus == \'AtDestination\' && tillTime!=null" style="background-color: white">\r\n        <div style="padding: 5px;border:2px solid lightgrey;">\r\n\r\n          <div style="margin-top:10px">\r\n                <i class="fa fa-circle DP_timeline-image" style="padding: 5px;" aria-hidden="true"></i>\r\n                <section class="DP-timeline1" style="padding: 5px;">\r\n                  <div  style="margin-left: 68px;margin-top:-40px">\r\n                      <div  style="display:flex;" class=" fade-sub-header-text sub-header-text-size">\r\n                        <span >Delivery</span>\r\n                        <span style="margin-left: auto;">{{selectedShipment[\'currentShipment\'][\'endLocation\'][\'_destDateTime\']}}</span>              \r\n                      </div>\r\n                      <div style="display: grid;margin-left: 5px;margin-top: 4px;">\r\n                        <span class="fade-header-text" style="font-size: 13px">{{selectedShipment.currentShipment.endLocation.freightLocation.name}}</span>\r\n                        <span style="margin-top: 3px;" class="fade-sub-header-text sub-header-text-size">Unloading duration {{selectedShipment[\'currentShipment\'][\'endLocation\'][\'_unLoadTime\']}}</span>\r\n                      </div>\r\n                      <div>\r\n                        <span style="margin-left:-35px;margin-top:20px;font-size: 13px"></span>\r\n                        <div  style="margin-top:10px;font-size: 11px;margin-left: 5px;" *ngIf="isShowLocation">\r\n                          <div fxLayout="row" style="width:100%"  *ngIf="movLegLength>1"><span fxFlex=35 >{{movementLegs[0].endLocation.address}}</span> <span  fxFlex=5></span><span  fxFlex=60 class="fade-sub-header-text sub-header-text-size" >{{movementLegs[0]?._date}}</span></div><br>\r\n                          <div  fxLayout="row" style="width:100%" *ngIf="movLegLength>2"> <span fxFlex=35 >{{movementLegs[1].endLocation.address}}</span>  <span  fxFlex=5></span><span  fxFlex=60 class="fade-sub-header-text sub-header-text-size" >{{movementLegs[1]?._date}}</span></div>\r\n                        </div>\r\n\r\n                      </div>\r\n                  </div>\r\n                </section>\r\n          </div>\r\n\r\n          <div style="overflow: hidden;">\r\n            <section class="DP-timeline" style="padding: 5px; margin-top:-10px">\r\n              <md-expansion-panel class="customExpansionPanel" style="box-shadow:none;margin-bottom:40px" hideToggle="true">\r\n                <md-expansion-panel-header (click)="isExtended = !isExtended;isShowLocation=!isShowLocation" style="margin-left: 61px;padding:0px;">\r\n                  \x3c!-- ******************* when extended == true ******************--\x3e\r\n                  <div *ngIf="isExtended" style="width: 100%;">\r\n                    <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;"></i>\r\n                  </div>\r\n                  \x3c!-- *******************close when extended == true ******************--\x3e\r\n\r\n                  \x3c!-- ******************* when extended == false ******************--\x3e\r\n                  <div *ngIf="!isExtended" style="display: flex;width: 100%;" class="fade-sub-header-text sub-header-text-size">\r\n                    <div style="display: grid">\r\n                      <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;"></i>\r\n                      <i class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;"></i>\r\n                    </div>\r\n                    <div style="margin-left: 5px;margin-top: 10px;width: 100%;">\r\n                      <span *ngIf="movLegLength-2>0">{{movLegLength-2}} more&nbsp;locations</span>\r\n                    </div>\r\n                  </div>\r\n                  \x3c!-- *******************close when extended == false ******************--\x3e\r\n                </md-expansion-panel-header>\r\n\r\n                \x3c!-- ******************* when extended == true  body containt******************--\x3e\r\n                <div *ngFor="let movmentLeg of movementLegs" style="margin-left: 70px;display:grid" class="fade-sub-header-text sub-header-text-size">\r\n                    <div style="margin-top: 5px" fxLayout="row">\r\n                        <span fxFlex=35>{{movmentLeg?.endLocation?.address}}</span> <span  fxFlex=5></span><span fxFlex=60>{{movmentLeg?._date}}</span>\r\n                      </div> </div>\r\n                \x3c!-- ******************* close when extended == true  expansion panel body******************--\x3e\r\n              </md-expansion-panel>\r\n\r\n              <div>\r\n                <i class="fa fa-circle DP_timeline-image" aria-hidden="true"></i>\r\n              </div>\r\n            </section>\r\n            <div style="margin-left: 68px;margin-top: -20px;">\r\n              <div class="fade-sub-header-text sub-header-text-size" style="display:flex;">\r\n                <span>Pickup</span>\r\n                <span style="margin-left: auto;">{{selectedShipment[\'currentShipment\'][\'startLocation\'][\'_dateTime\']}}</span>\r\n              </div>\r\n              <div style="display: grid;margin-left: 5px;margin-top: 4px;">\r\n                <span class="fade-header-text" style="font-size: 13px">{{selectedShipment.currentShipment.startLocation.freightLocation.name}}</span>\r\n                <span style="margin-top: 3px;" class="fade-sub-header-text sub-header-text-size">Loading duration {{selectedShipment[\'currentShipment\'][\'startLocation\'][\'_loadTime\']}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n'},mRFw:function(e,t,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),s=(n.n(r),n("JgC9")),a=n("N2o7"),l=(n.n(a),n("p5Ee"));n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n){var r=this;this.http=e,this._store=t,this.localStorageService=n,this.defaultHeaders=new o.c,this.getAllShipmentGroupsList=new i.EventEmitter,this.createNewShipmentGroup=new i.EventEmitter,this.token=this.localStorageService.get("AUTH_TOKEN"),this.getAllShipmentGroupsList.subscribe(function(e){var t=l.a.MANAGE_VEHICLES_GRP_PATH+"/get";r.getAllShipmentGroup(t).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?r._store.dispatch({type:"SHIPMENT_GRP_LIST",payload:{error:"",res:e.list}}):r._store.dispatch({type:"SHIPMENT_GRP_LIST",payload:{error:"X",errorMsg:"server error..."}})},function(e){console.log(e),console.log(e.json()),r._store.dispatch({type:"SHIPMENT_GRP_LIST",payload:{error:"X",errorMsg:"error occur "+e}})})}),this.createNewShipmentGroup.subscribe(function(e){var t=l.a.MANAGE_VEHICLES_GRP_PATH+"/create";console.log(t),console.log(e),r.createNewGroup(e,t).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?r._store.dispatch({type:"CREATE_GROUP_RESPONSE",payload:{error:"",res:e}}):r._store.dispatch({type:"CREATE_GROUP_RESPONSE",payload:{error:"X",errorMsg:"server error..."}})},function(e){console.log(e),r._store.dispatch({type:"CREATE_GROUP_RESPONSE",payload:{error:"X",errorMsg:"error occur "+e}})})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getAllShipmentGroup=function(e){var t=new o.c(this.defaultHeaders.toJSON()),n="Bearer "+this.token;t.set("Content-Type","application/json"),t.set("authorization",n);var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){if(console.log(e),200==e.status)return e.json()})},e.prototype.createNewGroup=function(e,t){var n=new o.c(this.defaultHeaders.toJSON()),i="Bearer "+this.token;n.set("Content-Type","application/json"),n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:e});return this.http.request(t,r).map(function(e){if(console.log(e),200==e.status)return e.json()})},e}();p=c([n.i(i.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(m=void 0!==a.LocalStorageService&&a.LocalStorageService)&&m||Object])],p);var u,h,m},n7du:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="n7du"},"oBJ/":function(e,t){e.exports='<div style="width: 100%;top: 0px;z-index:100;background-color: white;" class="slow-down">\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n\r\n  \x3c!-- <div *ngIf="view !=\'web\'" class="top-header" id="top-head" >\r\n    <div fxLayout="row" style="padding-left:8px;padding-bottom:9px;padding-top:5px">\r\n      <span class="vehicle-no"  >{{vehicleNo}}</span>\r\n      <label class="driver-name">{{vehicleTripDetails[\'currentTrip\']?.driverName}}\r\n                <a href="tel:{{vehicleTripDetails[\'currentTrip\']?.driverMobNumber}}" ><i  class="fa fa-phone phone-icon" aria-hidden="true"></i></a>\r\n     </label>\r\n    </div>\r\n  </div> --\x3e\r\n\r\n  <div *ngIf="view ==\'web\'">\r\n    <div>\r\n      <div>\r\n        <span class="driver-name-web" >Driver&nbsp;:{{selectedShipment[\'currentShipment\']?.driverName}}</span>\r\n      </div>\r\n      <div>\r\n        <a class="driver-name-web" href="tel:{{selectedShipment[\'currentShipment\']?.mobileNo}}" >\r\n          <i  class="fa fa-phone" aria-hidden="true"></i>&nbsp;+91{{selectedShipment[\'currentShipment\']?.mobileNo}}\r\n        </a>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    \x3c!--************************ edit trip dialog *********************************--\x3e\r\n    <div *ngIf="isEditTripLocationDialog"  class="mycustomDialog-editLocation" style="padding-top: 70px;">\r\n      <div class="modal-content" style="width: 60%;min-width: 250px;overflow: hidden;max-width: 560px;height: calc(100vh - 140px);">\r\n        <div class="modal-header">\r\n          <span class="close" (click)="isEditTripLocationDialog=false;" >&times;</span>\r\n          <div>\r\n            <label>Edit {{forEditPlace}}</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div  style="padding: 5px;font-size: 13px;overflow: auto;width: calc(100% - 12px);" >\r\n          <app-edit-shipment-location></app-edit-shipment-location>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \x3c!-- close edit trip dialog --\x3e\r\n\r\n\r\n    \x3c!--************************ disconnected dialog *********************************--\x3e\r\n    <div *ngIf="isDisconnectDialog"  class="mycustomDialog" style="padding-top: 70px;">\r\n      <div class="modal-content" style="width:40%;min-width:250px;overflow:unset;max-width: 400px;">\r\n        <div class="modal-header">\r\n          <span class="close" (click)="isDisconnectDialog=false;" >&times;</span>\r\n          <div>\r\n            <label>Confirm {{forConfirmPlace}}</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div  style="padding: 5px;font-size: 13px;">\r\n          <div class="confirm-location" style="text-align: center;overflow: unset;">\r\n            <span style="color:red" >{{validationErrorMgs}}</span>\r\n              <div>\r\n                <div *ngIf="forConfirmPlace == \'Pickup\'" style="display: grid" >\r\n                  <span class="fade-sub-header-text">{{forConfirmPlace}} Location</span>\r\n                  <span class="header-text" style="margin-top: 6px;margin-left: 5px;" >{{selectedShipment?.currentShipment?.startLocation?.freightLocation?.name}}</span>\r\n                </div>\r\n\r\n                <div *ngIf="forConfirmPlace == \'Destination\'"  style="display: grid" >\r\n                  <span class="fade-sub-header-text">{{forConfirmPlace}} Location</span>\r\n                  <span class="header-text" style="margin-top: 6px;margin-left: 5px;" >{{selectedShipment?.currentShipment?.endLocation?.freightLocation?.name}}</span>\r\n                </div>\r\n\r\n                  <owl-date-time [disabled]="isStartTimeDisable" [autoClose]=true placeholder="Start Time" [(ngModel)]="startTime" id="startTime"  [dateFormat]="\'YYYY/MM/DD hh:mm\'" \r\n                        ></owl-date-time>\r\n\r\n                  <owl-date-time placeholder="End Time" [autoClose]=true [(ngModel)]="tillTime" id="tillTime" [dateFormat]="\'YYYY/MM/DD hh:mm\'" \r\n                        ></owl-date-time>\r\n              </div>\r\n          </div>\r\n          <div style="padding: 5px;margin-top:5px;text-align: center">\r\n            <button *ngIf="!isStartTimeDisable" [style.background-color]="(startTime == null)?\'grey\':\'#1E88E5\'" [disabled]="startTime == null" md-raised-button style="width:auto;color:#ffffff" (click)="confirmPlace()" >Confirm</button>\r\n            <button  *ngIf="isStartTimeDisable" [style.background-color]="(startTime == null || tillTime == null)?\'grey\':\'#1E88E5\'" [disabled]="startTime == null || tillTime == null" md-raised-button style="width:auto;color:#ffffff" (click)="confirmPlace()" >Confirm</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \x3c!-- disconnected dialog --\x3e\r\n\r\n\r\n      \x3c!--  --\x3e\r\n      <div *ngIf="vehicleState == \'Enroute for Pickup\'">\r\n          \x3c!-- <div *ngIf="view !=\'web\'" style="padding: 15px 15px 10px 25px;">\r\n            <div>\r\n              <i class ="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n              <span class="alert-box">No Impediment</span>\r\n            </div>\r\n            <div>\r\n              <i class="fa fa-bell" aria-hidden="true"></i>\r\n              <span class="alert-box">No Alert</span>\r\n            </div>\r\n          </div> --\x3e\r\n\r\n          <hr class="my-hr">\r\n\r\n          <div  [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'" style="overflow: auto;">\r\n\r\n            <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n              <div  >\r\n                <span style="font-size: 12px">Current Shipment</span>\r\n              </div>\r\n              <div style="overflow: hidden">\r\n                <div>\r\n                  <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n                    <span style="margin-left: 64px;">Delivery</span>\r\n                  </div>\r\n                  <div class="EFP_unvisited-timeline">\r\n                    <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n                    \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n                    <div style="display:flex"  >\r\n                      <span class="fade-header" (click)="goToEditTripPickupView(\'destination\',\'CT\')"   style="margin-left: 75px;cursor: pointer" >{{selectedShipment?.currentShipment?.endLocation?.freightLocation?.name}}</span>\r\n                      <span  (click)="goToEditTripPickupView(\'destination\',\'CT\')"  style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                    </div>\r\n\r\n                    <div class="fade-sub-header-text" style="width: 98%; margin-left : 80px; margin-top: 10px;">\r\n                      <span>Transite Time :</span><span>{{selectedShipment?.currentShipment?._transiteTime}}</span><br>\r\n                      <span *ngIf = "isDelayed" style="color : red"><span>(running late by</span><span style="margin-left:2px">{{delayedBy}}</span><span>)</span></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n                    <span style="margin-left: 64px;">Pickup</span>\r\n                  </div>\r\n                  <div class="EFP_unvisited-timeline">\r\n                    <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n                    \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n                    <div style="display:flex"  >\r\n                      <span (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  class="fade-header" style="margin-left: 75px;cursor: pointer" >{{selectedShipment?.currentShipment?.startLocation?.freightLocation?.name}}</span>\r\n                      <span (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                    </div>\r\n\r\n                    <div class="fade-sub-header-text" style="width: 98%; margin-left : 80px; margin-top: 10px;">\r\n                      \x3c!-- <span>ETA : {{vehicleTripDetails[\'currentTrip\']?.plannedStartTime | date:\'medium\'}}</span> --\x3e\r\n                      <span >ETA :</span><span> {{eta}}</span><br>\r\n                      <span >{{distanceToGo}}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \x3c!-- **************** disconnected case **************************** --\x3e\r\n              <div *ngIf="selectedShipment.latestGpsState?.state != \'Disconnected\' && selectedShipment.latestGpsState?.state != null && selectedShipment.currentShipment?.trackingType==\'Trip\'"  class="vehicle-status-trip">\r\n                <span >{{vehicleState}}</span>\r\n              </div>\r\n              <div *ngIf="selectedShipment.latestGpsState?.state != \'Disconnected\' && selectedShipment.latestGpsState?.state != null && selectedShipment.currentShipment?.trackingType==\'Tracker\'"  class="vehicle-status-tracker">\r\n                  <span >{{vehicleState}}</span>\r\n                </div>\r\n\r\n              <div (click)="openConfirmPointDialog(\'Pickup\')"  *ngIf="selectedShipment.latestGpsState?.state == \'Disconnected\' ||  selectedShipment.latestGpsState?.state == null"  class="disconnected">\r\n                <span>{{vehicleState}}<span style="font-size:12px;color:#ffdead;" *ngIf="selectedShipment.latestGpsState?.state == null"> No GPS Found</span></span>\r\n                <i class="fa fa-chevron-right" aria-hidden="true" style="color:white;float:right;margin-top: 2px;" ></i>\r\n              </div>\r\n              \x3c!-- ******************************************* --\x3e\r\n\r\n              <md-card fxLayout="row" class="current-vehicle-card">\r\n                <div>\r\n                  <img style="height:32px;" src="../../../../images/trip-icons/truck_moving.png" alt="location" >\r\n                </div>\r\n                <div style="width: 100%">\r\n                  <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n                    <span style="line-height: 1.43">{{(selectedShipment?.latestGpsState?.endLocation?.address)?selectedShipment?.latestGpsState?.endLocation?.address:\'N/A\'}}</span>\r\n                    \x3c!--<span *ngIf="!vehicleTripDetails.movementLegs" style="line-height: 1.43"> Address Not Available !</span>--\x3e\r\n                  </div>\r\n                  \x3c!-- ************************* vehicle status **************************   --\x3e\r\n                  <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right">\r\n                    <span style="font-size:12px">Since {{selectedShipment[\'vts\']?._stateDuration}}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n              </md-card>\r\n            </div>\r\n  \r\n          </div>\r\n      </div>\r\n      \x3c!--done--\x3e\r\n      <div *ngIf="vehicleState == \'At Pickup Point\'">\r\n\r\n        \x3c!-- <div *ngIf="view !=\'web\'"  style="padding: 15px 15px 10px 25px;">\r\n          <div>\r\n            <i class ="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n            <span class="alert-box">No Impediment</span>\r\n          </div>\r\n          <div>\r\n            <i class="fa fa-bell" aria-hidden="true"></i>\r\n            <span class="alert-box">No Alert</span>\r\n          </div>\r\n        </div> --\x3e\r\n\r\n        <hr class="my-hr">\r\n\r\n        <div [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'"  style="overflow: auto;">\r\n\r\n          <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n            <div  >\r\n              <span style="font-size: 12px">Current Shipment</span>\r\n            </div>\r\n            <div style="overflow: hidden">\r\n              <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n                <span style="margin-left: 64px;">Delivery</span>\r\n              </div>\r\n              <div class="EFP_unvisited-timeline">\r\n                <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n                \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n                <div style="display:flex"  >\r\n                  <span (click)="goToEditTripPickupView(\'destination\',\'CT\')" class="fade-header" style="cursor: pointer;margin-left: 75px;" >{{selectedShipment?.currentShipment?.endLocation?.freightLocation?.name}}</span>\r\n                  <span (click)="goToEditTripPickupView(\'destination\',\'CT\')" style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                </div>\r\n\r\n                <div class="fade-sub-header-text" style="width: 98%; margin-left : 80px; margin-top: 10px;">\r\n                  \x3c!-- <span>ETA : {{vehicleTripDetails[\'currentTrip\']?.plannedEndTime | date:\'medium\'}}</span> --\x3e\r\n                  <span>Transite Time :</span><span>{{selectedShipment?.currentShipment?._transiteTime}}</span><br>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \x3c!-- **************** for in case of device disconnect ********************** --\x3e\r\n            <div *ngIf="selectedShipment.latestGpsState?.state != \'Disconnected\' && selectedShipment.latestGpsState?.state != null && selectedShipment.currentShipment?.trackingType==\'Trip\'"  class="vehicle-status-trip">\r\n                <span >{{vehicleState}}</span>\r\n              </div>\r\n            <div *ngIf="selectedShipment.latestGpsState?.state != \'Disconnected\' && selectedShipment.latestGpsState?.state != null && selectedShipment.currentShipment?.trackingType==\'Tracker\'"  class="vehicle-status-tracker">\r\n                <span >{{vehicleState}}</span>\r\n            </div>\r\n            <div (click)="openConfirmPointDialog(\'Pickup\')" *ngIf="selectedShipment.latestGpsState?.state == \'Disconnected\' ||  selectedShipment.latestGpsState?.state == null"  class="disconnected">\r\n              <span>{{vehicleState}}<span style="font-size:12px;color:#ffdead;" *ngIf="selectedShipment.latestGpsState?.state == null"> No GPS Found</span></span>\r\n              <i class="fa fa-chevron-right" aria-hidden="true" style="color:white;float:right;margin-top: 2px;" ></i>\r\n            </div>\r\n          \x3c!--   ************************************  --\x3e\r\n\r\n            <md-card fxLayout="row" (click)="goToEditTripPickupView(\'pickup\',\'CT\')" class="current-vehicle-card">\r\n              <div>\r\n                <img style="height:32px;" src="../../../../images/trip-icons/stop_truck_white.png" alt="location" >\r\n              </div>\r\n              <div style="width: 100%">\r\n                <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n                  <span *ngIf="selectedShipment.currentShipment" style="line-height: 1.43">{{selectedShipment?.currentShipment?.startLocation?.freightLocation?.name}}</span>\r\n                  <span *ngIf="selectedShipment.currentShipment" style="line-height: 1.43"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;float: right"></i></span>\r\n                  <span  *ngIf="!selectedShipment.currentShipment"  style="line-height: 1.43;font-size: 20px" > N/A !</span>\r\n                </div>\r\n                \x3c!-- ************************* vehicle status **************************   --\x3e\r\n                <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right">\r\n                  <span style="font-size:12px">Since {{selectedShipment[\'vts\']?._stateDuration}}</span>\r\n                </div>\r\n              </div>\r\n              \x3c!--<div style="white-space: nowrap;margin-top: auto;margin-left:auto;margin-bottom: -10px">--\x3e\r\n              \x3c!--<i class="fa fa-stop-circle-o" aria-hidden="true"></i>--\x3e\r\n              \x3c!--<span style="font-size:14px">Stop</span>--\x3e\r\n              \x3c!--</div>--\x3e\r\n              \x3c!-- **--\x3e\r\n            </md-card>\r\n          </div>\r\n\r\n          \x3c!-- <div style="overflow: hidden;margin-top: 15px">\r\n            <section *ngIf="vehicleTripDetails.lastTrip" style="margin:5px;padding:5px;border:2px solid lightgrey;position: relative" >\r\n              <div style="font-size:12px;color:#9E9E9E;height: 28px">\r\n                <span>Last Trip</span>\r\n                <span style="margin-left: 19px;vertical-align: -8px;">Delivery</span>\r\n              </div>\r\n\r\n              <div style="margin-top: 7px;" class="wfl-timeline" >\r\n                <i style="margin-top: -13px;" class="fa fa-circle wfl-imeline-image" aria-hidden="true"></i>\r\n                <div style="display:flex"  >\r\n                  <span style="cursor: pointer;font-size: 13px;font-weight: bold;margin-left: 75px;color:#4a4a4a;"\r\n                        (click)="goToEditTripPickupView(\'destination\',\'LT\')" >{{selectedShipment?.lastTrip?.destination[0]?.freightLocation?.name}}</span>\r\n                  <span (click)="goToEditTripPickupView(\'destination\',\'LT\')" style="cursor: pointer;color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                </div>\r\n\r\n                <div class="sub-header-text" style="text-align: center;margin-left: 40px;margin-top: 5px;margin-bottom: 20px;">\r\n                  <span>unloading duration {{vehicleTripDetails[\'lastTrip\']?.destination[0][\'_unloadingDuration\']}}</span>\r\n                </div>\r\n\r\n                <div class="sub-header-text" style="text-align:right;font-size:11px">\r\n                  <span>Trip Duration :{{vehicleTripDetails[\'lastTrip\']?._tripCompletionDuration}}</span>\r\n                </div>\r\n\r\n                <div class="sub-header-text" style="margin-left: 71px;    margin-top: 7px;">\r\n                  <span>Pickup</span>\r\n                </div>\r\n\r\n                <div style="display:flex;position: relative;" >\r\n                  <i class="fa fa-circle wfl-imeline-image"  style="bottom: -2px;" aria-hidden="true"></i>\r\n                  <div class="time" style="margin-top: 5px;">\r\n                    <span >{{vehicleTripDetails[\'lastTrip\'].origin[0][\'fromTime\'] | date :\'d MMM\'}}</span>\r\n                    <span style="white-space:nowrap" >{{vehicleTripDetails[\'lastTrip\'].origin[0][\'fromTime\'] | date :\'jm\'}}</span>\r\n                  </div>\r\n                  <span style="cursor: pointer;font-size: 13px;font-weight: bold;margin-left: 25px;color:#4a4a4a;margin-top:5px;"\r\n                        (click)="goToEditTripPickupView(\'pickup\',\'LT\')" >{{vehicleTripDetails?.lastTrip?.origin[0]?.freightLocation?.name}}</span>\r\n                  <div style="margin-left: auto;cursor: pointer" (click)="goToEditTripPickupView(\'pickup\',\'LT\')" >\r\n                    <span style="white-space: nowrap;color: #9b9b9b;font-size: 11px"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="sub-header-text" style="text-align:center;margin-left: 22px;margin-top:-5px;font-size: 11px;" >\r\n                <span>Loading Duration {{vehicleTripDetails[\'lastTrip\']?.origin[0][\'_loadingDuration\']}}</span>\r\n              </div>\r\n            </section>\r\n\r\n            <div style="height: 50px"></div>\r\n          </div> --\x3e\r\n        </div>\r\n\r\n      </div>\r\n      \x3c!--done--\x3e\r\n      <div *ngIf="vehicleState == \'Enroute for Delivery\'">\r\n        \x3c!-- <div *ngIf="view !=\'web\'" style="padding: 15px 15px 10px 25px;">\r\n          <div>\r\n            <i class ="fa fa-exclamation-triangle" aria-hidden="true"></i>\r\n            <span class="alert-box">No Impediment</span>\r\n          </div>\r\n          <div>\r\n            <i class="fa fa-bell" aria-hidden="true"></i>\r\n            <span class="alert-box">No Alerts</span>\r\n          </div>\r\n        </div> --\x3e\r\n\r\n        <hr class="my-hr">\r\n\r\n        <div [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'"  style="overflow: auto;">\r\n          \r\n          \x3c!-- *****************************     current trip start here *************************** --\x3e\r\n          <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n            <div  style="margin-bottom: 5px">\r\n              <span style="font-size: 12px">Current Shipment</span>\r\n            </div>\r\n\r\n          \x3c!--delivery point of current trip --\x3e\r\n            <div style="overflow: hidden">\r\n              <div class="fade-sub-header-text" style="margin: 8px 5px;">\r\n                <span style="margin-left: 64px;">Delivery</span>\r\n              </div>\r\n              <div class="EFP_unvisited-timeline" style="padding-bottom: 31px;">\r\n                <i style="color: #D0D0D0" class="fa fa-circle-thin  EFP_timeline_icon" aria-hidden="true"></i>\r\n                \x3c!--<img class="EFP_icon" src="../../../../images/trip-icons/at_pickup_point_timeline.png" alt="image" >--\x3e\r\n                <div style="display:flex"  >\r\n                  <span (click)="goToEditTripPickupView(\'destination\',\'CT\')"  class="fade-header" style="margin-left: 75px;cursor: pointer" >{{selectedShipment?.currentShipment?.endLocation?.freightLocation?.name}}</span>\r\n                  <span (click)="goToEditTripPickupView(\'destination\',\'CT\')"  style="color: #9b9b9b;font-size: 11px;margin-left: auto"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                </div>\r\n\r\n                <div class="fade-sub-header-text" style="width: 98%; margin-left : 80px; margin-top: 10px;">\r\n                  <span>ETA :{{selectedShipment?.currentShipment?.planedEndTime | date :\'medium\' }}</span><br>\r\n                  <div *ngIf = "isDelayed" style="margin-top: 2px; color : red">\r\n                  <span>(running late by</span><span style="margin-left:2px">{{delayedBy}}</span><span>)</span><br>\r\n                  </div>\r\n                  <div style="margin-top: 2px">             \r\n                  <span>{{distanceToGo}}</span>\r\n                </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          \x3c!-- ************************** --\x3e\r\n\r\n            \x3c!-- *************** when disconnect *************************** --\x3e\r\n            <div *ngIf="selectedShipment.latestGpsState?.state != \'Disconnected\' && selectedShipment.latestGpsState?.state != null && selectedShipment.currentShipment?.trackingType==\'Trip\'"  class="vehicle-status-trip">\r\n                <span >{{vehicleState}}</span>\r\n              </div>\r\n            <div *ngIf="selectedShipment.latestGpsState?.state != \'Disconnected\' && selectedShipment.latestGpsState?.state != null && selectedShipment.currentShipment?.trackingType==\'Tracker\'"  class="vehicle-status-tracker">\r\n                <span >{{vehicleState}}</span>\r\n            </div>\r\n            <div (click)="openConfirmPointDialog(\'Destination\')"   *ngIf="selectedShipment.latestGpsState?.state == \'Disconnected\' ||  selectedShipment.latestGpsState?.state == null"  class="disconnected">\r\n              <span>{{vehicleState}}<span style="font-size:12px;color:#ffdead;" *ngIf="selectedShipment.latestGpsState?.state == null"> No GPS Found</span></span>\r\n              <i class="fa fa-chevron-right" aria-hidden="true" style="color:white;float:right;margin-top: 2px;" ></i>\r\n            </div>\r\n            \x3c!-- *********************************************************** --\x3e\r\n\r\n            <md-card fxLayout="row" class="current-vehicle-card">\r\n              <div>\r\n                <img style="height:32px;" src="../../../../images/trip-icons/truck_moving.png" alt="location" >\r\n              </div>\r\n              <div style="width: 100%">\r\n                <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n                  <span  style="line-height: 1.43">{{(selectedShipment?.latestGpsState?.endLocation?.address)?selectedShipment?.latestGpsState?.endLocation?.address:\'N/A\'}}</span>\r\n                  \x3c!--<span  *ngIf="!vehicleTripDetails.currentTrip"  style="line-height: 1.43;font-size: 20px" > N/A !</span>--\x3e\r\n                </div>\r\n                \x3c!-- ************************* vehicle status **************************   --\x3e\r\n                <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right;">\r\n                  <span style="font-size:12px">Since {{selectedShipment[\'vts\']?._stateDuration}}</span>\r\n                </div>\r\n              </div>\r\n            </md-card>\r\n\r\n            <div style="overflow: hidden;margin-top: -13px;">\r\n              <section class="DP-timeline" style="padding: 5px;" >\r\n                <div style="padding: 5px;margin-top: 5px;">\r\n                  \x3c!-- *************** for expand up-down arrow icon ************  --\x3e\r\n                  <div style="overflow: hidden;margin-top: 20px;padding-bottom: 20px" fxLayout="row" >\r\n                    \x3c!-- ******** total travling time **************** --\x3e\r\n                    <div style="min-width: 43px">\r\n                      <div *ngIf="!isExpand" class="time">\r\n                        <span class="rotate" >&#8676;</span>\r\n                        <span name="totalTravelDistance" style="white-space:nowrap;">{{movementLogs?._totalTravlingDistance | number : \'1.1-1\'}} km</span>\r\n                        <span name="totalTravlingTime" style="border-top: 1px solid;" >{{movementLogs?._totalTravlingTime}}</span>\r\n                        <span class="rotate">&#8677;</span>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!-- ********************************* --\x3e\r\n\r\n                    <div *ngIf="!isExpand" fxLayout="column" (click)="isExpand = true" style="margin-left:65px;    margin-top: 10px;">\r\n                      <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                      <i  class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                    </div>\r\n                    <div *ngIf="isExpand" fxLayout="column" (click)="isExpand = false" style="margin-left:65px;margin-top: -6px;">\r\n                      <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                    </div>\r\n\r\n                    <div fxLayout="column" style="margin-bottom: 30px;width:100%">\r\n                      \x3c!-- when not expanded --\x3e\r\n                      <div *ngIf="!isExpand" style="margin-left:8px;display:grid;margin-top: 15px;" >\r\n                        <div style="display: grid">\r\n                          <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;">{{movementLogs?.stopped}} Stops</span>\r\n                          <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;margin-top:4px;">{{movementLogs?.disconnected }} Disconnects</span>\r\n                        </div>\r\n                      </div>\r\n                      \x3c!-- ******** this is show when log value expanded ********* --\x3e\r\n\r\n                      <div [style.height]="isExpand?\'auto\':\'0px\'"  class="data-box" id="expandable-box" [style.margin-top]="!isExpand?upSideHeight:\'8px\'"  [class.hide-up-Slowly]="!isExpand" [class.show-down-Slowly]="isExpand == true"  fxLayout="column"  >\r\n\r\n                        \x3c!-- loop for movement logs / this data show when click to expand movement logs  --\x3e\r\n                        <div  *ngFor="let movementleg of selectedShipment[\'movementLegs\']" style="margin-top:15px;padding:5px;margin-bottom:10px;position:relative" >    \x3c!--loop here--\x3e\r\n                        <div *ngIf="isExpand" >\r\n                          <div *ngIf="movementleg.state == \'Moving\'" class="travling-time" > \x3c!-- left side of time line--\x3e\r\n                            <span  >{{movementleg?._totalDuration }}</span>\r\n                            <span  >{{movementleg?.totalDistance/1000 | number : \'1.1-1\'}} km</span>\r\n                          </div>\r\n                          <i *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'"  style="position: absolute;margin-left: -61px;background-color: white;"\r\n                            [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" class="fa fa-stop-circle" aria-hidden="true"></i>\r\n                          <div *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'" [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" > \x3c!-- right side of time line--\x3e\r\n                            <span style="font-weight: bold;">{{movementleg.endLocation?.address?movementleg.endLocation?.address:\'N/A\'}}</span>\r\n                            <div style="padding-top: 4px;float:right;text-align:right;display:grid;" >\r\n                              <span style="white-space:nowrap;">{{movementleg?._totalDuration }}</span>\r\n                              <span style="white-space:nowrap;">{{movementleg?.startTime | date: \'dd MMM yy hh:mm a\'}}</span>\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \x3c!-- ***************************close for expand up-down arrow icon **************************  --\x3e\r\n                  <div style="display:flex;position: relative;" >\r\n                    <i   class="fa fa-circle DP_timeline-image " aria-hidden="true"></i>\r\n                    <div class="time" style="margin-top: 5px;">\r\n                      <span >{{selectedShipment[\'currentShipment\'].startLocation[\'fromTime\'] | date :\'d MMM\'}}</span>\r\n                      <span style="white-space:nowrap" >{{selectedShipment[\'currentShipment\'].startLocation[\'fromTime\'] | date :\'jm\'}}</span>\r\n                    </div>\r\n                    <div style="font-size: 13px;font-weight: bold;margin-left: 54px;color:#4a4a4a;display: grid" >\r\n                      <span class="fade-sub-header-text" style="margin-top: -13px;margin-left: -10px;">Pickup</span>\r\n                      <span (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  >{{(selectedShipment?.currentShipment?.startLocation?.freightLocation?.name)?selectedShipment?.currentShipment?.startLocation?.freightLocation?.name:\'N/A\'}}</span>\r\n                    </div>\r\n                    <div (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  style="cursor: pointer;margin-left: auto;display: grid;text-align: center;">\r\n                      <span style="white-space: nowrap;color: #9b9b9b;font-size: 11px"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                    </div>\r\n                  </div>\r\n                  <div class="sub-header-text" style="margin-left: 104px;margin-top: -5px;font-size: 11px">\r\n                    <span>Loading Duration {{selectedShipment[\'currentShipment\'].startLocation[\'_loadingDuration\']}}</span>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n\r\n            </div>\r\n          </div>\r\n          \x3c!-- ************ close current trip *****8 --\x3e\r\n          <div style="height: 50px"></div>\r\n        </div>\r\n      </div>\r\n      \x3c!--done--\x3e\r\n      <div *ngIf="vehicleState == \'At Delivery Point\' && tillTimeCheck==null">\r\n        <hr class="my-hr">\r\n\r\n        <div  [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'" style="overflow: auto;">\r\n          \r\n\r\n          \x3c!-- *****************************     current trip start here *************************** --\x3e\r\n          <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n            <div  style="margin-bottom: 5px">\r\n              <span style="font-size: 12px">Current Shipment</span>\r\n            </div>\r\n\r\n            \x3c!--   foor in case of disconnection --\x3e\r\n            <div *ngIf="selectedShipment.latestGpsState?.state != \'Disconnected\' && selectedShipment.latestGpsState?.state != null && selectedShipment.currentShipment?.trackingType==\'Trip\'"  class="vehicle-status-trip">\r\n                <span >{{vehicleState}}</span>\r\n              </div>\r\n            <div *ngIf="selectedShipment.latestGpsState?.state != \'Disconnected\' && selectedShipment.latestGpsState?.state != null && selectedShipment.currentShipment?.trackingType==\'Tracker\'"  class="vehicle-status-tracker">\r\n                <span >{{vehicleState}}</span>\r\n            </div>\r\n            <div (click)="openConfirmPointDialog(\'Destination\')" *ngIf="selectedShipment.latestGpsState?.state == \'Disconnected\' ||  selectedShipment.latestGpsState?.state == null"  class="disconnected">\r\n              <span>{{vehicleState}}<span style="font-size:12px;color:#ffdead;" *ngIf="selectedShipment.latestGpsState?.state == null"> No GPS Found</span></span>\r\n              <i class="fa fa-chevron-right" aria-hidden="true" style="color:white;float:right;margin-top: 2px;" ></i>\r\n            </div>\r\n            \x3c!-- ************************************************* --\x3e\r\n\r\n            <md-card (click)="goToEditTripPickupView(\'destination\',\'CT\')"  fxLayout="row" class="current-vehicle-card">\r\n              <div>\r\n                <img style="height:32px;" src="../../../../images/trip-icons/stop_truck_white.png" alt="location" >\r\n              </div>\r\n              <div style="width: 100%">\r\n              <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n                <span *ngIf="selectedShipment.currentShipment" style="line-height: 1.43">{{selectedShipment?.currentShipment?.endLocation?.freightLocation?.name}}</span>\r\n                <span *ngIf="selectedShipment.currentShipment" style="line-height: 1.43"><i  class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;float:right;"></i></span>\r\n                <span  *ngIf="!selectedShipment.currentShipment"  style="line-height: 1.43;font-size: 20px" > N/A !</span>\r\n              </div>\r\n              \x3c!-- ************************* vehicle status **************************   --\x3e\r\n              <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right;">\r\n                <span style="font-size:12px">Since {{selectedShipment[\'vts\']?._stateDuration}}</span>\r\n              </div>\r\n              </div>\r\n            </md-card>\r\n\r\n            <div style="overflow: hidden;margin-top: -13px;">\r\n              <section class="DP-timeline" style="padding: 5px;" >\r\n                <div style="padding: 5px;margin-top: 5px;">\r\n                  \x3c!-- *************** for expand up-down arrow icon ************  --\x3e\r\n                  <div style="overflow: hidden;margin-top: 20px;padding-bottom: 20px" fxLayout="row" >\r\n                  \x3c!-- ******** total travling time **************** --\x3e\r\n                    <div style="min-width: 43px">\r\n                      <div *ngIf="!isExpand" class="time">\r\n                        <span class="rotate" >&#8676;</span>\r\n                        <span name="totalTravelDistance" style="white-space:nowrap;">{{movementLogs?._totalTravlingDistance | number : \'1.1-1\'}} km</span>\r\n                        <span name="totalTravlingTime" style="border-top: 1px solid;" >{{movementLogs?._totalTravlingTime}}</span>\r\n                        <span class="rotate">&#8677;</span>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!-- ********************************* --\x3e\r\n\r\n                    <div *ngIf="!isExpand" fxLayout="column" (click)="isExpand = true" style="margin-left:65px;    margin-top: 10px;">\r\n                      <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                      <i  class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                    </div>\r\n                    <div *ngIf="isExpand" fxLayout="column" (click)="isExpand = false" style="margin-left:65px;margin-top: -6px;">\r\n                      <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                    </div>\r\n\r\n                    <div fxLayout="column" style="margin-bottom: 30px;width:100%">\r\n                      \x3c!-- when not expanded --\x3e\r\n                      <div *ngIf="!isExpand" style="margin-left:8px;display:grid;margin-top: 15px;" >\r\n                        <div style="display: grid">\r\n                          <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;">{{movementLogs?.stopped}} Stops</span>\r\n                          <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;margin-top:4px;">{{movementLogs?.disconnected }} Disconnects</span>\r\n                        </div>\r\n                      </div>\r\n                      \x3c!-- ******** this is show when log value expanded ********* --\x3e\r\n                      <div [style.height]="isExpand?\'auto\':\'0px\'"  class="data-box" id="expandable-box" [style.margin-top]="!isExpand?upSideHeight:\'8px\'"  [class.hide-up-Slowly]="!isExpand" [class.show-down-Slowly]="isExpand == true"  fxLayout="column"  >\r\n\r\n                      \x3c!-- loop for movement logs / this data show when click to expand movement logs  --\x3e\r\n                        <div *ngFor="let movementleg of selectedShipment[\'movementLegs\']" style="margin-top:15px;padding:5px;margin-bottom:10px;position:relative" >    \x3c!--loop here--\x3e\r\n                          <div *ngIf="isExpand" >\r\n                          <div *ngIf="movementleg.state == \'Moving\'" class="travling-time" > \x3c!-- left side of time line--\x3e\r\n                            <span  >{{movementleg?._totalDuration }}</span>\r\n                            <span  >{{movementleg?.totalDistance/1000 | number : \'1.1-1\'}} km</span>\r\n                          </div>\r\n                          <i *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'"  style="position: absolute;margin-left: -61px;background-color: white;"\r\n                            [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" class="fa fa-stop-circle" aria-hidden="true"></i>\r\n                          <div *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'" [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" > \x3c!-- right side of time line--\x3e\r\n                            <span style="font-weight: bold;">{{movementleg.endLocation?.address?movementleg.endLocation?.address:\'N/A\'}}</span>\r\n\r\n                            <div style="padding-top: 4px;float:right;text-align:right;display:grid;" >\r\n                              <span  style="white-space:nowrap;">{{movementleg?._totalDuration }}</span>\r\n                              <span style="white-space:nowrap;">{{movementleg?.startTime | date: \'dd MMM yy hh:mm a\'}}</span>\r\n                            </div>\r\n                          </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \x3c!-- ***************************close for expand up-down arrow icon **************************  --\x3e\r\n                  <div style="display:flex;position: relative;" >\r\n                    <i  class="fa fa-circle DP_timeline-image" aria-hidden="true"></i>\r\n                    <div class="time" style="margin-top: 5px;">\r\n                      <span >{{selectedShipment[\'currentShipment\'].startLocation[\'fromTime\'] | date :\'d MMM\'}}</span>\r\n                      <span style="white-space:nowrap" >{{selectedShipment[\'currentShipment\'].startLocation[\'fromTime\'] | date :\'jm\'}}</span>\r\n                    </div>\r\n                    <div style="font-size: 13px;font-weight: bold;margin-left: 60px;color:#4a4a4a;display: grid" >\r\n                      <span class="fade-sub-header-text" style="margin-top: -13px;margin-left: -10px;">Pickup</span>\r\n                      <span (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  >{{(selectedShipment?.currentShipment?.startLocation.freightLocation?.name)?selectedShipment?.currentShipment?.startLocation?.freightLocation?.name:\'N/A\'}}</span>\r\n                    </div>\r\n                    <div (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  style="margin-left: auto;display: grid;text-align: center;">\r\n                      <span style="white-space: nowrap;color: #9b9b9b;font-size: 11px"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                    </div>\r\n                  </div>\r\n                  <div class="sub-header-text" style="margin-left: 90px;margin-top: -5px;font-size: 11px">\r\n                      <span>Loading Duration {{selectedShipment[\'currentShipment\'].startLocation[\'_loadingDuration\']}}</span>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n\r\n            </div>\r\n          </div>\r\n          \x3c!-- ************ close current trip *****8 --\x3e\r\n          <div style="height: 50px"></div>\r\n        </div>\r\n      </div>\r\n      \x3c!--done--\x3e\r\n\r\n    <div *ngIf="vehicleState == \'At Delivery Point\' && tillTimeCheck!=null" style="background-color: white">\r\n      <hr class="my-hr">\r\n  \r\n      <div  [style.height]="(view ==\'web\')?\'auto\':\'calc(100vh - 156px)\'" style="overflow: auto;">\r\n  \r\n          \x3c!-- *****************************     current trip start here *************************** --\x3e\r\n        <div style="color:rgba(0, 0, 0, 0.54);padding: 5px;margin: 5px;border: 2px solid lightgrey;">\r\n          <div  style="margin-bottom: 5px">\r\n            <span style="font-size: 12px">Current Shipment</span>\r\n          </div>  \r\n          <div (click)="goToEditTripPickupView(\'destination\',\'CT\')"  fxLayout="row">\r\n            <div>\r\n              <img style="height:32px;" src="../../../../images/trip-icons/stop_truck_white.png" alt="location" >\r\n            </div>\r\n            <div style="width: 100%">\r\n            <div style="font-size:14px;padding-left: 8px;padding-right: 5px;">\r\n              <span style="margin-left: 25px;color: #428fd4;font-size: 25px;"><i  class="fa fa-circle" aria-hidden="true"></i></span>\r\n              <span *ngIf="selectedShipment.currentShipment" style="line-height: 1.43" (click)="goToEditTripPickupView(\'destination\',\'CT\')" >{{selectedShipment?.currentShipment?.endLocation?.freightLocation?.name}}</span>\r\n              <span *ngIf="selectedShipment.currentShipment" style="line-height: 1.43" (click)="goToEditTripPickupView(\'destination\',\'CT\')" ><i  class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;float:right;"></i></span>\r\n              <span  *ngIf="!selectedShipment.currentShipment"  style="line-height: 1.43;font-size: 20px" > N/A !</span>\r\n            </div>\r\n            \x3c!-- ************************* vehicle status **************************   --\x3e\r\n            <div  style="white-space: nowrap;margin-bottom: -10px;text-align: right;">\r\n              <span style="font-size:12px">Since {{selectedShipment[\'vts\']?._stateDuration}}</span>\r\n            </div>\r\n            </div>\r\n          </div>\r\n  \r\n          <div style="overflow: hidden;margin-top: -13px;">\r\n            <section class="DP-timeline" style="padding: 5px;" >\r\n              <div style="padding: 5px;margin-top: 5px;">\r\n                \x3c!-- *************** for expand up-down arrow icon ************  --\x3e\r\n                <div style="overflow: hidden;margin-top: 20px;padding-bottom: 20px" fxLayout="row" >\r\n                \x3c!-- ******** total travling time **************** --\x3e\r\n                  <div style="min-width: 43px">\r\n                    <div *ngIf="!isExpand" class="time">\r\n                      <span class="rotate" >&#8676;</span>\r\n                      <span name="totalTravelDistance" style="white-space:nowrap;">{{movementLogs?._totalTravlingDistance | number : \'1.1-1\'}} km</span>\r\n                      <span name="totalTravlingTime" style="border-top: 1px solid;" >{{movementLogs?._totalTravlingTime}}</span>\r\n                      <span class="rotate">&#8677;</span>\r\n                    </div>\r\n                  </div>\r\n                  \x3c!-- ********************************* --\x3e\r\n    \r\n                  <div *ngIf="!isExpand" fxLayout="column" (click)="isExpand = true" style="margin-left:65px;    margin-top: 10px;">\r\n                    <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                    <i  class="fa fa-angle-down" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                  </div>\r\n                  <div *ngIf="isExpand" fxLayout="column" (click)="isExpand = false" style="margin-left:65px;margin-top: -6px;">\r\n                    <i class="fa fa-angle-up" aria-hidden="true" style="font-size:18px;font-weight:bold;color:#d8d8d8;" ></i>\r\n                  </div>\r\n    \r\n                  <div fxLayout="column" style="margin-bottom: 30px;width:100%">\r\n                    \x3c!-- when not expanded --\x3e\r\n                    <div *ngIf="!isExpand" style="margin-left:8px;display:grid;margin-top: 15px;" >\r\n                      <div style="display: grid">\r\n                        <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;">{{movementLogs?.stopped}} Stops</span>\r\n                        <span style="font-size: 11px;color: #9b9b9b;white-space:nowrap;margin-top:4px;">{{movementLogs?.disconnected }} Disconnects</span>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!-- ******** this is show when log value expanded ********* --\x3e\r\n                    <div [style.height]="isExpand?\'auto\':\'0px\'"  class="data-box" id="expandable-box" [style.margin-top]="!isExpand?upSideHeight:\'8px\'"  [class.hide-up-Slowly]="!isExpand" [class.show-down-Slowly]="isExpand == true"  fxLayout="column"  >\r\n    \r\n                    \x3c!-- loop for movement logs / this data show when click to expand movement logs  --\x3e\r\n                      <div *ngFor="let movementleg of selectedShipment[\'movementLegs\']" style="margin-top:15px;padding:5px;margin-bottom:10px;position:relative" >    \x3c!--loop here--\x3e\r\n                        <div *ngIf="isExpand" >\r\n                        <div *ngIf="movementleg.state == \'Moving\'" class="travling-time" > \x3c!-- left side of time line--\x3e\r\n                          <span  >{{movementleg?._totalDuration }}</span>\r\n                          <span  >{{movementleg?.totalDistance/1000 | number : \'1.1-1\'}} km</span>\r\n                        </div>\r\n                        <i *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'"  style="position: absolute;margin-left: -61px;background-color: white;"\r\n                          [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" class="fa fa-stop-circle" aria-hidden="true"></i>\r\n                        <div *ngIf="movementleg.state == \'Stopped\' || movementleg.state == \'Disconnected\'" [style.color]="movementleg.state == \'Disconnected\'?\'red\':\'#858585\'" > \x3c!-- right side of time line--\x3e\r\n                          <span style="font-weight: bold;">{{movementleg.endLocation?.address?movementleg.endLocation?.address:\'N/A\'}}</span>\r\n    \r\n                          <div style="padding-top: 4px;float:right;text-align:right;display:grid;" >\r\n                            <span  style="white-space:nowrap;">{{movementleg?._totalDuration }}</span>\r\n                            <span style="white-space:nowrap;">{{movementleg?.startTime | date: \'dd MMM yy hh:mm a\'}}</span>\r\n                          </div>\r\n                        </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \x3c!-- ***************************close for expand up-down arrow icon **************************  --\x3e\r\n                <div style="display:flex;position: relative;" >\r\n                  <i  class="fa fa-circle DP_timeline-image" aria-hidden="true"></i>\r\n                  <div class="time" style="margin-top: 5px;">\r\n                    <span >{{selectedShipment[\'currentShipment\'].startLocation[\'fromTime\'] | date :\'d MMM\'}}</span>\r\n                    <span style="white-space:nowrap" >{{selectedShipment[\'currentShipment\'].startLocation[\'fromTime\'] | date :\'jm\'}}</span>\r\n                  </div>\r\n                  <div style="font-size: 13px;font-weight: bold;margin-left: 60px;color:#4a4a4a;display: grid" >\r\n                    <span class="fade-sub-header-text" style="margin-top: -13px;margin-left: -10px;">Pickup</span>\r\n                    <span (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  >{{(selectedShipment?.currentShipment?.startLocation.freightLocation?.name)?selectedShipment?.currentShipment?.startLocation?.freightLocation?.name:\'N/A\'}}</span>\r\n                  </div>\r\n                  <div (click)="goToEditTripPickupView(\'pickup\',\'CT\')"  style="margin-left: auto;display: grid;text-align: center;">\r\n                    <span style="white-space: nowrap;color: #9b9b9b;font-size: 11px"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #00b0ff;"></i></span>\r\n                  </div>\r\n                </div>\r\n                <div class="sub-header-text" style="margin-left: 90px;margin-top: -5px;font-size: 11px">\r\n                    <span>Loading Duration {{selectedShipment[\'currentShipment\'].startLocation[\'_loadingDuration\']}}</span>\r\n                </div>\r\n              </div>\r\n            </section>\r\n    \r\n          </div>\r\n        </div>\r\n        \x3c!-- ************ close current trip *****8 --\x3e\r\n        <div style="height: 50px"></div>\r\n      </div>\r\n  </div>\r\n</div>\r\n\r\n'},okFp:function(e,t,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),s=(n.n(r),n("JgC9")),a=n("N2o7"),l=(n.n(a),n("p5Ee"));n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n){var o=this;this.http=e,this._store=t,this.localStorageService=n,this.createOrg=new i.EventEmitter,this.switchOrganisations=new i.EventEmitter,this.createOrg.subscribe(function(e){o.token=o.localStorageService.get("AUTH_TOKEN");var t=l.a.CREATE_ORGANISATION_PATH;console.log(t),o.createOrganisation(t,e).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?(console.log("IN IF"),o._store.dispatch({type:"CREATE_ORG_RESPONSE",payload:{error:"",res:e}})):o._store.dispatch({type:"CREATE_ORG_RESPONSE",payload:{error:"X",errorMsg:e.error}})},function(e){console.log(e),console.log(e.json()),o._store.dispatch({type:"CREATE_ORG_RESPONSE",payload:{error:"X",errorMsg:"http error"}})})}),this.switchOrganisations.subscribe(function(e){o.token=o.localStorageService.get("AUTH_TOKEN");var t=l.a.SWITCH_ORG_PATH+e;console.log(t),o.switchOrganisation(t,e).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?o._store.dispatch({type:"SWITCH_ORGANISATION_RESPONSE",payload:{error:"",res:e}}):o._store.dispatch({type:"SWITCH_ORGANISATION_RESPONSE",payload:{error:"X",errorMsg:e.error}})},function(e){console.log(e),console.log(e.json()),o._store.dispatch({type:"SWITCH_ORGANISATION_RESPONSE",payload:{error:"X",errorMsg:"http error"}})})})}return e.prototype.ngOnDestroy=function(){},e.prototype.createOrganisation=function(e,t){var n=new o.c;console.log(this.token);var i="Bearer "+this.token;n.set("Content-Type","application/json"),n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:t});return this.http.request(e,r).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e.prototype.switchOrganisation=function(e,t){var n=new o.c;console.log(this.token),console.log(this.token);var i="Bearer "+this.token;n.set("Content-Type","application/json"),n.set("authorization",i);var r=new o.d({method:o.e.Get,headers:n});return this.http.request(e,r).map(function(e){return console.log(e),200==e.status?e.json():(console.log("not 200"),{error:"X"})})},e}();p=c([n.i(i.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(m=void 0!==a.LocalStorageService&&a.LocalStorageService)&&m||Object])],p);var u,h,m},p5Ee:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var i={IP:"http://192.168.0.153"},o={IP:"http://192.168.0.153",NODE_IP:"http://tracknet.fretron.com",FERIGHT_LOCATION:i.IP+"/freight"},r={ORGANIZATION_LIST_PATH:o.IP+"/organisation/organizations",MANAGE_USERS_PATH:o.IP+"/organisation/users",DELETE_USERS_PATH:o.IP+"/organisation",ADD_EXISTING_USERS_PATH:o.IP+"/user/getUser",SWITCH_ORG_PATH:o.IP+"/user/switchorg?orgId=",CREATE_ORGANISATION_PATH:o.IP+"/organisation/create",MANAGE_VEHICLES_GRP_PATH:o.IP+"/group",SHIPMENT_PATH:o.IP+"/shipment",DEVICE_LIST_PATH:o.IP+"/shipment/device/dashboard",CHECK_VEHICLE:o.IP+"/registry/checkvehicle"}},pZW2:function(e,t){e.exports='<div>\r\n  <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>\r\n  <div *ngIf="isShowAddNewGroupDialog"   class="mycustomDialog" style="padding-top: 70px;">\r\n    <div class="modal-content" style="width:40%;min-width:250px;overflow: hidden;max-width: 400px;">\r\n      <div class="modal-header">\r\n        <span class="close" (click)="isShowAddNewGroupDialog=false;" >&times;</span>\r\n        <label>Create Group</label>\r\n      </div>\r\n      <div  style="padding: 10px;font-size: 13px;">\r\n        <div style="padding: 5px;" >\r\n          <div style="width: 100%;text-align:center" >\r\n            <md-input-container style="width:85%" >\r\n              <input placeholder="Group Name"  mdInput required [(ngModel)]="groupName" >\r\n            </md-input-container>\r\n          </div>\r\n          <div style="padding-top: 10px;text-align: center" >\r\n            <button md-raised-button (click)="isShowAddNewGroupDialog=false">CANCEL</button>\r\n            <button [disabled]="groupName ==\'\'" md-raised-button color="primary" style="margin-left: 15%" (click)="createNewGroup()">SAVE</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div style="padding:14px;font-size:16px;color:#858585;font-weight:bold;" >\r\n    <span>Shipment Groups</span>\r\n  </div>\r\n\r\n  <div style="height:calc(100vh - 95px);overflow:auto;padding:2px" >\r\n   <md-card *ngFor="let shipment of shipmentGrpList" >\r\n     <span style="margin-left: 12px;">{{shipment[\'groupName\']}}</span>\r\n   </md-card>\r\n  </div>\r\n\r\n   <button [disabled]="this.customerDetails[\'orgId\'] ==null || this.customerDetails[\'orgId\'] == undefined" md-fab color="primary" (click)="isShowAddNewGroupDialog =true" style="position:absolute;bottom: 10px;right: 10px;" >\r\n     <i class="fa fa-plus" aria-hidden="true" style="font-size: 20px;color: white "></i>\r\n   </button>\r\n</div>\r\n'},q2v8:function(e,t){e.exports='<md-card style="cursor: pointer" (click)="goToManageOrganisation()">\n  <md-card-content>\n    <div style="padding: 15px">\n      <label style="vertical-align: -6px;margin-right: 5px">{{\'Manage Organsation\'}}</label>\n    </div>\n  </md-card-content>\n</md-card>\n'},qZ1l:function(e,t){e.exports='<div class="container" style="min-width: 700px;box-sizing: border-box;">\r\n    <md-spinner *ngIf="isSpinner" mode="indeterminate" class="spinner"></md-spinner>    \r\n  <div style="display:flex;padding:20px 5px 10px 12px;" >\r\n    <md-card class="cards-toggle" (click)="selectedFilter = \'all\'" [style.background-color]="selectedFilter == \'all\'?\'#1976d2\':\'\'"  [style.color]="selectedFilter == \'all\'?\'#FFFFFF\':\'\'">\r\n      <div ><span >{{length}}</span></div>\r\n      <div style="margin-top: 6px;" ><span  >All Shipments</span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="selectedFilter = \'active\'" [style.background-color]="selectedFilter == \'active\'?\'#1976d2\':\'\'"  [style.color]="selectedFilter == \'active\'?\'#FFFFFF\':\'\'" style="margin-left: 20px" >\r\n      <div  ><span > {{active}}</span></div>\r\n      <div style="margin-top: 6px;" ><span  >Active</span></div>\r\n    </md-card>\r\n\r\n    <md-card class="cards-toggle" (click)="selectedFilter = \'deliverd\'" [style.background-color]="selectedFilter == \'deliverd\'?\'#1976d2\':\'\'"  [style.color]="selectedFilter == \'deliverd\'?\'#FFFFFF\':\'\'" style="margin-left: 20px" >\r\n      <div  ><span >{{deliverd}}</span></div>\r\n      <div  style="margin-top: 6px;"><span  >Delivered</span></div>\r\n    </md-card>\r\n\r\n    <div style="display: flex;margin-left: auto;margin-right: 45px;" >\r\n      <div class="doughnut-chart" >\r\n        <div class="overlay">\r\n          <i style="color: #1976d2" class="fa fa-wifi" aria-hidden="true"></i>\r\n          <i style="color: #1976d2" class="fa fa-mobile" style="margin-left:6px" aria-hidden="true"></i>\r\n        </div>\r\n        <canvas baseChart\r\n                [options]="doughnutChartOptions"\r\n                [data]="doughnutChartData"\r\n                [chartType]="doughnutChartType"\r\n                [colors]="doughnutColor">\r\n        </canvas>\r\n      </div>\r\n\r\n      <div  style="margin-top: -10px;">\r\n        <span style="font-size: 14px">Tracking Status</span>\r\n        <div >\r\n          <span class="doughnut-chart-label" style="background-color:#71a2ec;" ></span>\r\n          <span style="font-size: 11px;" >{{doughnutChartData[0]}}: Tracknet</span>\r\n        </div>\r\n        <div style="margin-top: 5px;">\r\n          <span class="doughnut-chart-label" style="background-color:#a1f2f5;"></span>\r\n          <span style="font-size: 11px;" >{{doughnutChartData[1]}}: Trip Tracker</span>\r\n        </div>\r\n\r\n        <div style="margin-top: 5px;">\r\n          <span class="doughnut-chart-label" style="background-color:#d7d8df;"></span>\r\n          <span style="font-size: 11px;" >{{doughnutChartData[2]}}: Manual Mode</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n\r\n   \r\n  <div style="display: flex;padding: 5px 5px;margin-top: 10px" >\r\n    <div class="custome-button" >\r\n      <button md-button (click)="createNewShipment()" >+Create New Shipment</button>\r\n      <button md-raised-button color="primary" style="margin-left: 16px;" >Import Shipment</button>\r\n    </div>\r\n    <div style="display: flex;padding: 5px 5px;margin-left: 13px;">\r\n      <i   (click)="download()" class="fa fa-download my-download" aria-hidden="true">\r\n        <span class="download-csv">CSV</span>\r\n      </i>\r\n    </div>\r\n    \r\n    <div class="custome-button" style="display: inline-flex;margin-left: auto;" >\r\n      <button md-raised-button color="primary" style="margin-right: 40px">Share</button>\r\n      <div style="position:relative;margin-top: -1px;" >\r\n        <i  class="fa fa-search "  aria-hidden="true" style="margin-top: 7px;right: 7px;position: absolute;font-size: 13px;color: black;"></i>\r\n        <input myAutofocus  [(ngModel)]="search" class="expand-search"  placeholder="Search">\r\n      </div>\r\n    </div>\r\n  </div>\r\n    \r\n   \x3c!--************************ Switch Shipment dialog *********************************--\x3e\r\n    <div *ngIf="isSwitchShipmentDialog"  class="mycustomDialog" style="padding-top: 70px;overflow:unset">\r\n      <div class="modal-content" style="width: 60%;min-width: 250px;overflow:unset;max-width: 560px;height:60vh;">\r\n        <div class="modal-header">\r\n          <span class="close" (click)="closeToggle()" >&times;</span>\r\n          <div>\r\n            <label>Switch Shipment</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div  style="padding: 18px;font-size: 17px;margin-top:40px;margin-left:150px" >\r\n          <md-spinner *ngIf="isSpin" mode="indeterminate" class="spinner"></md-spinner>\r\n            <div *ngIf="isShowTrip"><span><u>Tracknet Enabled </u></span></div>\r\n            <div style="margin-top: 21px;">\r\n               <button [style.background-color]="trackerType == \'Trip\'?\'green\':\'gray\'" md-raised-button  class="change-mode-button"  (click)="setTrackType(\'Trip\')" *ngIf="isShowTrip">Tracknet</button>              \r\n               <button [style.background-color]="trackerType == \'Tracker\'?\'green\':\'gray\'" md-raised-button  class="change-mode-button" style="margin-left: 20px;" (click)="setTrackType(\'Tracker\')">Tracker</button>\r\n            </div>\r\n            <div style="margin-top: 15px" *ngIf="trackerType == \'Tracker\'">\r\n              <md-input-container style="width: 250px;" >\r\n                <input style="width: 100%;" placeholder="Tracker IMEI" mdInput [(ngModel)]="trackerIMEI"  name="trackerIMEI" id="trackerIMEI">\r\n              </md-input-container>\r\n            </div>\r\n        </div>\r\n        <div style="margin-top: 40px;">\r\n            <button md-raised-button  style="margin-left: 120px;margin-top: 30px" (click)="closeToggle()" >Cancel</button>\r\n            <button md-raised-button  style="margin-left: 60px;margin-top: 30px;width: 30%" (click)="confirmSwitchShipment()" >Switch Shipment</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \x3c!-- close Switch Shipment dialog --\x3e\r\n\r\n  <div style="padding: 25px 5px 0px 20px;min-width: 700px">\r\n    <div style="box-shadow: 0px 4px 19px darkgrey;">\r\n      <table style="border: 1px solid #e1e6ef;">\r\n        <tr style="height: 50px">\r\n          <td style="font-size:17px;border:none;" ><label>All Shipments</label></td>\r\n          <td colspan="4" style="float: right;padding: 0px">\r\n            <md-paginator class="customePaginator" [length]="length"\r\n                          [pageSize]="pageSize"\r\n                          [pageSizeOptions]="pageSizeOptions"\r\n                          (page)="pageEvent = $event;selectTableHeight()" >\r\n            </md-paginator>\r\n          </td>\r\n        </tr>\r\n         \r\n        <div fxLayout="row" class="list-header1" [style.width]="(isShowDetails || this.previousSelectedVehicle[\'_isShowDetails\'])?\'calc(160% - 330px)\':\'160%\'">\r\n          <span style="width: 25px;"></span>\r\n          <span fxFlex=14 >Shipment No</span>\r\n          <span fxFlex=12 >Vehicle No</span>\r\n          <span fxFlex=15 >Shipment Status</span>\r\n          <span fxFlex=15  >Consignor</span>\r\n          <span fxFlex=14  >Consignee</span>\r\n          <span fxFlex=14 >Distance to go</span>\r\n          <span fxFlex=14  >Current Status</span>\r\n      </div>\r\n      </table>\r\n      <div  style="overflow:auto;max-height:calc(100vh - 340px);display:flex" >\r\n        <div style="overflow:hidden;max-height:calc(100vh - 340px); width: 100%;margin-right: -1px;" >\r\n        <table  style="border-top: 1px solid #e1e6ef;border-bottom: 4px solid rgba(225, 230, 239, 0);">\r\n          <div fxLayout="row" *ngFor="let shipment of selectedVehicleList | searchFilter : [\'vehicleNo\',\'shipmentNo\', search] | shipmentType: [\'_shipmentStatus\', search]" >\r\n            <div fxFlex=100 >\r\n              <md-card   (click)="isShowDetails = true;selectedShipmentDetail(shipment);changeBgColor(shipment)"\r\n              [style.background-color]="shipment._isShowDetails?\'aliceblue\':\'\'" style="cursor: alias;"  fxLayout="row" class="list-body1" >      \r\n                <span> <md-checkbox class="customCheckBox" [(ngModel)]="shipment.isChecked" ></md-checkbox></span>\r\n                <span fxFlex=13>{{shipment.shipmentNo}}</span>\r\n                <span fxFlex=12 ><i   class="fa fa-truck" aria-hidden="true"></i>&nbsp;&nbsp;{{shipment.vehicleRegistrationNumber}}</span>\r\n                <span fxFlex=14 *ngIf="shipment.vts==\'EnrouteForPickUp\'"><i   aria-hidden="true">Enroute For Pickup</i></span>\r\n                <span fxFlex=14 *ngIf="shipment.vts==\'AtPickUpPoint\'"><i   aria-hidden="true">At Pickup Point</i></span>\r\n                <span fxFlex=14 *ngIf="shipment.vts==\'EnrouteForDestination\'"><i   aria-hidden="true">Enroute For Delivery</i></span>\r\n                <span  fxFlex=14 *ngIf="shipment.vts==\'AtDestination\' && shipment.shipmentState==\'Started\'"><i   aria-hidden="true">At Destination</i></span>\r\n                <span  fxFlex=14 *ngIf="shipment.vts==\'AtDestination\' && shipment.shipmentState==\'Completed\'"><i   aria-hidden="true">Delivered</i></span>\r\n                \r\n                \x3c!-- <span style="margin-left: 45px" *ngIf="shipment.vts==\'AtDestination\'"><i   aria-hidden="true">Enroute For Pickup</i></span>                    --\x3e\r\n                <span  fxFlex=14><i  class="fa fa-map-marker" aria-hidden="true"></i>&nbsp;&nbsp;{{shipment.startLocationName}} </span>\r\n                <span fxFlex=13 ><i   class="fa fa-circle" aria-hidden="true"></i>&nbsp;&nbsp;{{shipment.endLocationName}} </span>\r\n                <span fxFlex=14 ><i   class="fa fa-location-arrow" aria-hidden="true"></i>&nbsp;&nbsp;1400 Km in 3day 10 hour</span>\r\n                <span fxFlex=14 *ngIf="shipment.trackingType==\'Tracker\'"><i  style="color:rgb(27, 238, 245);" class="fa fa fa-rss-square" aria-hidden="true"></i>&nbsp;&nbsp;Kkalpana Ind.</span>\r\n                <span fxFlex=14 *ngIf="shipment.trackingType==\'Manual\'"> <i  style="color:#bfc0c5" class="fa fa fa-square" aria-hidden="true"></i>&nbsp;&nbsp;Kkalpana Ind.</span>\r\n                <span fxFlex=14 *ngIf="shipment.trackingType==\'Trip\'"> <i  style="color:rgb(27, 114, 245);" class="fa fa fa-square" aria-hidden="true"></i>&nbsp;&nbsp;Kkalpana Ind.</span>\r\n              </md-card>\r\n            </div>\r\n            <div fxFlex=0  class="custome-button" style="margin-left: -40px;margin-top:8px" *ngIf="shipment.trackingType==\'Manual\'">\r\n                <md-slide-toggle [checked]="shipment[\'isToggle\'] && switchShipment[\'isToggle\']" (change)="checkVehicle(shipment)" ></md-slide-toggle>\r\n            </div>\r\n          </div>\r\n        </table>\r\n        </div>\r\n        <div *ngIf="isShowDetails" style="background-color: aliceblue;padding: 8px 10px;width: 100%;max-width: 330px;margin-bottom: 10px;" >\r\n          <i (click)="isShowDetails = false;closeDetails()" style="float: right;margin-top: -7px;color: #9E9E9E;cursor:pointer" class="fa fa-times-circle-o" aria-hidden="true"></i>\r\n          <div *ngIf="trackingType==\'Manual\'"><app-manual-shipment-status></app-manual-shipment-status></div>\r\n          <div *ngIf="trackingType==\'Tracker\'"><app-tracker-shipment-status></app-tracker-shipment-status></div>\r\n          <div *ngIf="trackingType==\'Trip\'"><app-tracker-shipment-status></app-tracker-shipment-status></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},qyoZ:function(e,t,n){"use strict";var i=n("/oeL"),o=n("JgC9"),r=n("Z04r"),s=n("Nu/5"),a=n("N2o7");n.n(a);n.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,n,i){var o=this;this._store=e,this.userMgmntService=t,this.snackBar=n,this._localStorageServices=i,this.emailId="",this.isSpinner=!1,this.mobileNo="",this.existingUserName="",this.existingUserMobile="",this.existingUserEmail="",this.existingUserObj={},this.selectedUserForDelete={},this.orgId="",this.isShowInviteUser=!1,this.isShowUserDetails=!1,this.isShowDeleteUserConfirmation=!1,this.isShowExistingUserDetails=!1,this.allUsersList=[],this.unSub_UsersList=null,this.unSub_DeleteUserResponse=null,this.unSub_UpdateUserResponse=null,this.unSub_getAddExistingUser=null,this.unSub_customerDetails=null,this.allUsersList=[];this._localStorageServices.get("AUTH_TOKEN");this.token=this._localStorageServices.get("AUTH_TOKEN"),console.log("this.token"),console.log(this.token),this.unSub_customerDetails=e.select("customerDetails").subscribe(function(e){console.log(e),o.allUsersList=[],null!=e&&(o.orgId=e.customer.orgId,o.isSpinner=!0,o.userMgmntService.getAllUsersList.emit(o.token))}),this.unSub_UsersList=e.select("getAllUserList").subscribe(function(e){o.allUsersList=[],null!=e&&(console.log("all users list in component"),console.log(e),o.isSpinner=!1,o.allUsersList=e)}),this.unSub_getAddExistingUser=e.select("existingUserResponse").subscribe(function(e){if(null!=e){if(400==e.status)return o.isShowUserDetails=!0,void(o.isShowExistingUserDetails=!1);console.log("existing users details in component"),console.log(e.status),o.isShowExistingUserDetails=!0,o.existingUserObj=e,o.existingUserName=e.name,o.existingUserEmail=e.email,o.existingUserMobile=e.mobileNumber,o.refreshListAfterInterval()}}),this.unSub_DeleteUserResponse=e.select("deleteUserResponse").subscribe(function(e){null!=e&&(console.log("all users list in component"),console.log(e),o.openSnackBar("User Deleted Successfully !"),o.userMgmntService.getAllUsersList.emit(o.token),o.refreshListAfterInterval())}),this.unSub_UpdateUserResponse=e.select("updateUserStatusResponse").subscribe(function(e){null!=e&&(console.log("all users list in component"),console.log(e),o.openSnackBar("User Status Updated !"),o.isShowUserDetails=!1,o.userMgmntService.getAllUsersList.emit(o.token),o.refreshListAfterInterval())})}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_UsersList&&null!=this.unSub_UsersList&&void 0!=this.unSub_UsersList&&this.unSub_UsersList.unsubscribe(),void 0!==this.unSub_UsersList&&null!=this.unSub_UsersList&&void 0!=this.unSub_UsersList&&this.unSub_UsersList.unsubscribe(),void 0!==this.unSub_UpdateUserResponse&&null!=this.unSub_UpdateUserResponse&&void 0!=this.unSub_UpdateUserResponse&&this.unSub_UpdateUserResponse.unsubscribe(),void 0!==this.unSub_getAddExistingUser&&null!=this.unSub_getAddExistingUser&&void 0!=this.unSub_getAddExistingUser&&this.unSub_getAddExistingUser.unsubscribe(),void 0!==this.unSub_customerDetails&&null!=this.unSub_customerDetails&&void 0!=this.unSub_customerDetails&&this.unSub_customerDetails.unsubscribe()},e.prototype.showInviteUser=function(){this.isShowInviteUser=!0},e.prototype.confirmAddUser=function(){this.isShowInviteUser=!1,this.isShowUserDetails=!0;var e={email:this.emailId,mobile:this.mobileNo};this.userMgmntService.getUserIfExist.emit(e)},e.prototype.addUser=function(){var e={userUuid:this.existingUserObj.uuid,orgUuid:this.orgId,accessLevel:"user"};console.log(e),this.userMgmntService.addUserToGroup.emit(e)},e.prototype.deleteUserConfirmationBox=function(e){console.log("Delete user ??"),console.log(e);var t={userUuid:e.user.uuid,orgUuid:this.orgId,accessLevel:e.accessLevel};this.selectedUserForDelete=t,this.isShowDeleteUserConfirmation=!0},e.prototype.deleteSelecetdUser=function(){this.allUsersList.length>1?(this.isShowDeleteUserConfirmation=!1,this.userMgmntService.deleteUser.emit(this.selectedUserForDelete)):this.openSnackBar("Atleast one user is required.")},e.prototype.changeUserStatus=function(e){var t="";"user"==e.accessLevel&&(t="admin"),"admin"==e.accessLevel&&(t="user");var n={userUuid:e.user.uuid,orgUuid:this.orgId,accessLevel:t};this.userMgmntService.changeUserType.emit(n)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e.prototype.refreshListAfterInterval=function(){var e=this;setTimeout(function(){e.userMgmntService.getAllUsersList.emit(e.token)},3e3),setTimeout(function(){e.userMgmntService.getAllUsersList.emit(e.token)},5e3),setTimeout(function(){e.userMgmntService.getAllUsersList.emit(e.token)},1e4)},e}();d=l([n.i(i.Component)({selector:"app-users-list",template:n("Fjm3"),styles:[n("FUpZ")]}),c("design:paramtypes",["function"==typeof(p=void 0!==o.b&&o.b)&&p||Object,"function"==typeof(u=void 0!==s.a&&s.a)&&u||Object,"function"==typeof(h=void 0!==r.t&&r.t)&&h||Object,"function"==typeof(m=void 0!==a.LocalStorageService&&a.LocalStorageService)&&m||Object])],d);var p,u,h,m},ri6n:function(e,t,n){"use strict";var i=n("/oeL"),o=n("BkNc"),r=n("0+Up"),s=n("JgC9"),a=n("Z04r"),l=n("UpJ0"),c=n("+WI2"),d=n("AqEY");n.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,n,i,o){var r=this;this.snackBar=e,this._router=t,this.deviceServices=n,this.dialog=i,this._store=o,this.selectedFilter="",this.isSpinner=!1,this.allDeviceList=[],this.countFilterData={all:0,active:0,available:0,repairing:0},this.unSub_allDeviceList=null,this.deviceServices.allDevicesList.emit(),this.isSpinner=!0,this.unSub_allDeviceList=this._store.select("allDevicesList").subscribe(function(e){null!=e&&(r.isSpinner=!1,""==e.error?(r.allDeviceList=e.res,console.log(r.allDeviceList),r.countFilterValue()):(console.log(e.errorMsg),r.openSnackBar(e.errorMsg)))})}return e.prototype.countFilterValue=function(){this.countFilterData={all:0,active:0,available:0,repairing:0},this.countFilterData.all=this.allDeviceList.length;for(var e=0;e<this.allDeviceList.length;e++)if("active"==this.allDeviceList[e].device.status){if(this.countFilterData.active=this.countFilterData.active+1,null!=this.allDeviceList[e].shipment.actualStartTime){var t=this.msToTime((new Date).getTime()-this.allDeviceList[e].shipment.actualStartTime);console.log(t),this.allDeviceList[e].shipment._stateDuration=t}}else"available"==this.allDeviceList[e].device.status&&(this.countFilterData.available=this.countFilterData.available+1);console.log(this.countFilterData)},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){void 0!==this.unSub_allDeviceList&&null!=this.unSub_allDeviceList&&void 0!=this.unSub_allDeviceList&&this.unSub_allDeviceList.unsubscribe()},e.prototype.openDialogConfirmDeviceReturn=function(e){var t=e;console.log(t),this._store.dispatch({type:"DEVICE_DETAILS",payload:{error:"",data:t}}),this.dialog.open(l.a).afterClosed().subscribe(function(e){console.log("Dialog result: "+e)})},e.prototype.openDialogAssignVehicle=function(e){var t=e;console.log(t),this._store.dispatch({type:"DEVICE_DETAILS",payload:{error:"",data:t}}),this.dialog.open(c.a,{height:"350px",width:"500px"}).afterClosed().subscribe(function(e){console.log("Dialog result: "+e)})},e.prototype.openDialogMarkAsRequired=function(e){var t=e;console.log(t),this._store.dispatch({type:"DEVICE_DETAILS",payload:{error:"",data:t}}),this.dialog.open(d.a,{height:"350px",width:"500px"}).afterClosed().subscribe(function(e){console.log("Dialog result: "+e)})},e.prototype.msToTime=function(e){var t=e/1e3,n=Math.floor(t%60);t/=60;var i=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t),s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:i>0?s=s+i+"min":(n>0&&""==s&&(s=s+n+" sec"),""==s?"0 sec":s)},e.prototype.openSnackBar=function(e){this.snackBar.open(e,"",{duration:3e3})},e}();h=p([n.i(i.Component)({selector:"app-device-dashboard",template:n("Kg/2"),styles:[n("xIUs")]}),u("design:paramtypes",["function"==typeof(m=void 0!==a.t&&a.t)&&m||Object,"function"==typeof(g=void 0!==o.b&&o.b)&&g||Object,"function"==typeof(f=void 0!==r.a&&r.a)&&f||Object,"function"==typeof(v=void 0!==a.v&&a.v)&&v||Object,"function"==typeof(x=void 0!==s.b&&s.b)&&x||Object])],h);var m,g,f,v,x},syIf:function(e,t){e.exports='\x3c!--Top Header to be shown in mobile view only --\x3e\r\n\r\n\x3c!--<div class="top-header" id="top-head" *ngIf="view!=\'web\'" >--\x3e\r\n  \x3c!--<div fxLayout="row" style=" background-color: #3F51B5; height: 48px;padding-top: 15px; padding-left: 12px;">--\x3e\r\n      \x3c!--<span >--\x3e\r\n        \x3c!--<i style="color:white;" (click)="goToManageOrganisationView()" class="fa fa-arrow-left" aria-hidden="true" ></i>--\x3e\r\n      \x3c!--</span>--\x3e\r\n    \x3c!--<span>--\x3e\r\n        \x3c!--<label style="color:white;margin-left: 10px;margin-top: 4px;font-weight:bold;font-size:large;font-family: Gotham-Rounded-Medium, Sans-Serif">User Management</label>--\x3e\r\n      \x3c!--</span>--\x3e\r\n\r\n    \x3c!--&lt;!&ndash;<span style="margin-left: auto;margin-right:45px;" >&ndash;&gt;--\x3e\r\n    \x3c!--&lt;!&ndash;</span>&ndash;&gt;--\x3e\r\n  \x3c!--</div>--\x3e\r\n\x3c!--</div>--\x3e\r\n\r\n\x3c!--Top header ends here--\x3e\r\n\r\n\x3c!--<app-usermanagement-web-view></app-usermanagement-web-view>--\x3e\r\n<app-users-list></app-users-list>\r\n\r\n'},u5lw:function(e,t,n){"use strict";var i=n("/oeL"),o=n("a0oU");n.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.mapApiWrapper=e,this.latitude=null,this.longitude=null,this.zoom=5,this.isMarkerDragable=!1,this.isPolygonEditable=!1,this.mapType="roadmap",this.markers=[],this.name="",this.freightObj={},this.isVisible=!1,this.isSearched=!1,this.circle=null,this.toAddProximity=!0,this.toAddBoundary=!0,this.onLocationCreation=new i.EventEmitter,this.latitude=null,this.longitude=null,console.log(this.latitude),this.zoom=14,console.log("constructor")}return e.prototype.ngOnInit=function(){var e=this;console.log("in on init"),console.log("oninit"),this.agmMap.mapReady.subscribe(function(t){e.map=t;var n=[];console.log(n),e.selectedValue=e.selectedValueFromParent,console.log(e.selectedValueFromParent),console.log(e.selectedValue),"Proximity"==e.selectedValue.type?(e.toAddProximity=!0,e.toAddBoundary=!1):"Polygon"==e.selectedValue.type?(e.toAddBoundary=!0,e.toAddProximity=!1):(e.toAddProximity=!0,e.toAddBoundary=!0),e.polygon=e.addPolygone(e.map,n,!1,"#858585","#353535"),e.editLocation()})},e.prototype.ngOnDestroy=function(){},e.prototype.addPolygone=function(e,t,n,i,o){var r=new google.maps.Polygon({paths:t,editable:n,strokeColor:o,strokeOpacity:.8,strokeWeight:2,fillColor:i,fillOpacity:.35});return r.setMap(e),r},e.prototype.getNPointsCircularPolygone=function(e,t,n){function i(e){return e*Math.PI/180}function o(e){return 180*e/Math.PI}var r=0,s=[];for(r=1;r<=n;r++)s.push(function(e,t,n){n/=6371,t=i(t);var r=i(e.latitude),s=i(e.longitude),a=Math.asin(Math.sin(r)*Math.cos(n)+Math.cos(r)*Math.sin(n)*Math.cos(t)),l=s+Math.atan2(Math.sin(t)*Math.sin(n)*Math.cos(r),Math.cos(n)-Math.sin(r)*Math.sin(a));return isNaN(a)||isNaN(l)?null:new google.maps.LatLng(o(a),o(l))}(e,360/n*r,t));return s},e.prototype.editLocation=function(){this.isPolygonEditable=!0,this.polygon.setEditable(!0),this.polygon.setOptions({fillColor:"#FF0000",strokeColor:"#FF0000"}),this.placesServices()},e.prototype.back=function(){},e.prototype.placesServices=function(){var e=this,t=document.getElementById("pac-input");console.log(t);var n=new google.maps.places.SearchBox(t);if(this.map.addListener("bounds_changed",function(){n.setBounds(e.map.getBounds())}),this.markers=[],null!=this.res)if(null==this.res.data.radius){var i=this.getNPointsCircularPolygone({latitude:this.latitude,longitude:this.longitude},.5,5);this.polygon.setPath(i),this.polygon.setMap(this.map)}else this.drawCircel(Number(this.res.data.radius));n.addListener("places_changed",function(){var t=n.getPlaces();if(0!=t.length){e.markers.forEach(function(e){e.setMap(null)}),e.markers=[];var i=new google.maps.LatLngBounds;t.forEach(function(t){if(!t.geometry)return void console.log("Returned place contains no geometry");var n=(t.icon,new google.maps.Size(71,71),new google.maps.Point(0,0),new google.maps.Point(17,34),new google.maps.Size(25,25),new google.maps.Marker({title:t.formatted_address,position:t.geometry.location}));e.latitude=n.position.lat(),e.longitude=n.position.lng(),e.isSearched=!0,console.log(e.latitude+" "+e.longitude),e.address=t.formatted_address,console.log(t.formatted_address),e.markers.push(n),t.geometry.viewport?i.union(t.geometry.viewport):i.extend(t.geometry.location)}),e.map.fitBounds(i)}})},e.prototype.openSnackBar=function(e){},e.prototype.onAddProximity=function(){this.isVisible=!0,this.isCircle=!0},e.prototype.drawCircel=function(e){this.isCircle=!0,null!=this.circle&&this.circle.setMap(null),null!=this.polygon&&this.polygon.setMap(null),this.circle=new google.maps.Circle({radius:e,center:new google.maps.LatLng(this.latitude,this.longitude)}),this.circle.setMap(this.map)},e.prototype.onAddLocation=function(){this.radius=null,this.isCircle=!1,this.isVisible=!1;var e={latitude:this.latitude,longitude:this.longitude};console.log("Set New Location Obj"),console.log(e),null!=this.circle&&this.circle.setMap(null),null!=this.polygon&&this.polygon.setMap(null);var t=this.getNPointsCircularPolygone({latitude:this.latitude,longitude:this.longitude},.5,5);this.polygon.setPath(t),this.polygon.setMap(this.map),this.map.setZoom(14),console.log(this.fretDetails)},e.prototype.onKeyEvent=function(e){(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||8==e.keyCode)&&this.drawCircel(Number(this.radius))},e.prototype.saveLocation=function(){if(null==this.radius){for(var e=this.polygon.getPath(),t=[],n=0;n<e.getLength();n++){var i=e.getAt(n);t.push({latitude:i.lat(),longitude:i.lng()}),console.log(i.lat()+"     "+i.lng())}this.freightObj={name:this.name,address:this.address,geofence:{boundry:t,center:{latitude:this.latitude,longitude:this.longitude},type:"Polygon"}},console.log(this.freightObj)}else this.freightObj={name:this.name,address:this.address,geofence:{type:"Proximity",circle:{center:{latitude:this.latitude,longitude:this.longitude},radius:this.radius}}},console.log(this.freightObj);var o=this.onLocationCreation.emit(this.freightObj);console.log(o)},e}();r([n.i(i.ViewChild)(o.c),s("design:type",Object)],a.prototype,"agmMap",void 0),r([n.i(i.Output)(),s("design:type",Object)],a.prototype,"onLocationCreation",void 0),r([n.i(i.Input)(),s("design:type",Object)],a.prototype,"selectedValueFromParent",void 0),a=r([n.i(i.Component)({selector:"app-freight-location-creater",template:n("9u0M"),styles:[n("1yj0")]}),s("design:paramtypes",["function"==typeof(l=void 0!==o.b&&o.b)&&l||Object])],a);var l},v6by:function(e,t){e.exports='<div>\r\n  <div class="profile-container-desktop" >\r\n    <img class="logo" src="../../../../images/fretron_logo.png" alt="Avatar"  >\r\n    <img class="profile-pic" src="../../../../images/default-profile.png" alt="profile"  >\r\n    <div style="display: grid;position: absolute;top:81px;left: 23px;color:white">\r\n      <span style="font-size: 18px;margin-bottom: 3px;">{{customerName}}</span>\r\n      <span style="font-size: 12px">{{customerMobile}}</span>\r\n    </div>\r\n  </div>\r\n  <div style="margin: 10px 0px 10px 10px;overflow: auto;max-height: 250px;" >\r\n    <div class="org-list-element" *ngFor="let currentOrg of orgList" (click)="switchOrg(currentOrg)" >\r\n      <div  style="padding: 5px;" [style.background-color]="(currentOrgId === currentOrg[\'uuid\']? \'lightblue\': \'white\')">\r\n        <span >{{currentOrg[\'organisationName\']}}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div style="margin-bottom: -8px;width: 95%;text-align: right;" >\r\n    <button  (click)="goToAddOrganisation()" md-button >Add Organisation</button>\r\n    <button  (click)="logout();" md-button >Logout</button>\r\n  </div>\r\n</div>\r\n\r\n\r\n\x3c!-- ************************ mobile view code start here *2* ************************************** --\x3e\r\n\x3c!--<div *ngIf="viewType ==\'mobile\'" class="profile-container" >--\x3e\r\n  \x3c!--<img class="logo" src="../../../../images/fretron_logo.png" alt="Avatar"  >--\x3e\r\n  \x3c!--<img class="profile-pic" src="../../../../images/default-profile.png" alt="profile"  >--\x3e\r\n  \x3c!--<div style="display: grid;position: absolute;top:81px;left: 23px;color:white">--\x3e\r\n    \x3c!--<span style="font-size: 18px;margin-bottom: 3px;">{{customerName}}</span>--\x3e\r\n    \x3c!--<span style="font-size: 12px">{{customerMobile}}</span>--\x3e\r\n  \x3c!--</div>--\x3e\r\n  \x3c!--<div class="user-org-details" (click)="isOrgList =!isOrgList">--\x3e\r\n    \x3c!--<button md-icon-button style="cursor: pointer;z-index: 1000;font-size:15px;color: #ffffff"   >--\x3e\r\n      \x3c!--<span *ngIf="isOrgList" >&#9650;</span>--\x3e\r\n      \x3c!--<span *ngIf="!isOrgList">&#9660;</span>--\x3e\r\n    \x3c!--</button>--\x3e\r\n  \x3c!--</div>--\x3e\r\n\x3c!--</div>--\x3e\r\n\x3c!--<div *ngIf="viewType ==\'mobile\' && isOrgList" class="org-list">--\x3e\r\n  \x3c!--<div class="org-list-element" *ngFor="let currentOrg of orgList" (click)="switchOrg(currentOrg)" >--\x3e\r\n    \x3c!--<span >{{currentOrg[\'organisationName\']}}</span>--\x3e\r\n  \x3c!--</div>--\x3e\r\n\x3c!--</div>--\x3e\r\n\x3c!-- ************************ end mobile view code start here  ************************************** --\x3e\r\n'},wQAS:function(e,t,n){"use strict";var i=n("/oeL");n.d(t,"a",function(){return r});var o=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=function(){function e(){this.title="app"}return e}();r=o([n.i(i.Component)({selector:"app-root",template:"<router-outlet></router-outlet>"})],r)},whJe:function(e,t,n){"use strict";var i=n("/oeL"),o=n("JgC9"),r=n("N2o7");n.n(r);n.d(t,"a",function(){return l});var s=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.localStorageService=e,this._store=t}return e.prototype.ngOnDestroy=function(){},e.prototype.logout=function(){console.log(localStorage),this.localStorageService.clearAll(),this._store.dispatch({type:"CUSTOMER_DETAILS",payload:null});var e="http://"+window.location.hostname+":"+window.location.port;window.location.replace(e+"/fretron-auth/fretronLogin")},e}();l=s([n.i(i.Injectable)(),a("design:paramtypes",["function"==typeof(c=void 0!==r.LocalStorageService&&r.LocalStorageService)&&c||Object,"function"==typeof(d=void 0!==o.b&&o.b)&&d||Object])],l);var c,d},x56J:function(e,t,n){"use strict";var i=n("/oeL"),o=n("a0oU"),r=n("JgC9"),s=n("4BvG"),a=n("N2o7"),l=(n.n(a),n("xOQS")),c=n("xzyi"),d=n("BkNc");n.d(t,"a",function(){return h});var p=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,n,i,o,r){this._router=e,this.localStorageService=t,this.mapApiWrapper=n,this._store=i,this.trackerServices=o,this.shipmentServices=r,this.view="",this.latitude=null,this.longitude=null,this.zoom=5,this.isMarkerDragable=!1,this.isDiscardDialog=!1,this.isUpdateDialog=!1,this.isUpdateConfirmDialog=!1,this.isEditPlaceFromList=!1,this.currentPolygonPoints=[],this.mapType="roadmap",this.headerName="",this.selectedFromTime="",this.selectedTillTime="",this.markers=[],this.shipmentDetailsObject=null,this.isPolygonEditable=!1,this.isDiscard=!1,this.selectedLocation="",this.selectedTrip=null,this.selectedConfirmLocation=null,this.selectedAddress=null,this.view="web";var s=this.localStorageService.get("SHIPMENT-TRIP-DETAIL-OBJ");if(void 0!=s&&null!=s){if(console.log(s),this.shipmentDetailsObject=JSON.parse(JSON.stringify(s)),"destination"==this.shipmentDetailsObject.forEditPlace?this.headerName="Edit Destination":"pickup"==this.shipmentDetailsObject.forEditPlace&&(this.headerName="Edit Pickup"),null!=this.shipmentDetailsObject.selectedShipment.movementLegs)for(var a=0;a<this.shipmentDetailsObject.selectedShipment.movementLegs.length;a++)this.shipmentDetailsObject.selectedShipment.movementLegs[a]._totalTime=this.msToTime(this.shipmentDetailsObject.selectedShipment.movementLegs[a].totalTime);console.log(this.shipmentDetailsObject),this.setupUI(this.shipmentDetailsObject)}}return e.prototype.ngOnDestroy=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnInit=function(){var e=this;this.agmMap.mapReady.subscribe(function(t){e.map=t,console.log("oninit"),e.zoom=12,e.polygon=e.addPolygone(e.map,e.currentPolygonPoints,!1,"#858585","#353535")})},e.prototype.setupUI=function(e){"EnrouteForPickUp"==e.selectedShipment.vts.state?"destination"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.selectedShipment.currentShipment.endLocation.freightLocation.name,this.selectedFromTime=null,this.selectedTillTime=null,this.selectedTrip=JSON.parse(JSON.stringify(e.selectedShipment.currentShipment)),this.currentPolygonPoints=this.changeLatLng(e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.boundry),this.latitude=e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.center.latitude,this.longitude=e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"pickup"==e.forEditPlace&&"CT"==e.tripName&&(this.selectedLocation=e.selectedShipment.currentShipment.startLocation.freightLocation.name,this.selectedFromTime=null,this.selectedTillTime=null,this.selectedTrip=JSON.parse(JSON.stringify(e.selectedShipment.currentShipment)),this.currentPolygonPoints=this.changeLatLng(e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.boundry),this.latitude=e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.center.latitude,this.longitude=e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.center.longitude,this.isEditPlaceFromList=!0,console.log(this.currentPolygonPoints)):"AtPickUpPoint"==e.selectedShipment.vts.state?"destination"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.selectedShipment.currentShipment.endLocation.freightLocation.name,this.selectedFromTime=e.selectedShipment.currentShipment.endLocation.fromTime,this.selectedTillTime=e.selectedShipment.currentShipment.endLocation.tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.selectedShipment.currentShipment)),this.currentPolygonPoints=this.changeLatLng(e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.boundry),this.latitude=e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.center.latitude,this.longitude=e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"pickup"==e.forEditPlace&&"CT"==e.tripName&&(this.selectedLocation=e.selectedShipment.currentShipment.startLocation.freightLocation.name,this.selectedFromTime=e.selectedShipment.currentShipment.startLocation.fromTime,this.selectedTillTime=e.selectedShipment.currentShipment.startLocation.tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.selectedShipment.currentShipment)),this.currentPolygonPoints=this.changeLatLng(e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.boundry),this.latitude=e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.center.latitude,this.longitude=e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"EnrouteForDestination"==e.selectedShipment.vts.state?"pickup"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),this.isDiscard=!0,this.selectedLocation=e.selectedShipment.currentShipment.startLocation.freightLocation.name,this.selectedFromTime=e.selectedShipment.currentShipment.startLocation.fromTime,this.selectedTillTime=e.selectedShipment.currentShipment.startLocation.tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.selectedShipment.currentShipment)),this.currentPolygonPoints=this.changeLatLng(e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.boundry),this.latitude=e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.center.latitude,this.longitude=e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints),console.log(this.latitude)):"destination"==e.forEditPlace&&"CT"==e.tripName&&(console.log(e.forEditPlace),console.log(e.tripName),this.selectedLocation=e.selectedShipment.currentShipment.endLocation.freightLocation.name,this.selectedFromTime=null,this.selectedTillTime=null,this.selectedTrip=JSON.parse(JSON.stringify(e.selectedShipment.currentShipment)),this.currentPolygonPoints=this.changeLatLng(e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.boundry),this.latitude=e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.center.latitude,this.longitude=e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.center.longitude,this.isEditPlaceFromList=!0,console.log(this.currentPolygonPoints)):"AtDestination"==e.selectedShipment.vts.state&&("pickup"==e.forEditPlace&&"CT"==e.tripName?(console.log(e.forEditPlace),console.log(e.tripName),null==e.selectedShipment.currentShipment.endLocation.tillTime&&(this.isDiscard=!0),this.selectedLocation=e.selectedShipment.currentShipment.startLocation.freightLocation.name,this.selectedFromTime=e.selectedShipment.currentShipment.startLocation.fromTime,this.selectedTillTime=e.selectedShipment.currentShipment.startLocation.tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.selectedShipment.currentShipment)),this.currentPolygonPoints=this.changeLatLng(e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.boundry),this.latitude=e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.center.latitude,this.longitude=e.selectedShipment.currentShipment.startLocation.freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)):"destination"==e.forEditPlace&&"CT"==e.tripName&&(console.log(e.forEditPlace),console.log(e.tripName),null!=e.selectedShipment.currentShipment.endLocation.tillTime&&(this.isDiscard=!0),this.selectedLocation=e.selectedShipment.currentShipment.endLocation.freightLocation.name,this.selectedFromTime=e.selectedShipment.currentShipment.endLocation.fromTime,this.selectedTillTime=e.selectedShipment.currentShipment.endLocation.tillTime,this.selectedTrip=JSON.parse(JSON.stringify(e.selectedShipment.currentShipment)),this.currentPolygonPoints=this.changeLatLng(e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.boundry),this.latitude=e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.center.latitude,this.longitude=e.selectedShipment.currentShipment.endLocation.freightLocation.geofence.center.longitude,console.log(this.currentPolygonPoints)))},e.prototype.changeLatLng=function(e){console.log(e);for(var t=[],n=0;n<e.length;n++)t.push({lat:e[n].latitude,lng:e[n].longitude});return t},e.prototype.addPolygone=function(e,t,n,i,o){var r=new s.a.maps.Polygon({paths:t,editable:n,strokeColor:o,strokeOpacity:.8,strokeWeight:2,fillColor:i,fillOpacity:.35});return r.setMap(e),r},e.prototype.getNPointsCircularPolygone=function(e,t,n){function i(e){return e*Math.PI/180}function o(e){return 180*e/Math.PI}var r=0,a=[];for(r=1;r<=n;r++)a.push(function(e,t,n){n/=6371,t=i(t);var r=i(e.lat),a=i(e.lng),l=Math.asin(Math.sin(r)*Math.cos(n)+Math.cos(r)*Math.sin(n)*Math.cos(t)),c=a+Math.atan2(Math.sin(t)*Math.sin(n)*Math.cos(r),Math.cos(n)-Math.sin(r)*Math.sin(l));return isNaN(l)||isNaN(c)?null:new s.a.maps.LatLng(o(l),o(c))}(e,360/n*r,t));return a},e.prototype.editLocation=function(){this.isPolygonEditable=!0,this.polygon.setEditable(!0),this.polygon.setOptions({fillColor:"#FF0000",strokeColor:"#FF0000"}),this.placesServices()},e.prototype.back=function(){this.setUrlForDesktop()},e.prototype.setUrlForDesktop=function(){this._store.dispatch({type:"CLOSE_DIALOG",payload:{isClose:!1}})},e.prototype.placesServices=function(){var e=this,t=document.getElementById("pac-input");console.log(t);var n=new s.a.maps.places.SearchBox(t);this.map.addListener("bounds_changed",function(){n.setBounds(e.map.getBounds())}),this.markers=[],n.addListener("places_changed",function(){var t=n.getPlaces();if(0!=t.length){e.markers.forEach(function(e){e.setMap(null)}),e.markers=[];var i=new s.a.maps.LatLngBounds;t.forEach(function(t){if(!t.geometry)return void console.log("Returned place contains no geometry");t.icon,new s.a.maps.Size(71,71),new s.a.maps.Point(0,0),new s.a.maps.Point(17,34),new s.a.maps.Size(25,25);e.selectedAddress=t.formatted_address,console.log(e.selectedAddress);var n=new s.a.maps.Marker({title:t.name,position:t.geometry.location});e.markers.push(n),t.geometry.viewport?i.union(t.geometry.viewport):i.extend(t.geometry.location)}),e.map.fitBounds(i),1==e.markers.length&&(e.selectedLocation=e.markers[0].title)}})},e.prototype.setNewLocation=function(e){this.latitude=e.position.lat(),this.longitude=e.position.lng();var t=this.getNPointsCircularPolygone({lat:this.latitude,lng:this.longitude},.5,5);this.polygon.setPath(t),this.map.setZoom(15),this.map.setCenter(e.getPosition()),this.selectedLocation=e.title;for(var n=0;n<this.markers.length;n++)this.markers[n].setMap(null);this.markers=[]},e.prototype.discard=function(){var e=this;if("CT"==this.shipmentDetailsObject.tripName){var t=void 0;t="Tracker"==this.shipmentDetailsObject.selectedShipment.currentShipment.trackingType?"tracker":"trip";var n={forEditPlace:this.shipmentDetailsObject.forEditPlace,discardObj:{vehicleId:this.shipmentDetailsObject.selectedShipment.currentShipment.vehicleId,type:"user.add.missing.pickup",tripId:this.shipmentDetailsObject.selectedShipment.vts.tripId,trackingType:t,startTime:null,endTime:null,deviceImei:this.shipmentDetailsObject.selectedShipment.vts.deviceImei,locationInfo:null,vehicleStateInfo:null}};console.log(n),this.trackerServices.discardTrackerTrip.emit(n),setTimeout(function(){e.shipmentServices.getShipmentDetail.emit(e.shipmentDetailsObject.selectedShipment.currentShipment.shipmentId)},500)}this.setUrlForDesktop()},e.prototype.save=function(){var e=this,t=this.polygon.getPath();console.log(t);for(var n=[],i=0;i<t.getLength();i++){var o=t.getAt(i);n.push({latitude:o.lat(),longitude:o.lng()})}console.log(n),console.log(this.shipmentDetailsObject.forEditPlace);var r=JSON.parse(JSON.stringify(this.selectedTrip));"destination"==this.shipmentDetailsObject.forEditPlace?(r.endLocation.freightLocation.geofence.boundry=n,r.endLocation.freightLocation.geofence.center={latitude:this.latitude,longitude:this.longitude},r.endLocation.freightLocation.name=this.selectedLocation,null!=this.selectedAddress&&(r.endLocation.freightLocation.address=this.selectedAddress)):"pickup"==this.shipmentDetailsObject.forEditPlace&&(r.startLocation.freightLocation.geofence.boundry=n,r.startLocation.freightLocation.geofence.center={latitude:this.latitude,longitude:this.longitude},r.startLocation.freightLocation.name=this.selectedLocation,null!=this.selectedAddress&&(r.startLocation.freightLocation.address=this.selectedAddress)),null!=r&&(this.trackerServices.updateTrackerTrip.emit(r),setTimeout(function(){e.shipmentServices.getShipmentDetail.emit(e.shipmentDetailsObject.selectedShipment.currentShipment.shipmentId)},500),this.setUrlForDesktop()),console.log(this.shipmentDetailsObject),console.log(r)},e.prototype.editLocationByMovementLog=function(e){var t=this;console.log(e);var n;n="Tracker"==this.shipmentDetailsObject.selectedShipment.currentShipment.trackingType?"tracker":"trip";var i={forEditPlace:this.shipmentDetailsObject.forEditPlace,movementObj:{vehicleId:this.shipmentDetailsObject.selectedShipment.currentShipment.vehicleId,type:"user.add.missing.pickup",tripId:this.shipmentDetailsObject.selectedShipment.vts.tripId,startTime:e.startTime,endTime:null,trackingType:n,deviceImei:this.shipmentDetailsObject.selectedShipment.vts.deviceImei,locationInfo:null,vehicleStateInfo:null}};this.trackerServices.updateTrackerTripFromStop.emit(i),setTimeout(function(){t.shipmentServices.getShipmentDetail.emit(t.shipmentDetailsObject.selectedShipment.currentShipment.shipmentId)},500),console.log(i),this.setUrlForDesktop()},e.prototype.msToTime=function(e){var t=e/1e3,n=Math.floor(t%60);t/=60;var i=Math.floor(t%60);t/=60;var o=Math.floor(t%24);t/=24;var r=Math.floor(t);console.log(r);var s="";return r>0&&(s=r+"d "),o>0&&(s=s+o+"hr "),r>=1?s:i>0?s=s+i+"min":(n>0&&""==s&&(s=s+n+" sec"),""==s?"0 sec":s)},e}();p([n.i(i.ViewChild)(o.c),u("design:type",Object)],h.prototype,"agmMap",void 0),h=p([n.i(i.Component)({selector:"app-edit-shipment-location",template:n("Qp/B"),styles:[n("QLHX")]}),u("design:paramtypes",["function"==typeof(m=void 0!==d.b&&d.b)&&m||Object,"function"==typeof(g=void 0!==a.LocalStorageService&&a.LocalStorageService)&&g||Object,"function"==typeof(f=void 0!==o.b&&o.b)&&f||Object,"function"==typeof(v=void 0!==r.b&&r.b)&&v||Object,"function"==typeof(x=void 0!==l.a&&l.a)&&x||Object,"function"==typeof(b=void 0!==c.a&&c.a)&&b||Object])],h);var m,g,f,v,x,b},xIUs:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"div{font-family:Helvetica}.container{padding:5px 10px 5px 5px;width:100%}md-card{padding:15px;font-family:Helvetica}.custome-button{height:26px;font-size:13px;line-height:26px;border-radius:5px}.status-button{font-size:12px;line-height:26px;height:33px;width:19%;line-height:1.2;white-space:normal;border-radius:2px}.status-button:hover{background-color:#5b89ff!important;color:#fff}.current-status-button{background-color:#ffb75a;font-size:12px;line-height:26px;height:25px;border-radius:5px;color:#fff}.expand-search{border:1.5px solid #b0bcc1;width:100%;font-size:12px;padding:5px 26px 5px 12px;display:inline-block;border-radius:17px;box-sizing:border-box;outline:none}.expand-search:focus{outline:none;border:1.5px solid #03a9f4}.margins span{margin-left:5px}.custome-circle i{font-size:8px;margin-top:35%;margin-left:-30%;position:absolute}.custome-circle{font-size:9px;padding:1px 6px;border:1px solid;position:relative;border-radius:50%}",""]),e.exports=e.exports.toString()},xOQS:function(e,t,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),s=(n.n(r),n("JgC9")),a=n("N2o7"),l=(n.n(a),n("p5Ee"));n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n){var r=this;this.http=e,this._store=t,this.localStorageService=n,this.defaultHeaders=new o.c,this.discardTrackerTrip=new i.EventEmitter,this.updateTrackerTrip=new i.EventEmitter,this.updateTrackerTripFromStop=new i.EventEmitter,this.confirmLocation=new i.EventEmitter,this.token="",this.token=this.localStorageService.get("AUTH_TOKEN"),this.discardTrackerTrip.subscribe(function(e){var t;"destination"==e.forEditPlace?t=l.a.SHIPMENT_PATH+"/discard/delivery":"pickup"==e.forEditPlace&&(t=l.a.SHIPMENT_PATH+"/discard/pickup"),console.log(t),console.log(e.discardObj),r.doDiscardTrip(t,e.discardObj).subscribe(function(e){},function(e){console.log(e)})}),this.updateTrackerTrip.subscribe(function(e){var t=l.a.SHIPMENT_PATH+"/update";console.log(t),console.log(e),r.doUpdateTrip(t,e).subscribe(function(e){},function(e){console.log(e)})}),this.updateTrackerTripFromStop.subscribe(function(e){var t;"destination"==e.forEditPlace?t=l.a.SHIPMENT_PATH+"/selectfromstop/delivery":"pickup"==e.forEditPlace&&(t=l.a.SHIPMENT_PATH+"/selectfromstop/pickup"),console.log(t),console.log(e.movementObj),r.doUpdateTripFromStop(t,e.movementObj).subscribe(function(e){console.log(e)},function(e){console.log(e)})}),this.confirmLocation.subscribe(function(e){var t;"Destination"==e.forConfirmPlace?t=l.a.SHIPMENT_PATH+"/missing/delivery":"Pickup"==e.forConfirmPlace&&(t=l.a.SHIPMENT_PATH+"/missing/pickup"),console.log(t),console.log(e.conObj),r.doConfirmLocation(t,e.conObj).subscribe(function(e){console.log(e)},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.doDiscardTrip=function(e,t){var n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var i="Bearer "+this.token;n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:t});return this.http.request(e,r).map(function(e){return console.log(e),e.json()})},e.prototype.doUpdateTrip=function(e,t){var n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var i="Bearer "+this.token;n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:t});return this.http.request(e,r).map(function(e){return e.json()})},e.prototype.doUpdateTripFromStop=function(e,t){var n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var i="Bearer "+this.token;n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:t});return this.http.request(e,r).map(function(e){return e.json()})},e.prototype.doConfirmLocation=function(e,t){var n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var i="Bearer "+this.token;n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:t});return this.http.request(e,r).map(function(e){return e.json()})},e}();p=c([n.i(i.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(m=void 0!==a.LocalStorageService&&a.LocalStorageService)&&m||Object])],p);var u,h,m},xnN9:function(e,t){e.exports='<div class="main">\n  <md-card>\n    <md-card-content>\n      <div>\n        <span>Add New Organisation here : </span>\n      </div>\n      <div>\n        <md-input-container style="width: 100%" >\n          <input placeholder="Organisation Name" type="text"  mdInput required [(ngModel)]="orgName">\n        </md-input-container>\n      </div>\n      <div>\n        <md-input-container style="width: 100%" >\n          <input placeholder="Organisation Id" type="text"  mdInput required [(ngModel)]="userOrgId">\n        </md-input-container>\n      </div>\n\n      <div>\n        <md-select  placeholder="Organisation Type"  style="width: 100%" floatPlaceholder="never"  [(ngModel)]="orgType">\n          <md-option  value="TRANSPORTER">TRANSPORTER</md-option>\n          <md-option  value="FLEET_OWNER">FLEET OWNER</md-option>\n          <md-option  value="FLEET_OWNER_AGENT">FLEET OWNER AGENT</md-option>\n        </md-select>\n      </div>\n\n      <div style="margin-top: 20px;text-align: right;">\n        \x3c!-- (click)="goToDashboard()" --\x3e\n        <button md-raised-button>CANCEL</button>\n        <button md-raised-button color="primary" (click)="addNewOrganisation()">ADD ORGANISATION</button>\n      </div>\n    </md-card-content>\n  </md-card>\n</div>\n'},xzyi:function(e,t,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),s=(n.n(r),n("JgC9")),a=n("p5Ee"),l=n("N2o7");n.n(l);n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n){var r=this;this.http=e,this._store=t,this.localStorgeService=n,this.defaultHeaders=new o.c,this.token="",this.getShipmentList=new i.EventEmitter,this.getShipmentDetail=new i.EventEmitter,this.createNewShipment=new i.EventEmitter,this.checkVehicle=new i.EventEmitter,this.switchShipmentDetail=new i.EventEmitter,this.token=this.localStorgeService.get("AUTH_TOKEN"),this.getShipmentList.subscribe(function(){var e=a.a.SHIPMENT_PATH+"/dashboard";console.log(e),r.getList(e).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?r._store.dispatch({type:"All_SHIPMENT_LIST",payload:{error:"",res:e.list}}):r._store.dispatch({type:"All_SHIPMENT_LIST",payload:{error:"X",errorMsg:"server error..."}})},function(e){console.log(e),console.log(e.json()),r._store.dispatch({type:"All_SHIPMENT_LIST",payload:{error:"X",errorMsg:"error occur "+e}})})}),this.getShipmentDetail.subscribe(function(e){var t=a.a.SHIPMENT_PATH+"/detail/"+e;console.log(t),r.getDetails(t).subscribe(function(e){console.log(e.detail),e.status>=200&&e.status<300?r._store.dispatch({type:"SHIPMENT_DETAIL",payload:{error:"",res:e.detail}}):r._store.dispatch({type:"SHIPMENT_DETAIL",payload:{error:"X",errorMsg:"server error..."}})},function(e){console.log(e),console.log(e.json()),r._store.dispatch({type:"SHIPMENT_DETAIL",payload:{error:"X",errorMsg:"error occur "+e}})})}),this.createNewShipment.subscribe(function(e){var t=a.a.SHIPMENT_PATH+"/create";console.log(t),r.createShipment(t,e).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?(r._store.dispatch({type:"NEW_SHIPMENT",payload:{error:"",res:e}}),setTimeout(function(){r.getShipmentList.emit()},1500)):r._store.dispatch({type:"NEW_SHIPMENT",payload:{error:"X",errorMsg:"server error..."}})},function(e){console.log(e.json()),r._store.dispatch({type:"NEW_SHIPMENT",payload:{error:"X",errorMsg:"error occur "+e}})})}),this.switchShipmentDetail.subscribe(function(e){var t=a.a.SHIPMENT_PATH+"/switch/trackmode";console.log(t),r.switchShipment(t,e).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?r._store.dispatch({type:"SWITCH_SHIPMENT",payload:{error:"",res:e}}):r._store.dispatch({type:"SWITCH_SHIPMENT",payload:{error:"X",errorMsg:"server error..."}})},function(e){console.log(e.json()),r._store.dispatch({type:"SWITCH_SHIPMENT",payload:{error:"X",errorMsg:"error occur "+e}})})}),this.checkVehicle.subscribe(function(e){var t=a.a.CHECK_VEHICLE+"?registrationNumber="+e;console.log(t),r.getVehicle(t,e).subscribe(function(e){console.log(e),e.status>=200&&e.status<300?r._store.dispatch({type:"CHECK_VEHICLE",payload:{error:"",res:e}}):r._store.dispatch({type:"CHECK_VEHICLE",payload:{error:"X",errorMsg:"server error..."}})},function(e){console.log(e),console.log(e.json()),r._store.dispatch({type:"CHECK_VEHICLE",payload:{error:"X",errorMsg:"error occur "+e}})})})}return e.prototype.ngOnDestroy=function(){},e.prototype.getList=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var n="Bearer "+this.token;t.set("authorization",n);var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){return console.log(e),e.json()})},e.prototype.getVehicle=function(e,t){var n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var i="Bearer "+this.token;n.set("authorization",i);var r=new o.d({method:o.e.Get,headers:n});return this.http.request(e,r).map(function(e){return console.log(e),e.json()})},e.prototype.switchShipment=function(e,t){var n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var i="Bearer "+this.token;n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:t});return this.http.request(e,r).map(function(e){return console.log(e),e.json()})},e.prototype.getDetails=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var n="Bearer "+this.token;t.set("authorization",n);var i=new o.d({method:o.e.Get,headers:t});return this.http.request(e,i).map(function(e){return console.log(e),e.json()})},e.prototype.createShipment=function(e,t){console.log(e),console.log(t);var n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var i="Bearer "+this.token;n.set("authorization",i);var r=new o.d({method:o.e.Post,headers:n,body:t});return this.http.request(e,r).map(function(e){return console.log(e),e.json()})},e.prototype.initialize=function(){this._store.dispatch({type:"NEW_SHIPMENT",payload:null})},e}();p=c([n.i(i.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==o.f&&o.f)&&u||Object,"function"==typeof(h=void 0!==s.b&&s.b)&&h||Object,"function"==typeof(m=void 0!==l.LocalStorageService&&l.LocalStorageService)&&m||Object])],p);var u,h,m},yTCF:function(e,t,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("N2o7"),s=(n.n(r),n("p5Ee")),a=n("JgC9");n.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,n){var r=this;this.http=e,this.localStorageService=t,this._store=n,this.PATH="http://tracknet.fretron.com",this.FREIGHT="http://tracknet.fretron.com",this.defaultHeaders=new o.c,this.unSub_searchName=null,this.waitForLastResp=!1,this.locationNameList=[],this.recentLocationList=[],this.isRecentAvailable=!1,this.locationAvailable=!1,this.isPrivateLocationAvailable=!1,this.isSearchClicked=!1,this.isFavouriteLocationAvailable=!1,this.isHideList=!0,this.clickFilter="PUBLIC",this.addTripFreightLocation=new i.EventEmitter,this.publicFreightLocation=new i.EventEmitter,this.recentFreightLocation=new i.EventEmitter,this.privateFreightLocation=new i.EventEmitter,this.favouriteFreightLocation=new i.EventEmitter,this.addFavouriteLocation=new i.EventEmitter,this.removeFavouriteFLocation=new i.EventEmitter,this.isDialogOpen=!1,this.unSub_customerDetails=null,this.onLocationPick=new i.EventEmitter,this.searchLocation=new i.EventEmitter,this.locationFromTemplate=new i.EventEmitter,this.token=this.localStorageService.get("AUTH_TOKEN"),this.unSub_customerDetails=n.select("customerDetails").subscribe(function(e){console.log(e),null!=e&&(r.orgId=e.customer.orgId)}),this.searchLocation.subscribe(function(e){var t=s.b.FERIGHT_LOCATION+"/search?type="+e.type+"&name="+e.name+"&geofenceType="+r.selected_value.type;r.searchLocationByName(t,name).subscribe(function(e){console.log(e),r.setLocationList(e)},function(e){console.log(e)})}),this.addTripFreightLocation.subscribe(function(e){console.log(e);var t=s.b.FERIGHT_LOCATION+"/locations/add";console.log(t),r.addFretLocation(e,t).subscribe(function(e){console.log(e),e.status},function(e){console.log(e)})}),this.publicFreightLocation.subscribe(function(e){r.publicFreight().subscribe(function(e){if(r.locationNameList=e.value,console.log(r.locationNameList),null!=r.locationNameList){console.log(r.locationNameList.length);for(var t=0;t<r.locationNameList.length;t++)r.locationNameList[t].isStared=!1}r.locationAvailable=!0,r.isPrivateLocationAvailable=!1,r.isFavouriteLocationAvailable=!1,console.log(r.locationNameList)},function(e){console.log(e)})}),this.recentFreightLocation.subscribe(function(e){r.recentFreight().subscribe(function(e){r.recentLocationList=e.value,r.recentLocationList.length>0&&(r.isRecentAvailable=!0,r.isPrivateLocationAvailable=!1,r.isFavouriteLocationAvailable=!1),console.log(r.recentLocationList)},function(e){console.log(e)})}),this.privateFreightLocation.subscribe(function(e){r.privateFreight().subscribe(function(e){if(console.log(e.value),r.locationNameList=e.value,r.locationNameList.length>0)for(var t=0;t<r.locationNameList.length;t++)r.locationNameList[t].isStared=!1;r.locationAvailable=!1,r.isRecentAvailable=!1,r.isPrivateLocationAvailable=!0,r.isFavouriteLocationAvailable=!1},function(e){console.log(e)})}),this.favouriteFreightLocation.subscribe(function(e){r.getFavouriteFreight().subscribe(function(e){console.log(e.value),r.locationNameList=e.value,r.isFavouriteLocationAvailable=!0,r.locationAvailable=!1,r.isRecentAvailable=!1,r.isPrivateLocationAvailable=!1},function(e){console.log(e)})}),this.addFavouriteLocation.subscribe(function(e){r.setFavouriteFreightLocation(e).subscribe(function(e){console.log(e)},function(e){console.log(e)})}),this.removeFavouriteFLocation.subscribe(function(e){r.removeFavouriteFreightLocation(e).subscribe(function(e){console.log(e)},function(e){console.log(e)})})}return e.prototype.ngOnDestroy=function(){},e.prototype.ngOnInit=function(){var e=this;console.log(this.pickerLocationType),this.selected_value=this.pickerLocationType;this.inputType;this.locationFromTemplate.subscribe(function(t){console.log(t.source),console.log(t.destination),console.log(e.inputType),"origin"==e.inputType&&(e.locationName=t.source),"destination"==e.inputType&&(e.locationName=t.destination)})},e.prototype.searchLocationByName=function(e,t){var n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var i="Bearer "+this.token;n.set("authorization",i);var r=new o.d({method:o.e.Get,headers:n});return this.http.request(e,r).map(function(e){if(console.log(e.status),console.log(e),200==e.status){return{status:e.status,data:e.json()}}})},e.prototype.setLocationList=function(e){if(console.log("setLocation"),console.log(e),null!=e&&200==e.status&&(console.log(e),this.waitForLastResp=!1,e.data.length>0)){for(var t=[],n=0;n<e.data.length;n++){var i={name:e.data[n].freightLocation.name,locObj:e.data[n]};t.push(i)}this.locationNameList=t,console.log(this.locationNameList)}},e.prototype.setFavouriteFreightLocation=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var n="Bearer "+this.token;t.set("authorization",n);var i=new o.d({method:o.e.Post,headers:t,body:e}),r=s.b.FERIGHT_LOCATION+"/favourite/add";return console.log(r),this.http.request(r,i).map(function(e){if(console.log(e.status),console.log(e.json()),200==e.status)return e.json()})},e.prototype.removeFavouriteFreightLocation=function(e){var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var n="Bearer "+this.token;t.set("authorization",n);var i=new o.d({method:o.e.Get,headers:t}),r=s.b.FERIGHT_LOCATION+"/favourite/remove?uuid="+e.favFreightLocation.uuid;return console.log(r),this.http.request(r,i).map(function(e){if(console.log(e.status),console.log(e.json()),200==e.status)return e.json()})},e.prototype.getFavouriteFreight=function(){var e=new o.c(this.defaultHeaders.toJSON());e.set("Content-Type","application/json");var t="Bearer "+this.token;e.set("authorization",t);var n=new o.d({method:o.e.Get,headers:e}),i=s.b.FERIGHT_LOCATION+"/get/favourite?geofenceType="+this.selected_value.type;return console.log(i),this.http.request(i,n).map(function(e){if(console.log(e.status),console.log(e.json()),200==e.status)return e.json()})},e.prototype.privateFreight=function(){var e=new o.c(this.defaultHeaders.toJSON());e.set("Content-Type","application/json");var t="Bearer "+this.token;e.set("authorization",t),console.log(e);var n=new o.d({method:o.e.Get,headers:e}),i=s.b.FERIGHT_LOCATION+"/get/private?geofenceType="+this.selected_value.type;return console.log(i),this.http.request(i,n).map(function(e){if(console.log(e.status),console.log(e),200==e.status)return e.json()})},e.prototype.recentFreight=function(){var e=new o.c(this.defaultHeaders.toJSON());e.set("Content-Type","application/json");var t="Bearer "+this.token;e.set("authorization",t);var n=new o.d({method:o.e.Get,headers:e}),i=s.b.FERIGHT_LOCATION+"/get/recent?geofenceType="+this.selected_value.type;return console.log(i),this.http.request(i,n).map(function(e){if(console.log(e.status),console.log(e),200==e.status)return e.json()})},e.prototype.publicFreight=function(){var e=new o.c(this.defaultHeaders.toJSON()),t="Bearer "+this.token;e.set("Content-Type","application/json"),e.set("authorization",t);var n=new o.d({method:o.e.Get,headers:e}),i=s.b.FERIGHT_LOCATION+"/get/public?geofenceType="+this.selected_value.type;return console.log(i),this.http.request(i,n).map(function(e){if(console.log(e.status),console.log(e.json()),200==e.status)return e.json()})},e.prototype.onFilterClick=function(e){this.isSearchClicked=!0,console.log(e);var t=new o.c(this.defaultHeaders.toJSON());t.set("Content-Type","application/json");var n="Bearer "+this.token;t.set("authorization",n),t.set("orgUuid",this.orgId);new o.d({method:o.e.Get,headers:t});"PUBLIC"===e&&(this.clickFilter="PUBLIC",this.recentFreightLocation.emit(),this.publicFreightLocation.emit()),"MYLOCATIONS"==e&&(this.clickFilter="MYLOCATIONS",this.privateFreightLocation.emit()),"FAVOURITES"==e&&(this.clickFilter="FAVOURITES",this.favouriteFreightLocation.emit())},e.prototype.searchName=function(e){this.waitForLastResp=!0,0==e.toString().length&&(this.waitForLastResp=!1),this.locationAvailable=!0;var t="public";this.isPrivateLocationAvailable&&(t="private"),this.isFavouriteLocationAvailable&&(t="fav"),this.searchLocation.emit({name:e,type:t})},e.prototype.getFreightLocationObject=function(e){var t="Public";this.isPrivateLocationAvailable&&(t="Private"),console.log(e),this.freightObject=JSON.parse(JSON.stringify(e)),this.locationName=this.freightObject.name;var n={type:t,address:this.freightObject.address,geofence:this.freightObject.geofence,material:[""],name:this.freightObject.name};console.log(n),this.setLocation(n),this.addTripFreightLocation.emit(n),this.isDialogOpen=!1,this.locationAvailable=!1},e.prototype.onAddLocation=function(){this.selected_value,this.isDialogOpen=!0,this.isPrivateLocationAvailable=!1,this.isSearchClicked=!1,this.isFavouriteLocationAvailable=!1},e.prototype.setLocation=function(e){var t={};console.log(e),null!=e.freightLocation||void 0!=e.freightLocation?(console.log("contains location Obj source"),t=e.freightLocation):(console.log("contains No freight location Obj source"),t=e),console.log(t.name),this.locationName=t.name;this.onLocationPick.emit(e);this.locationAvailable=!1,this.isSearchClicked=!1,this.isPrivateLocationAvailable=!1,this.isFavouriteLocationAvailable=!1,console.log(e)},e.prototype.onSelection=function(){console.log(this.selected_value),this.isDialogOpen=!0},e.prototype.hideList=function(e){this.isHideList=e},e.prototype.hideDropdownMenu=function(){var e=this;setTimeout(function(){e.isHideList&&(e.isSearchClicked=!1,e.locationAvailable=!1)},200)},e.prototype.addFretLocation=function(e,t){var n=new o.c(this.defaultHeaders.toJSON());n.set("Content-Type","application/json");var i="Bearer "+this.token;n.set("authorization",i),console.log(e);var r=new o.d({method:o.e.Post,headers:n,body:e});return this.http.request(t,r).map(function(e){if(200==e.status)return e.json()})},e.prototype.setFavouriteLocation=function(e){e.isStared=!0,this.addFavouriteLocation.emit(e),console.log(e)},e.prototype.removeFavouriteLocation=function(e){this.removeFavouriteFLocation.emit(e),this.favouriteFreightLocation.emit(),console.log(e)},e}();l([n.i(i.Output)(),c("design:type",Object)],d.prototype,"onLocationPick",void 0),l([n.i(i.ViewChild)("searchOrigin"),c("design:type","function"==typeof(p=void 0!==i.ElementRef&&i.ElementRef)&&p||Object)],d.prototype,"searchOrigineElementRef",void 0),l([n.i(i.ViewChild)("searchDestination"),c("design:type","function"==typeof(u=void 0!==i.ElementRef&&i.ElementRef)&&u||Object)],d.prototype,"searchDestElementRef",void 0),l([n.i(i.Input)(),c("design:type",Object)],d.prototype,"pickerLocationType",void 0),l([n.i(i.Input)(),c("design:type",Object)],d.prototype,"inputType",void 0),l([n.i(i.Input)(),c("design:type",Object)],d.prototype,"locationFromTemplate",void 0),d=l([n.i(i.Component)({selector:"app-freight-location-picker",template:n("88wI"),styles:[n("zyf0")]}),c("design:paramtypes",["function"==typeof(h=void 0!==o.f&&o.f)&&h||Object,"function"==typeof(m=void 0!==r.LocalStorageService&&r.LocalStorageService)&&m||Object,"function"==typeof(g=void 0!==a.b&&a.b)&&g||Object])],d);var p,u,h,m,g},zyf0:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".mycustomDialog-Location{position:fixed;z-index:999;padding-top:10%;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{position:relative;background-color:#fefefe;margin:auto;padding:0;border-radius:5px;border:1px solid #888;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.3);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;-webkit-animation-duration:.2s;animation-duration:.2s}.modal-header{font-family:Gotham-Rounded-Medium,Sans-Serif!important;font-size:16px;padding:5px 5px;background-color:#1e88e5;color:#fff;text-align:center}.button1{color:gray;line-height:40px;font-size:13px;font-weight:500;text-overflow:ellipsis;font-family:Arial,Helvetica,sans-serif}.button1 :focus{background-color:#5b89ff!important;color:#fff}ul{list-style:none;margin-left:-32px}li{border:1px solid #ddd;margin-top:-1px;background-color:#fff;padding:12px;text-decoration:none;color:#000;display:block;color:#333;font-size:14px}",""]),e.exports=e.exports.toString()},zzpy:function(e,t,n){"use strict";var i=n("/oeL");n.d(t,"a",function(){return r});var o=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=function(){function e(){}return e.prototype.transform=function(e,t){return void 0===t||void 0==t[1]||void 0==t[0]?[]:Array.isArray(e)?""==t[1]?e:(console.log(t),console.log(t),e.filter(function(e){return-1!=e._shipmentState[t[0]].toUpperCase().indexOf(t[1].toUpperCase())})):e},e}();r=o([n.i(i.Pipe)({name:"shipmentType",pure:!0})],r)}},[0]);